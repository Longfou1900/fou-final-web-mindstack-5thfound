(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function dT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Om={exports:{}},Hl={};var l0;function FA(){if(l0)return Hl;l0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var u0;function GA(){return u0||(u0=1,Om.exports=FA()),Om.exports}var S=GA(),Mm={exports:{}},we={};var c0;function QA(){if(c0)return we;c0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,U={};function te(M,J,ae){this.props=M,this.context=J,this.refs=U,this.updater=ae||j}te.prototype.isReactComponent={},te.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},te.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ie(){}ie.prototype=te.prototype;function ne(M,J,ae){this.props=M,this.context=J,this.refs=U,this.updater=ae||j}var ue=ne.prototype=new ie;ue.constructor=ne,Q(ue,te.prototype),ue.isPureReactComponent=!0;var Te=Array.isArray;function _e(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(M,J,ae){var ce=ae.ref;return{$$typeof:i,type:M,key:J,ref:ce!==void 0?ce:null,props:ae}}function x(M,J){return C(M.type,J,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function k(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return J[ae]})}var I=/\/+/g;function Ve(M,J){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):J.toString(36)}function Ce(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(_e,_e):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,J,ae,ce,be){var Ie=typeof M;(Ie==="undefined"||Ie==="boolean")&&(M=null);var Be=!1;if(M===null)Be=!0;else switch(Ie){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(M.$$typeof){case i:case e:Be=!0;break;case E:return Be=M._init,G(Be(M._payload),J,ae,ce,be)}}if(Be)return be=be(M),Be=ce===""?"."+Ve(M,0):ce,Te(be)?(ae="",Be!=null&&(ae=Be.replace(I,"$&/")+"/"),G(be,J,ae,"",function(Rs){return Rs})):be!=null&&(D(be)&&(be=x(be,ae+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(I,"$&/")+"/")+Be)),J.push(be)),1;Be=0;var Vt=ce===""?".":ce+":";if(Te(M))for(var lt=0;lt<M.length;lt++)ce=M[lt],Ie=Vt+Ve(ce,lt),Be+=G(ce,J,ae,Ie,be);else if(lt=P(M),typeof lt=="function")for(M=lt.call(M),lt=0;!(ce=M.next()).done;)ce=ce.value,Ie=Vt+Ve(ce,lt++),Be+=G(ce,J,ae,Ie,be);else if(Ie==="object"){if(typeof M.then=="function")return G(Ce(M),J,ae,ce,be);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Be}function re(M,J,ae){if(M==null)return M;var ce=[],be=0;return G(M,ce,"","",function(Ie){return J.call(ae,Ie,be++)}),ce}function de(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var De=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ge={map:re,forEach:function(M,J,ae){re(M,function(){J.apply(this,arguments)},ae)},count:function(M){var J=0;return re(M,function(){J++}),J},toArray:function(M){return re(M,function(J){return J})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return we.Activity=T,we.Children=ge,we.Component=te,we.Fragment=n,we.Profiler=o,we.PureComponent=ne,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,we.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},we.cache=function(M){return function(){return M.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(M,J,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=Q({},M.props),be=M.key;if(J!=null)for(Ie in J.key!==void 0&&(be=""+J.key),J)!R.call(J,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&J.ref===void 0||(ce[Ie]=J[Ie]);var Ie=arguments.length-2;if(Ie===1)ce.children=ae;else if(1<Ie){for(var Be=Array(Ie),Vt=0;Vt<Ie;Vt++)Be[Vt]=arguments[Vt+2];ce.children=Be}return C(M.type,be,ce)},we.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},we.createElement=function(M,J,ae){var ce,be={},Ie=null;if(J!=null)for(ce in J.key!==void 0&&(Ie=""+J.key),J)R.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=J[ce]);var Be=arguments.length-2;if(Be===1)be.children=ae;else if(1<Be){for(var Vt=Array(Be),lt=0;lt<Be;lt++)Vt[lt]=arguments[lt+2];be.children=Vt}if(M&&M.defaultProps)for(ce in Be=M.defaultProps,Be)be[ce]===void 0&&(be[ce]=Be[ce]);return C(M,Ie,be)},we.createRef=function(){return{current:null}},we.forwardRef=function(M){return{$$typeof:m,render:M}},we.isValidElement=D,we.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:de}},we.memo=function(M,J){return{$$typeof:g,type:M,compare:J===void 0?null:J}},we.startTransition=function(M){var J=N.T,ae={};N.T=ae;try{var ce=M(),be=N.S;be!==null&&be(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(_e,De)}catch(Ie){De(Ie)}finally{J!==null&&ae.types!==null&&(J.types=ae.types),N.T=J}},we.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},we.use=function(M){return N.H.use(M)},we.useActionState=function(M,J,ae){return N.H.useActionState(M,J,ae)},we.useCallback=function(M,J){return N.H.useCallback(M,J)},we.useContext=function(M){return N.H.useContext(M)},we.useDebugValue=function(){},we.useDeferredValue=function(M,J){return N.H.useDeferredValue(M,J)},we.useEffect=function(M,J){return N.H.useEffect(M,J)},we.useEffectEvent=function(M){return N.H.useEffectEvent(M)},we.useId=function(){return N.H.useId()},we.useImperativeHandle=function(M,J,ae){return N.H.useImperativeHandle(M,J,ae)},we.useInsertionEffect=function(M,J){return N.H.useInsertionEffect(M,J)},we.useLayoutEffect=function(M,J){return N.H.useLayoutEffect(M,J)},we.useMemo=function(M,J){return N.H.useMemo(M,J)},we.useOptimistic=function(M,J){return N.H.useOptimistic(M,J)},we.useReducer=function(M,J,ae){return N.H.useReducer(M,J,ae)},we.useRef=function(M){return N.H.useRef(M)},we.useState=function(M){return N.H.useState(M)},we.useSyncExternalStore=function(M,J,ae){return N.H.useSyncExternalStore(M,J,ae)},we.useTransition=function(){return N.H.useTransition()},we.version="19.2.4",we}var h0;function Vp(){return h0||(h0=1,Mm.exports=QA()),Mm.exports}var z=Vp();const cs=dT(z);var Vm={exports:{}},Fl={},km={exports:{}},Pm={};var f0;function YA(){return f0||(f0=1,(function(i){function e(G,re){var de=G.length;G.push(re);e:for(;0<de;){var De=de-1>>>1,ge=G[De];if(0<o(ge,re))G[De]=re,G[de]=ge,de=De;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var re=G[0],de=G.pop();if(de!==re){G[0]=de;e:for(var De=0,ge=G.length,M=ge>>>1;De<M;){var J=2*(De+1)-1,ae=G[J],ce=J+1,be=G[ce];if(0>o(ae,de))ce<ge&&0>o(be,ae)?(G[De]=be,G[ce]=de,De=ce):(G[De]=ae,G[J]=de,De=J);else if(ce<ge&&0>o(be,de))G[De]=be,G[ce]=de,De=ce;else break e}}return re}function o(G,re){var de=G.sortIndex-re.sortIndex;return de!==0?de:G.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,A=3,P=!1,j=!1,Q=!1,U=!1,te=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ue(G){for(var re=n(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=G)s(g),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(g)}}function Te(G){if(Q=!1,ue(G),!j)if(n(p)!==null)j=!0,_e||(_e=!0,k());else{var re=n(g);re!==null&&Ce(Te,re.startTime-G)}}var _e=!1,N=-1,R=5,C=-1;function x(){return U?!0:!(i.unstable_now()-C<R)}function D(){if(U=!1,_e){var G=i.unstable_now();C=G;var re=!0;try{e:{j=!1,Q&&(Q=!1,ie(N),N=-1),P=!0;var de=A;try{t:{for(ue(G),T=n(p);T!==null&&!(T.expirationTime>G&&x());){var De=T.callback;if(typeof De=="function"){T.callback=null,A=T.priorityLevel;var ge=De(T.expirationTime<=G);if(G=i.unstable_now(),typeof ge=="function"){T.callback=ge,ue(G),re=!0;break t}T===n(p)&&s(p),ue(G)}else s(p);T=n(p)}if(T!==null)re=!0;else{var M=n(g);M!==null&&Ce(Te,M.startTime-G),re=!1}}break e}finally{T=null,A=de,P=!1}re=void 0}}finally{re?k():_e=!1}}}var k;if(typeof ne=="function")k=function(){ne(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ve=I.port2;I.port1.onmessage=D,k=function(){Ve.postMessage(null)}}else k=function(){te(D,0)};function Ce(G,re){N=te(function(){G(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(G){switch(A){case 1:case 2:case 3:var re=3;break;default:re=A}var de=A;A=re;try{return G()}finally{A=de}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=A;A=G;try{return re()}finally{A=de}},i.unstable_scheduleCallback=function(G,re,de){var De=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?De+de:De):de=De,G){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=de+ge,G={id:E++,callback:re,priorityLevel:G,startTime:de,expirationTime:ge,sortIndex:-1},de>De?(G.sortIndex=de,e(g,G),n(p)===null&&G===n(g)&&(Q?(ie(N),N=-1):Q=!0,Ce(Te,de-De))):(G.sortIndex=ge,e(p,G),j||P||(j=!0,_e||(_e=!0,k()))),G},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(G){var re=A;return function(){var de=A;A=re;try{return G.apply(this,arguments)}finally{A=de}}}})(Pm)),Pm}var d0;function KA(){return d0||(d0=1,km.exports=YA()),km.exports}var Lm={exports:{}},Wt={};var m0;function XA(){if(m0)return Wt;m0=1;var i=Vp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Wt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.2.4",Wt}var p0;function $A(){if(p0)return Lm.exports;p0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Lm.exports=XA(),Lm.exports}var g0;function WA(){if(g0)return Fl;g0=1;var i=KA(),e=Vp(),n=$A();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case te:return"Profiler";case U:return"StrictMode";case Te:return"Suspense";case _e:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case ne:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ue:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:Ve(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return Ve(t(r))}catch{}}return null}var Ce=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},De=[],ge=-1;function M(t){return{current:t}}function J(t){0>ge||(t.current=De[ge],De[ge]=null,ge--)}function ae(t,r){ge++,De[ge]=t.current,t.current=r}var ce=M(null),be=M(null),Ie=M(null),Be=M(null);function Vt(t,r){switch(ae(Ie,r),ae(be,t),ae(ce,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Dv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Dv(r),t=Ov(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ce),ae(ce,t)}function lt(){J(ce),J(be),J(Ie)}function Rs(t){t.memoizedState!==null&&ae(Be,t);var r=ce.current,a=Ov(r,t.type);r!==a&&(ae(be,t),ae(ce,a))}function ba(t){be.current===t&&(J(ce),J(be)),Be.current===t&&(J(Be),jl._currentValue=de)}var Sa,wa;function ci(t){if(Sa===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Sa=r&&r[1]||"",wa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sa+t+wa}var jo=!1;function xs(t,r){if(!t||jo)return"";jo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var F=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){F=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){F=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var O=_.split(`
`),H=b.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===H.length)for(l=O.length-1,f=H.length-1;1<=l&&0<=f&&O[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==H[f]){var X=`
`+O[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{jo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ci(a):""}function zo(t,r){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return t.child!==r&&r!==null?ci("Suspense Fallback"):ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return xs(t.type,!1);case 11:return xs(t.type.render,!1);case 1:return xs(t.type,!0);case 31:return ci("Activity");default:return""}}function Bo(t){try{var r="",a=null;do r+=zo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,kt=i.unstable_scheduleCallback,Ar=i.unstable_cancelCallback,Vf=i.unstable_shouldYield,Pu=i.unstable_requestPaint,rn=i.unstable_now,Cs=i.unstable_getCurrentPriorityLevel,qo=i.unstable_ImmediatePriority,Ho=i.unstable_UserBlockingPriority,Rr=i.unstable_NormalPriority,kf=i.unstable_LowPriority,Lu=i.unstable_IdlePriority,Uu=i.log,ju=i.unstable_setDisableYieldValue,Gn=null,qt=null;function In(t){if(typeof Uu=="function"&&ju(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Gn,t)}catch{}}var gt=Math.clz32?Math.clz32:Bu,zu=Math.log,Aa=Math.LN2;function Bu(t){return t>>>=0,t===0?32:31-(zu(t)/Aa|0)|0}var hi=256,Is=262144,St=4194304;function fi(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=fi(l):(_&=b,_!==0?f=fi(_):a||(a=b&~t,a!==0&&(f=fi(a))))):(b=l&~d,b!==0?f=fi(b):_!==0?f=fi(_):a||(a=l&~t,a!==0&&(f=fi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Qn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Pf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qu(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function mi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ns(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-gt(a),Z=1<<X;b[X]=0,O[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var K=F[X];K!==null&&(K.lane&=-536870913)}a&=~Z}l!==0&&Ds(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Ds(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-gt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Fo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-gt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Go(t,r){var a=r&-r;return a=(a&42)!==0?1:Os(a),(a&(t.suspendedLanes|r))!==0?0:a}function Os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:t0(t.type))}function Yn(t,r){var a=re.p;try{return re.p=t,r()}finally{re.p=a}}var Kn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Kn,Ut="__reactProps$"+Kn,pi="__reactContainer$"+Kn,Ra="__reactEvents$"+Kn,Uf="__reactListeners$"+Kn,Fu="__reactHandles$"+Kn,Gu="__reactResources$"+Kn,gi="__reactMarker$"+Kn;function xa(t){delete t[wt],delete t[Ut],delete t[Ra],delete t[Uf],delete t[Fu]}function yi(t){var r=t[wt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[pi]||a[wt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=jv(t);t!==null;){if(a=t[wt])return a;t=jv(t)}return r}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[wt]||t[pi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function _n(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function _i(t){var r=t[Gu];return r||(r=t[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function At(t){t[gi]=!0}var Qo=new Set,Yo={};function vi(t,r){Ei(t,r),Ei(t+"Capture",r)}function Ei(t,r){for(Yo[t]=r,t=0;t<r.length;t++)Qo.add(r[t])}var Ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},$o={};function Qu(t){return bt.call($o,t)?!0:bt.call(Xo,t)?!1:Ko.test(t)?$o[t]=!0:(Xo[t]=!0,!1)}function Ca(t,r,a){if(Qu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function vn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Rt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Wo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ke(t){if(!t._valueTracker){var r=xr(t)?"checked":"value";t._valueTracker=Wo(t,r,""+t[r])}}function Ms(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=xr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vs=/[\n"\\]/g;function ln(t){return t.replace(Vs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ia(t,r,a,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+jt(r)):t.value!==""+jt(r)&&(t.value=""+jt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Jo(t,_,jt(r)):a!=null?Jo(t,_,jt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+jt(b):t.removeAttribute("name")}function Yu(t,r,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ke(t);return}a=a!=null?""+jt(a):"",r=r!=null?""+jt(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Jo(t,r,a){r==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Cr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Ku(t,r,a){if(r!=null&&(r=""+jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+jt(a):""}function Ir(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=jt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function un(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Xu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function el(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Zo(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Zo(t,d,r[d])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(t){return Nr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var tl=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dr=null,bi=null;function ks(t){var r=Nn(t);if(r&&(t=r.stateNode)){var a=t[Ut]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ia(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Ut]||null;if(!f)throw Error(s(90));Ia(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ms(l)}break e;case"textarea":Ku(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Cr(t,!!a.multiple,r,!1)}}}var Oa=!1;function Or(t,r,a){if(Oa)return t(r,a);Oa=!0;try{var l=t(r);return l}finally{if(Oa=!1,(Dr!==null||bi!==null)&&(Hc(),Dr&&(r=Dr,t=bi,bi=Dr=null,ks(r),t)))for(r=0;r<t.length;r++)ks(t[r])}}function $n(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(On)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Ps=!1}var Si=null,nl=null,Ls=null;function il(){if(Ls)return Ls;var t,r=nl,a=r.length,l,f="value"in Si?Si.value:Si.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Ls=f.slice(t,1<l?1-l:void 0)}function Us(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function Wn(){return!1}function Ht(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ki:Wn,this.isPropagationStopped=Wn,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),r}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Ht(Xi),Mr=T({},Xi,{view:0,detail:0}),rl=Ht(Mr),Vr,Ma,Ai,Va=T({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Vr=t.screenX-Ai.screenX,Ma=t.screenY-Ai.screenY):Ma=Vr=0,Ai=t),Vr)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),sl=Ht(Va),js=T({},Va,{dataTransfer:0}),Wu=Ht(js),Ju=T({},Mr,{relatedTarget:0}),zs=Ht(Ju),al=T({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Zu=Ht(al),ka=T({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ec=Ht(ka),tc=T({},Xi,{data:0}),Ri=Ht(tc),nc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=rc[t])?!!r[t]:!1}function kr(){return sc}var sn=T({},Mr,{key:function(t){if(t.key){var r=nc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ic[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return t.type==="keypress"?Us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ac=Ht(sn),oc=T({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Ht(oc),c=T({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),y=Ht(c),v=T({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ht(v),B=T({},Va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Ht(B),se=T({},Xi,{newState:0,oldState:0}),Re=Ht(se),yt=[9,13,27,32],Ge=On&&"CompositionEvent"in window,ut=null;On&&"documentMode"in document&&(ut=document.documentMode);var Mn=On&&"TextEvent"in window&&!ut,xi=On&&(!Ge||ut&&8<ut&&11>=ut),Jn=" ",Zn=!1;function Bs(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function mw(t,r){switch(t){case"compositionend":return Pa(r);case"keypress":return r.which!==32?null:(Zn=!0,Jn);case"textInput":return t=r.data,t===Jn&&Zn?null:t;default:return null}}function pw(t,r){if(La)return t==="compositionend"||!Ge&&Bs(t,r)?(t=il(),Ls=nl=Si=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return xi&&r.locale!=="ko"?null:r.data;default:return null}}var gw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!gw[t.type]:r==="textarea"}function Hg(t,r,a,l){Dr?bi?bi.push(l):bi=[l]:Dr=l,r=$c(r,"onChange"),0<r.length&&(a=new wi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var ol=null,ll=null;function yw(t){Av(t,0)}function lc(t){var r=_n(t);if(Ms(r))return t}function Fg(t,r){if(t==="change")return r}var Gg=!1;if(On){var jf;if(On){var zf="oninput"in document;if(!zf){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),zf=typeof Qg.oninput=="function"}jf=zf}else jf=!1;Gg=jf&&(!document.documentMode||9<document.documentMode)}function Yg(){ol&&(ol.detachEvent("onpropertychange",Kg),ll=ol=null)}function Kg(t){if(t.propertyName==="value"&&lc(ll)){var r=[];Hg(r,ll,t,Dn(t)),Or(yw,r)}}function _w(t,r,a){t==="focusin"?(Yg(),ol=r,ll=a,ol.attachEvent("onpropertychange",Kg)):t==="focusout"&&Yg()}function vw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lc(ll)}function Ew(t,r){if(t==="click")return lc(r)}function Tw(t,r){if(t==="input"||t==="change")return lc(r)}function bw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var En=typeof Object.is=="function"?Object.is:bw;function ul(t,r){if(En(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bt.call(r,f)||!En(t[f],r[f]))return!1}return!0}function Xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $g(t,r){var a=Xg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xg(a)}}function Wg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Wg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Jg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ti(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ti(t.document)}return r}function Bf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Sw=On&&"documentMode"in document&&11>=document.documentMode,Ua=null,qf=null,cl=null,Hf=!1;function Zg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hf||Ua==null||Ua!==Ti(l)||(l=Ua,"selectionStart"in l&&Bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=$c(qf,"onSelect"),0<l.length&&(r=new wi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ua)))}function qs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ja={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Ff={},ey={};On&&(ey=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Hs(t){if(Ff[t])return Ff[t];if(!ja[t])return t;var r=ja[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in ey)return Ff[t]=r[a];return t}var ty=Hs("animationend"),ny=Hs("animationiteration"),iy=Hs("animationstart"),ww=Hs("transitionrun"),Aw=Hs("transitionstart"),Rw=Hs("transitioncancel"),ry=Hs("transitionend"),sy=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gf.push("scrollEnd");function ei(t,r){sy.set(t,r),vi(r,[t])}var uc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],za=0,Qf=0;function cc(){for(var t=za,r=Qf=za=0;r<t;){var a=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var f=Vn[r];Vn[r++]=null;var d=Vn[r];if(Vn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&ay(a,f,d)}}function hc(t,r,a,l){Vn[za++]=t,Vn[za++]=r,Vn[za++]=a,Vn[za++]=l,Qf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Yf(t,r,a,l){return hc(t,r,a,l),fc(t)}function Fs(t,r){return hc(t,null,null,r),fc(t)}function ay(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-gt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function fc(t){if(50<Ol)throw Ol=0,nm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ba={};function xw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,r,a,l){return new xw(t,r,a,l)}function Kf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,r){var a=t.alternate;return a===null?(a=Tn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function oy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function dc(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")Kf(t)&&(_=1);else if(typeof t=="string")_=OA(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Tn(31,a,r,f),t.elementType=C,t.lanes=d,t;case Q:return Gs(a.children,f,d,r);case U:_=8,f|=24;break;case te:return t=Tn(12,a,r,f|2),t.elementType=te,t.lanes=d,t;case Te:return t=Tn(13,a,r,f),t.elementType=Te,t.lanes=d,t;case _e:return t=Tn(19,a,r,f),t.elementType=_e,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:_=10;break e;case ie:_=9;break e;case ue:_=11;break e;case N:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Tn(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Gs(t,r,a,l){return t=Tn(7,t,l,r),t.lanes=a,t}function Xf(t,r,a){return t=Tn(6,t,null,r),t.lanes=a,t}function ly(t){var r=Tn(18,null,null,0);return r.stateNode=t,r}function $f(t,r,a){return r=Tn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var uy=new WeakMap;function kn(t,r){if(typeof t=="object"&&t!==null){var a=uy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Bo(r)},uy.set(t,r),r)}return{value:t,source:r,stack:Bo(r)}}var qa=[],Ha=0,mc=null,hl=0,Pn=[],Ln=0,Pr=null,Ci=1,Ii="";function Ji(t,r){qa[Ha++]=hl,qa[Ha++]=mc,mc=t,hl=r}function cy(t,r,a){Pn[Ln++]=Ci,Pn[Ln++]=Ii,Pn[Ln++]=Pr,Pr=t;var l=Ci;t=Ii;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var d=32-gt(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ci=1<<32-gt(r)+f|a<<f|l,Ii=d+t}else Ci=1<<d|a<<f|l,Ii=t}function Wf(t){t.return!==null&&(Ji(t,1),cy(t,1,0))}function Jf(t){for(;t===mc;)mc=qa[--Ha],qa[Ha]=null,hl=qa[--Ha],qa[Ha]=null;for(;t===Pr;)Pr=Pn[--Ln],Pn[Ln]=null,Ii=Pn[--Ln],Pn[Ln]=null,Ci=Pn[--Ln],Pn[Ln]=null}function hy(t,r){Pn[Ln++]=Ci,Pn[Ln++]=Ii,Pn[Ln++]=Pr,Ci=r.id,Ii=r.overflow,Pr=t}var Ft=null,st=null,ze=!1,Lr=null,Un=!1,Zf=Error(s(519));function Ur(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(kn(r,t)),Zf}function fy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[wt]=t,r[Ut]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Vl.length;a++)Me(Vl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Yu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Ir(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Iv(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=Xn),r=!0):r=!1,r||Ur(t,!0)}function dy(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ft=Ft.return}}function Fa(t){if(t!==Ft)return!1;if(!ze)return dy(t),ze=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ym(t.type,t.memoizedProps)),a=!a),a&&st&&Ur(t),dy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=Uv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=Uv(t)}else r===27?(r=st,Jr(t.type)?(t=bm,bm=null,st=t):st=r):st=Ft?zn(t.stateNode.nextSibling):null;return!0}function Qs(){st=Ft=null,ze=!1}function ed(){var t=Lr;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Lr=null),t}function fl(t){Lr===null?Lr=[t]:Lr.push(t)}var td=M(null),Ys=null,Zi=null;function jr(t,r,a){ae(td,r._currentValue),r._currentValue=a}function er(t){t._currentValue=td.current,J(td)}function nd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function id(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var O=0;O<r.length;O++)if(b.context===r[O]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),nd(d.return,a,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),nd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ga(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;En(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===Be.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}f=f.return}t!==null&&id(r,t,a,l),r.flags|=262144}function pc(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ks(t){Ys=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return my(Ys,t)}function gc(t,r){return Ys===null&&Ks(t),my(t,r)}function my(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Zi===null){if(t===null)throw Error(s(308));Zi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Zi=Zi.next=r;return a}var Cw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Iw=i.unstable_scheduleCallback,Nw=i.unstable_NormalPriority,xt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new Cw,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&Iw(Nw,function(){t.controller.abort()})}var ml=null,sd=0,Qa=0,Ya=null;function Dw(t,r){if(ml===null){var a=ml=[];sd=0,Qa=lm(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sd++,r.then(py,py),r}function py(){if(--sd===0&&ml!==null){Ya!==null&&(Ya.status="fulfilled");var t=ml;ml=null,Qa=0,Ya=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Ow(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var gy=G.S;G.S=function(t,r){Z_=rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Dw(t,r),gy!==null&&gy(t,r)};var Xs=M(null);function ad(){var t=Xs.current;return t!==null?t:nt.pooledCache}function yc(t,r){r===null?ae(Xs,Xs.current):ae(Xs,r.pool)}function yy(){var t=ad();return t===null?null:{parent:xt._currentValue,pool:t}}var Ka=Error(s(460)),od=Error(s(474)),_c=Error(s(542)),vc={then:function(){}};function _y(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Xn,Xn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ty(t),t;default:if(typeof r.status=="string")r.then(Xn,Xn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ty(t),t}throw Ws=r,Ka}}function $s(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ws=a,Ka):a}}var Ws=null;function Ey(){if(Ws===null)throw Error(s(459));var t=Ws;return Ws=null,t}function Ty(t){if(t===Ka||t===_c)throw Error(s(483))}var Xa=null,pl=0;function Ec(t){var r=pl;return pl+=1,Xa===null&&(Xa=[]),vy(Xa,t,r)}function gl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Tc(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function by(t){function r(L,V){if(t){var q=L.deletions;q===null?(L.deletions=[V],L.flags|=16):q.push(V)}}function a(L,V){if(!t)return null;for(;V!==null;)r(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function f(L,V){return L=Wi(L,V),L.index=0,L.sibling=null,L}function d(L,V,q){return L.index=q,t?(q=L.alternate,q!==null?(q=q.index,q<V?(L.flags|=67108866,V):q):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,V,q,$){return V===null||V.tag!==6?(V=Xf(q,L.mode,$),V.return=L,V):(V=f(V,q),V.return=L,V)}function O(L,V,q,$){var me=q.type;return me===Q?X(L,V,q.props.children,$,q.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&$s(me)===V.type)?(V=f(V,q.props),gl(V,q),V.return=L,V):(V=dc(q.type,q.key,q.props,null,L.mode,$),gl(V,q),V.return=L,V)}function H(L,V,q,$){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=$f(q,L.mode,$),V.return=L,V):(V=f(V,q.children||[]),V.return=L,V)}function X(L,V,q,$,me){return V===null||V.tag!==7?(V=Gs(q,L.mode,$,me),V.return=L,V):(V=f(V,q),V.return=L,V)}function Z(L,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Xf(""+V,L.mode,q),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case P:return q=dc(V.type,V.key,V.props,null,L.mode,q),gl(q,V),q.return=L,q;case j:return V=$f(V,L.mode,q),V.return=L,V;case R:return V=$s(V),Z(L,V,q)}if(Ce(V)||k(V))return V=Gs(V,L.mode,q,null),V.return=L,V;if(typeof V.then=="function")return Z(L,Ec(V),q);if(V.$$typeof===ne)return Z(L,gc(L,V),q);Tc(L,V)}return null}function F(L,V,q,$){var me=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return me!==null?null:b(L,V,""+q,$);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case P:return q.key===me?O(L,V,q,$):null;case j:return q.key===me?H(L,V,q,$):null;case R:return q=$s(q),F(L,V,q,$)}if(Ce(q)||k(q))return me!==null?null:X(L,V,q,$,null);if(typeof q.then=="function")return F(L,V,Ec(q),$);if(q.$$typeof===ne)return F(L,V,gc(L,q),$);Tc(L,q)}return null}function K(L,V,q,$,me){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(q)||null,b(V,L,""+$,me);if(typeof $=="object"&&$!==null){switch($.$$typeof){case P:return L=L.get($.key===null?q:$.key)||null,O(V,L,$,me);case j:return L=L.get($.key===null?q:$.key)||null,H(V,L,$,me);case R:return $=$s($),K(L,V,q,$,me)}if(Ce($)||k($))return L=L.get(q)||null,X(V,L,$,me,null);if(typeof $.then=="function")return K(L,V,q,Ec($),me);if($.$$typeof===ne)return K(L,V,q,gc(V,$),me);Tc(V,$)}return null}function he(L,V,q,$){for(var me=null,He=null,fe=V,Ne=V=0,Pe=null;fe!==null&&Ne<q.length;Ne++){fe.index>Ne?(Pe=fe,fe=null):Pe=fe.sibling;var Fe=F(L,fe,q[Ne],$);if(Fe===null){fe===null&&(fe=Pe);break}t&&fe&&Fe.alternate===null&&r(L,fe),V=d(Fe,V,Ne),He===null?me=Fe:He.sibling=Fe,He=Fe,fe=Pe}if(Ne===q.length)return a(L,fe),ze&&Ji(L,Ne),me;if(fe===null){for(;Ne<q.length;Ne++)fe=Z(L,q[Ne],$),fe!==null&&(V=d(fe,V,Ne),He===null?me=fe:He.sibling=fe,He=fe);return ze&&Ji(L,Ne),me}for(fe=l(fe);Ne<q.length;Ne++)Pe=K(fe,L,Ne,q[Ne],$),Pe!==null&&(t&&Pe.alternate!==null&&fe.delete(Pe.key===null?Ne:Pe.key),V=d(Pe,V,Ne),He===null?me=Pe:He.sibling=Pe,He=Pe);return t&&fe.forEach(function(is){return r(L,is)}),ze&&Ji(L,Ne),me}function ye(L,V,q,$){if(q==null)throw Error(s(151));for(var me=null,He=null,fe=V,Ne=V=0,Pe=null,Fe=q.next();fe!==null&&!Fe.done;Ne++,Fe=q.next()){fe.index>Ne?(Pe=fe,fe=null):Pe=fe.sibling;var is=F(L,fe,Fe.value,$);if(is===null){fe===null&&(fe=Pe);break}t&&fe&&is.alternate===null&&r(L,fe),V=d(is,V,Ne),He===null?me=is:He.sibling=is,He=is,fe=Pe}if(Fe.done)return a(L,fe),ze&&Ji(L,Ne),me;if(fe===null){for(;!Fe.done;Ne++,Fe=q.next())Fe=Z(L,Fe.value,$),Fe!==null&&(V=d(Fe,V,Ne),He===null?me=Fe:He.sibling=Fe,He=Fe);return ze&&Ji(L,Ne),me}for(fe=l(fe);!Fe.done;Ne++,Fe=q.next())Fe=K(fe,L,Ne,Fe.value,$),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?Ne:Fe.key),V=d(Fe,V,Ne),He===null?me=Fe:He.sibling=Fe,He=Fe);return t&&fe.forEach(function(HA){return r(L,HA)}),ze&&Ji(L,Ne),me}function tt(L,V,q,$){if(typeof q=="object"&&q!==null&&q.type===Q&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case P:e:{for(var me=q.key;V!==null;){if(V.key===me){if(me=q.type,me===Q){if(V.tag===7){a(L,V.sibling),$=f(V,q.props.children),$.return=L,L=$;break e}}else if(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&$s(me)===V.type){a(L,V.sibling),$=f(V,q.props),gl($,q),$.return=L,L=$;break e}a(L,V);break}else r(L,V);V=V.sibling}q.type===Q?($=Gs(q.props.children,L.mode,$,q.key),$.return=L,L=$):($=dc(q.type,q.key,q.props,null,L.mode,$),gl($,q),$.return=L,L=$)}return _(L);case j:e:{for(me=q.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(L,V.sibling),$=f(V,q.children||[]),$.return=L,L=$;break e}else{a(L,V);break}else r(L,V);V=V.sibling}$=$f(q,L.mode,$),$.return=L,L=$}return _(L);case R:return q=$s(q),tt(L,V,q,$)}if(Ce(q))return he(L,V,q,$);if(k(q)){if(me=k(q),typeof me!="function")throw Error(s(150));return q=me.call(q),ye(L,V,q,$)}if(typeof q.then=="function")return tt(L,V,Ec(q),$);if(q.$$typeof===ne)return tt(L,V,gc(L,q),$);Tc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(L,V.sibling),$=f(V,q),$.return=L,L=$):(a(L,V),$=Xf(q,L.mode,$),$.return=L,L=$),_(L)):a(L,V)}return function(L,V,q,$){try{pl=0;var me=tt(L,V,q,$);return Xa=null,me}catch(fe){if(fe===Ka||fe===_c)throw fe;var He=Tn(29,fe,null,L.mode);return He.lanes=$,He.return=L,He}}}var Js=by(!0),Sy=by(!1),zr=!1;function ld(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ud(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=fc(t),ay(t,null,a),r}return hc(t,l,r,a),fc(t)}function yl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Fo(t,a)}}function cd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var hd=!1;function _l(){if(hd){var t=Ya;if(t!==null)throw t}}function vl(t,r,a,l){hd=!1;var f=t.updateQueue;zr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var O=b,H=O.next;O.next=null,_===null?d=H:_.next=H,_=O;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==_&&(b===null?X.firstBaseUpdate=H:b.next=H,X.lastBaseUpdate=O))}if(d!==null){var Z=f.baseState;_=0,X=H=O=null,b=d;do{var F=b.lane&-536870913,K=F!==b.lane;if(K?(ke&F)===F:(l&F)===F){F!==0&&F===Qa&&(hd=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=t,ye=b;F=r;var tt=a;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){Z=he.call(tt,Z,F);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,F=typeof he=="function"?he.call(tt,Z,F):he,F==null)break e;Z=T({},Z,F);break e;case 2:zr=!0}}F=b.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[F]:K.push(F))}else K={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(H=X=K,O=Z):X=X.next=K,_|=F;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;K=b,b=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);X===null&&(O=Z),f.baseState=O,f.firstBaseUpdate=H,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Yr|=_,t.lanes=_,t.memoizedState=Z}}function wy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Ay(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wy(a[t],r)}var $a=M(null),bc=M(0);function Ry(t,r){t=ur,ae(bc,t),ae($a,r),ur=t|r.baseLanes}function fd(){ae(bc,ur),ae($a,$a.current)}function dd(){ur=bc.current,J($a),J(bc)}var bn=M(null),jn=null;function Hr(t){var r=t.alternate;ae(_t,_t.current&1),ae(bn,t),jn===null&&(r===null||$a.current!==null||r.memoizedState!==null)&&(jn=t)}function md(t){ae(_t,_t.current),ae(bn,t),jn===null&&(jn=t)}function xy(t){t.tag===22?(ae(_t,_t.current),ae(bn,t),jn===null&&(jn=t)):Fr()}function Fr(){ae(_t,_t.current),ae(bn,bn.current)}function Sn(t){J(bn),jn===t&&(jn=null),J(_t)}var _t=M(0);function Sc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Em(a)||Tm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var tr=0,xe=null,Ze=null,Ct=null,wc=!1,Wa=!1,Zs=!1,Ac=0,El=0,Ja=null,Mw=0;function dt(){throw Error(s(321))}function pd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!En(t[a],r[a]))return!1;return!0}function gd(t,r,a,l,f,d){return tr=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=t===null||t.memoizedState===null?c_:Dd,Zs=!1,d=a(l,f),Zs=!1,Wa&&(d=Iy(r,a,l,f)),Cy(t),d}function Cy(t){G.H=Sl;var r=Ze!==null&&Ze.next!==null;if(tr=0,Ct=Ze=xe=null,wc=!1,El=0,Ja=null,r)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&pc(t)&&(It=!0))}function Iy(t,r,a,l){xe=t;var f=0;do{if(Wa&&(Ja=null),El=0,Wa=!1,25<=f)throw Error(s(301));if(f+=1,Ct=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=h_,d=r(a,l)}while(Wa);return d}function Vw(){var t=G.H,r=t.useState()[0];return r=typeof r.then=="function"?Tl(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(xe.flags|=1024),r}function yd(){var t=Ac!==0;return Ac=0,t}function _d(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function vd(t){if(wc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}wc=!1}tr=0,Ct=Ze=xe=null,Wa=!1,El=Ac=0,Ja=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?xe.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function vt(){if(Ze===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=Ct===null?xe.memoizedState:Ct.next;if(r!==null)Ct=r,Ze=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ct===null?xe.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var r=El;return El+=1,Ja===null&&(Ja=[]),t=vy(Ja,t,r),r=xe,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?c_:Dd),t}function xc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===ne)return Gt(t)}throw Error(s(438,String(t)))}function Ed(t){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Rc(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=x;return r.index++,a}function nr(t,r){return typeof r=="function"?r(t):r}function Cc(t){var r=vt();return Td(r,Ze,t)}function Td(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var b=_=null,O=null,H=r,X=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(ke&Z)===Z:(tr&Z)===Z){var F=H.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===Qa&&(X=!0);else if((tr&F)===F){H=H.next,F===Qa&&(X=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(b=O=Z,_=d):O=O.next=Z,xe.lanes|=F,Yr|=F;Z=H.action,Zs&&a(d,Z),d=H.hasEagerState?H.eagerState:a(d,Z)}else F={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(b=O=F,_=d):O=O.next=F,xe.lanes|=Z,Yr|=Z;H=H.next}while(H!==null&&H!==r);if(O===null?_=d:O.next=b,!En(d,t.memoizedState)&&(It=!0,X&&(a=Ya,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bd(t){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);En(d,r.memoizedState)||(It=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Ny(t,r,a){var l=xe,f=vt(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!En((Ze||f).memoizedState,a);if(_&&(f.memoizedState=a,It=!0),f=f.queue,Ad(My.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},Oy.bind(null,l,f,a,r),null),nt===null)throw Error(s(349));d||(tr&127)!==0||Dy(l,r,a)}return a}function Dy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=Rc(),xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Oy(t,r,a,l){r.value=a,r.getSnapshot=l,Vy(r)&&ky(t)}function My(t,r,a){return a(function(){Vy(r)&&ky(t)})}function Vy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!En(t,a)}catch{return!0}}function ky(t){var r=Fs(t,2);r!==null&&mn(r,t,2)}function Sd(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),Zs){In(!0);try{a()}finally{In(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:t},r}function Py(t,r,a,l){return t.baseState=a,Td(t,Ze,typeof l=="function"?l:nr)}function kw(t,r,a,l,f){if(Dc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Ly(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Ly(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=G.T,_={};G.T=_;try{var b=a(f,l),O=G.S;O!==null&&O(_,b),Uy(t,r,b)}catch(H){wd(t,r,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(f,l),Uy(t,r,d)}catch(H){wd(t,r,H)}}function Uy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jy(t,r,l)},function(l){return wd(t,r,l)}):jy(t,r,a)}function jy(t,r,a){r.status="fulfilled",r.value=a,zy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Ly(t,a)))}function wd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,zy(r),r=r.next;while(r!==l)}t.action=null}function zy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function By(t,r){return r}function qy(t,r){if(ze){var a=nt.formState;if(a!==null){e:{var l=xe;if(ze){if(st){t:{for(var f=st,d=Un;f.nodeType!==8;){if(!d){f=null;break t}if(f=zn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){st=zn(f.nextSibling),l=f.data==="F!";break e}}Ur(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:By,lastRenderedState:r},a.queue=l,a=o_.bind(null,xe,l),l.dispatch=a,l=Sd(!1),d=Nd.bind(null,xe,!1,l.queue),l=an(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=kw.bind(null,xe,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Hy(t){var r=vt();return Fy(r,Ze,t)}function Fy(t,r,a){if(r=Td(t,r,By)[0],t=Cc(nr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Tl(r)}catch(_){throw _===Ka?_c:_}else l=r;r=vt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,Za(9,{destroy:void 0},Pw.bind(null,f,a),null)),[l,d,t]}function Pw(t,r){t.action=r}function Gy(t){var r=vt(),a=Ze;if(a!==null)return Fy(r,a,t);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Za(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Rc(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Qy(){return vt().memoizedState}function Ic(t,r,a,l){var f=an();xe.flags|=t,f.memoizedState=Za(1|r,{destroy:void 0},a,l===void 0?null:l)}function Nc(t,r,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&pd(l,Ze.memoizedState.deps)?f.memoizedState=Za(r,d,a,l):(xe.flags|=t,f.memoizedState=Za(1|r,d,a,l))}function Yy(t,r){Ic(8390656,8,t,r)}function Ad(t,r){Nc(2048,8,t,r)}function Lw(t){xe.flags|=4;var r=xe.updateQueue;if(r===null)r=Rc(),xe.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Ky(t){var r=vt().memoizedState;return Lw({ref:r,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Xy(t,r){return Nc(4,2,t,r)}function $y(t,r){return Nc(4,4,t,r)}function Wy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Jy(t,r,a){a=a!=null?a.concat([t]):null,Nc(4,4,Wy.bind(null,r,t),a)}function Rd(){}function Zy(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&pd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function e_(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&pd(r,l[1]))return l[0];if(l=t(),Zs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,r],l}function xd(t,r,a){return a===void 0||(tr&1073741824)!==0&&(ke&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=tv(),xe.lanes|=t,Yr|=t,a)}function t_(t,r,a,l){return En(a,r)?a:$a.current!==null?(t=xd(t,a,l),En(t,r)||(It=!0),t):(tr&42)===0||(tr&1073741824)!==0&&(ke&261930)===0?(It=!0,t.memoizedState=a):(t=tv(),xe.lanes|=t,Yr|=t,r)}function n_(t,r,a,l,f){var d=re.p;re.p=d!==0&&8>d?d:8;var _=G.T,b={};G.T=b,Nd(t,!1,r,a);try{var O=f(),H=G.S;if(H!==null&&H(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=Ow(O,l);bl(t,r,X,Rn(t))}else bl(t,r,l,Rn(t))}catch(Z){bl(t,r,{then:function(){},status:"rejected",reason:Z},Rn())}finally{re.p=d,_!==null&&b.types!==null&&(_.types=b.types),G.T=_}}function Uw(){}function Cd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=i_(t).queue;n_(t,f,r,de,a===null?Uw:function(){return r_(t),a(l)})}function i_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:de},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function r_(t){var r=i_(t);r.next===null&&(r=t.alternate.memoizedState),bl(t,r.next.queue,{},Rn())}function Id(){return Gt(jl)}function s_(){return vt().memoizedState}function a_(){return vt().memoizedState}function jw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Rn();t=Br(a);var l=qr(r,t,a);l!==null&&(mn(l,r,a),yl(l,r,a)),r={cache:rd()},t.payload=r;return}r=r.return}}function zw(t,r,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Dc(t)?l_(r,a):(a=Yf(t,r,a,l),a!==null&&(mn(a,t,l),u_(a,r,l)))}function o_(t,r,a){var l=Rn();bl(t,r,a,l)}function bl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dc(t))l_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,En(b,_))return hc(t,r,f,0),nt===null&&cc(),!1}catch{}if(a=Yf(t,r,f,l),a!==null)return mn(a,t,l),u_(a,r,l),!0}return!1}function Nd(t,r,a,l){if(l={lane:2,revertLane:lm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Dc(t)){if(r)throw Error(s(479))}else r=Yf(t,a,l,2),r!==null&&mn(r,t,2)}function Dc(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function l_(t,r){Wa=wc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function u_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Fo(t,a)}}var Sl={readContext:Gt,use:xc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Sl.useEffectEvent=dt;var c_={readContext:Gt,use:xc,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Gt,useEffect:Yy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Ic(4194308,4,Wy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Ic(4194308,4,t,r)},useInsertionEffect:function(t,r){Ic(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(Zs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var f=a(r);if(Zs){In(!0);try{a(r)}finally{In(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=zw.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=Sd(t);var r=t.queue,a=o_.bind(null,xe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Rd,useDeferredValue:function(t,r){var a=an();return xd(a,t,r)},useTransition:function(){var t=Sd(!1);return t=n_.bind(null,xe,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=xe,f=an();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(ke&127)!==0||Dy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Yy(My.bind(null,l,d,t),[t]),l.flags|=2048,Za(9,{destroy:void 0},Oy.bind(null,l,d,a,r),null),a},useId:function(){var t=an(),r=nt.identifierPrefix;if(ze){var a=Ii,l=Ci;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ac++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Mw++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Id,useFormState:qy,useActionState:qy,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Nd.bind(null,xe,!0,a),a.dispatch=r,[t,r]},useMemoCache:Ed,useCacheRefresh:function(){return an().memoizedState=jw.bind(null,xe)},useEffectEvent:function(t){var r=an(),a={impl:t};return r.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Dd={readContext:Gt,use:xc,useCallback:Zy,useContext:Gt,useEffect:Ad,useImperativeHandle:Jy,useInsertionEffect:Xy,useLayoutEffect:$y,useMemo:e_,useReducer:Cc,useRef:Qy,useState:function(){return Cc(nr)},useDebugValue:Rd,useDeferredValue:function(t,r){var a=vt();return t_(a,Ze.memoizedState,t,r)},useTransition:function(){var t=Cc(nr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:Tl(t),r]},useSyncExternalStore:Ny,useId:s_,useHostTransitionStatus:Id,useFormState:Hy,useActionState:Hy,useOptimistic:function(t,r){var a=vt();return Py(a,Ze,t,r)},useMemoCache:Ed,useCacheRefresh:a_};Dd.useEffectEvent=Ky;var h_={readContext:Gt,use:xc,useCallback:Zy,useContext:Gt,useEffect:Ad,useImperativeHandle:Jy,useInsertionEffect:Xy,useLayoutEffect:$y,useMemo:e_,useReducer:bd,useRef:Qy,useState:function(){return bd(nr)},useDebugValue:Rd,useDeferredValue:function(t,r){var a=vt();return Ze===null?xd(a,t,r):t_(a,Ze.memoizedState,t,r)},useTransition:function(){var t=bd(nr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:Tl(t),r]},useSyncExternalStore:Ny,useId:s_,useHostTransitionStatus:Id,useFormState:Gy,useActionState:Gy,useOptimistic:function(t,r){var a=vt();return Ze!==null?Py(a,Ze,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ed,useCacheRefresh:a_};h_.useEffectEvent=Ky;function Od(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Md={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Rn(),f=Br(l);f.payload=r,a!=null&&(f.callback=a),r=qr(t,f,l),r!==null&&(mn(r,t,l),yl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Rn(),f=Br(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=qr(t,f,l),r!==null&&(mn(r,t,l),yl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Rn(),l=Br(a);l.tag=2,r!=null&&(l.callback=r),r=qr(t,l,a),r!==null&&(mn(r,t,a),yl(r,t,a))}};function f_(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!ul(a,l)||!ul(f,d):!0}function d_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Md.enqueueReplaceState(r,r.state,null)}function ea(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function m_(t){uc(t)}function p_(t){console.error(t)}function g_(t){uc(t)}function Oc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function y_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Vd(t,r,a){return a=Br(a),a.tag=3,a.payload={element:null},a.callback=function(){Oc(t,r)},a}function __(t){return t=Br(t),t.tag=3,t}function v_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){y_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){y_(r,a,l),typeof f!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Bw(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ga(r,a,f,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Fc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===vc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),sm(t,l,f)),!1;case 22:return a.flags|=65536,l===vc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),sm(t,l,f)),!1}throw Error(s(435,a.tag))}return sm(t,l,f),Fc(),!1}if(ze)return r=bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Zf&&(t=Error(s(422),{cause:l}),fl(kn(t,a)))):(l!==Zf&&(r=Error(s(423),{cause:l}),fl(kn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=kn(l,a),f=Vd(t.stateNode,l,f),cd(t,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),Dl===null?Dl=[d]:Dl.push(d),mt!==4&&(mt=2),r===null)return!0;l=kn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Vd(a.stateNode,l,t),cd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Kr===null||!Kr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=__(f),v_(f,t,a,l),cd(a,f),!1}a=a.return}while(a!==null);return!1}var kd=Error(s(461)),It=!1;function Qt(t,r,a,l){r.child=t===null?Sy(r,null,a,l):Js(r,t.child,a,l)}function E_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Ks(r),l=gd(t,r,a,_,d,f),b=yd(),t!==null&&!It?(_d(t,r,f),ir(t,r,f)):(ze&&b&&Wf(r),r.flags|=1,Qt(t,r,l,f),r.child)}function T_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Kf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,b_(t,r,d,l,f)):(t=dc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Hd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(_,l)&&t.ref===r.ref)return ir(t,r,f)}return r.flags|=1,t=Wi(d,l),t.ref=r.ref,t.return=r,r.child=t}function b_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(ul(d,l)&&t.ref===r.ref)if(It=!1,r.pendingProps=l=d,Hd(t,f))(t.flags&131072)!==0&&(It=!0);else return r.lanes=t.lanes,ir(t,r,f)}return Pd(t,r,a,l,f)}function S_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return w_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&yc(r,d!==null?d.cachePool:null),d!==null?Ry(r,d):fd(),xy(r);else return l=r.lanes=536870912,w_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(yc(r,d.cachePool),Ry(r,d),Fr(),r.memoizedState=null):(t!==null&&yc(r,null),fd(),Fr());return Qt(t,r,f,a),r.child}function wl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function w_(t,r,a,l,f){var d=ad();return d=d===null?null:{parent:xt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&yc(r,null),fd(),xy(r),t!==null&&Ga(t,r,l,!0),r.childLanes=f,null}function Mc(t,r){return r=kc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function A_(t,r,a){return Js(r,t.child,null,a),t=Mc(r,r.pendingProps),t.flags|=2,Sn(r),r.memoizedState=null,t}function qw(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Mc(r,l),r.lanes=536870912,wl(null,t);if(md(r),(t=st)?(t=Lv(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pr!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=ly(t),a.return=r,r.child=a,Ft=r,st=null)):t=null,t===null)throw Ur(r);return r.lanes=536870912,null}return Mc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(md(r),f)if(r.flags&256)r.flags&=-257,r=A_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(It||Ga(t,r,a,!1),f=(a&t.childLanes)!==0,It||f){if(l=nt,l!==null&&(_=Go(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Fs(t,_),mn(l,t,_),kd;Fc(),r=A_(t,r,a)}else t=d.treeContext,st=zn(_.nextSibling),Ft=r,ze=!0,Lr=null,Un=!1,t!==null&&hy(r,t),r=Mc(r,l),r.flags|=4096;return r}return t=Wi(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Vc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Pd(t,r,a,l,f){return Ks(r),a=gd(t,r,a,l,void 0,f),l=yd(),t!==null&&!It?(_d(t,r,f),ir(t,r,f)):(ze&&l&&Wf(r),r.flags|=1,Qt(t,r,a,f),r.child)}function R_(t,r,a,l,f,d){return Ks(r),r.updateQueue=null,a=Iy(r,l,a,f),Cy(t),l=yd(),t!==null&&!It?(_d(t,r,d),ir(t,r,d)):(ze&&l&&Wf(r),r.flags|=1,Qt(t,r,a,d),r.child)}function x_(t,r,a,l,f){if(Ks(r),r.stateNode===null){var d=Ba,_=a.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Md,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},ld(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):Ba,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Od(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Md.enqueueReplaceState(d,d.state,null),vl(r,l,d,f),_l(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,O=ea(a,b);d.props=O;var H=d.context,X=a.contextType;_=Ba,typeof X=="object"&&X!==null&&(_=Gt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==_)&&d_(r,d,l,_),zr=!1;var F=r.memoizedState;d.state=F,vl(r,l,d,f),_l(),H=r.memoizedState,b||F!==H||zr?(typeof Z=="function"&&(Od(r,a,Z,l),H=r.memoizedState),(O=zr||f_(r,a,O,l,F,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,ud(t,r),_=r.memoizedProps,X=ea(a,_),d.props=X,Z=r.pendingProps,F=d.context,H=a.contextType,O=Ba,typeof H=="object"&&H!==null&&(O=Gt(H)),b=a.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||F!==O)&&d_(r,d,l,O),zr=!1,F=r.memoizedState,d.state=F,vl(r,l,d,f),_l();var K=r.memoizedState;_!==Z||F!==K||zr||t!==null&&t.dependencies!==null&&pc(t.dependencies)?(typeof b=="function"&&(Od(r,a,b,l),K=r.memoizedState),(X=zr||f_(r,a,X,l,F,K,O)||t!==null&&t.dependencies!==null&&pc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=O,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Vc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Js(r,t.child,null,f),r.child=Js(r,null,a,f)):Qt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=ir(t,r,f),t}function C_(t,r,a,l){return Qs(),r.flags|=256,Qt(t,r,a,l),r.child}var Ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ud(t){return{baseLanes:t,cachePool:yy()}}function jd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=An),t}function I_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(ze){if(f?Hr(r):Fr(),(t=st)?(t=Lv(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pr!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=ly(t),a.return=r,r.child=a,Ft=r,st=null)):t=null,t===null)throw Ur(r);return Tm(t)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Fr(),f=r.mode,b=kc({mode:"hidden",children:b},f),l=Gs(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=Ud(a),l.childLanes=jd(t,_,a),r.memoizedState=Ld,wl(null,l)):(Hr(r),zd(r,b))}var O=t.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(d)r.flags&256?(Hr(r),r.flags&=-257,r=Bd(t,r,a)):r.memoizedState!==null?(Fr(),r.child=t.child,r.flags|=128,r=null):(Fr(),b=l.fallback,f=r.mode,l=kc({mode:"visible",children:l.children},f),b=Gs(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,Js(r,t.child,null,a),l=r.child,l.memoizedState=Ud(a),l.childLanes=jd(t,_,a),r.memoizedState=Ld,r=wl(null,l));else if(Hr(r),Tm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,fl({value:l,source:null,stack:null}),r=Bd(t,r,a)}else if(It||Ga(t,r,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=nt,_!==null&&(l=Go(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Fs(t,l),mn(_,t,l),kd;Em(b)||Fc(),r=Bd(t,r,a)}else Em(b)?(r.flags|=192,r.child=t.child,r=null):(t=O.treeContext,st=zn(b.nextSibling),Ft=r,ze=!0,Lr=null,Un=!1,t!==null&&hy(r,t),r=zd(r,l.children),r.flags|=4096);return r}return f?(Fr(),b=l.fallback,f=r.mode,O=t.child,H=O.sibling,l=Wi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,H!==null?b=Wi(H,b):(b=Gs(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,wl(null,l),l=r.child,b=t.child.memoizedState,b===null?b=Ud(a):(f=b.cachePool,f!==null?(O=xt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=yy(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=jd(t,_,a),r.memoizedState=Ld,wl(t.child,l)):(Hr(r),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function zd(t,r){return r=kc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function kc(t,r){return t=Tn(22,t,null,r),t.lanes=0,t}function Bd(t,r,a){return Js(r,t.child,null,a),t=zd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function N_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),nd(t.return,r,a)}function qd(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function D_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=_t.current,b=(_&2)!==0;if(b?(_=_&1|2,r.flags|=128):_&=1,ae(_t,_),Qt(t,r,l,a),l=ze?hl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N_(t,a,r);else if(t.tag===19)N_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Sc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),qd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Sc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}qd(r,!0,a,null,d,l);break;case"together":qd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ir(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Yr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Ga(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Wi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Hd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&pc(t)))}function Hw(t,r,a){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),jr(r,xt,t.memoizedState.cache),Qs();break;case 27:case 5:Rs(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:jr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,md(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Hr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?I_(t,r,a):(Hr(r),t=ir(t,r,a),t!==null?t.sibling:null);Hr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ga(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return D_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(_t,_t.current),l)break;return null;case 22:return r.lanes=0,S_(t,r,a,r.pendingProps);case 24:jr(r,xt,t.memoizedState.cache)}return ir(t,r,a)}function O_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)It=!0;else{if(!Hd(t,a)&&(r.flags&128)===0)return It=!1,Hw(t,r,a);It=(t.flags&131072)!==0}else It=!1,ze&&(r.flags&1048576)!==0&&cy(r,hl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=$s(r.elementType),r.type=t,typeof t=="function")Kf(t)?(l=ea(t,l),r.tag=1,r=x_(null,r,t,l,a)):(r.tag=0,r=Pd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ue){r.tag=11,r=E_(null,r,t,l,a);break e}else if(f===N){r.tag=14,r=T_(null,r,t,l,a);break e}}throw r=Ve(t)||t,Error(s(306,r,""))}}return r;case 0:return Pd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ea(l,r.pendingProps),x_(t,r,l,f,a);case 3:e:{if(Vt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,ud(t,r),vl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,jr(r,xt,l),l!==d.cache&&id(r,[xt],a,!0),_l(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=C_(t,r,l,a);break e}else if(l!==f){f=kn(Error(s(424)),r),fl(f),r=C_(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,st=zn(t.firstChild),Ft=r,ze=!0,Lr=null,Un=!0,a=Sy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qs(),l===f){r=ir(t,r,a);break e}Qt(t,r,l,a)}r=r.child}return r;case 26:return Vc(t,r),t===null?(a=Hv(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,t=r.pendingProps,l=Wc(Ie.current).createElement(a),l[wt]=r,l[Ut]=t,Yt(l,a,t),At(l),r.stateNode=l):r.memoizedState=Hv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Rs(r),t===null&&ze&&(l=r.stateNode=zv(r.type,r.pendingProps,Ie.current),Ft=r,Un=!0,f=st,Jr(r.type)?(bm=f,st=zn(l.firstChild)):st=f),Qt(t,r,r.pendingProps.children,a),Vc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ze&&((f=l=st)&&(l=vA(l,r.type,r.pendingProps,Un),l!==null?(r.stateNode=l,Ft=r,st=zn(l.firstChild),Un=!1,f=!0):f=!1),f||Ur(r)),Rs(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,ym(f,d)?l=null:_!==null&&ym(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=gd(t,r,Vw,null,null,a),jl._currentValue=f),Vc(t,r),Qt(t,r,l,a),r.child;case 6:return t===null&&ze&&((t=a=st)&&(a=EA(a,r.pendingProps,Un),a!==null?(r.stateNode=a,Ft=r,st=null,t=!0):t=!1),t||Ur(r)),null;case 13:return I_(t,r,a);case 4:return Vt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Js(r,null,l,a):Qt(t,r,l,a),r.child;case 11:return E_(t,r,r.type,r.pendingProps,a);case 7:return Qt(t,r,r.pendingProps,a),r.child;case 8:return Qt(t,r,r.pendingProps.children,a),r.child;case 12:return Qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,jr(r,r.type,l.value),Qt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ks(r),f=Gt(f),l=l(f),r.flags|=1,Qt(t,r,l,a),r.child;case 14:return T_(t,r,r.type,r.pendingProps,a);case 15:return b_(t,r,r.type,r.pendingProps,a);case 19:return D_(t,r,a);case 31:return qw(t,r,a);case 22:return S_(t,r,a,r.pendingProps);case 24:return Ks(r),l=Gt(xt),t===null?(f=ad(),f===null&&(f=nt,d=rd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},ld(r),jr(r,xt,f)):((t.lanes&a)!==0&&(ud(t,r),vl(r,null,null,a),_l()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),jr(r,xt,l)):(l=d.cache,jr(r,xt,l),l!==f.cache&&id(r,[xt],a,!0))),Qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function rr(t){t.flags|=4}function Fd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(sv())t.flags|=8192;else throw Ws=vc,od}else t.flags&=-16777217}function M_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Kv(r))if(sv())t.flags|=8192;else throw Ws=vc,od}function Pc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?qu():536870912,t.lanes|=r,io|=r)}function Al(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Fw(t,r,a){var l=r.pendingProps;switch(Jf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),er(xt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fa(r)?rr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ed())),at(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(rr(r),d!==null?(at(r),M_(r,d)):(at(r),Fd(r,f,null,l,a))):d?d!==t.memoizedState?(rr(r),at(r),M_(r,d)):(at(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&rr(r),at(r),Fd(r,f,t,l,a)),null;case 27:if(ba(r),a=Ie.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&rr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}t=ce.current,Fa(r)?fy(r):(t=zv(f,l,a),r.stateNode=t,rr(r))}return at(r),null;case 5:if(ba(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&rr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(d=ce.current,Fa(r))fy(r);else{var _=Wc(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[wt]=r,d[Ut]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Yt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rr(r)}}return at(r),Fd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&rr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ie.current,Fa(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Ft,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[wt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Iv(t.nodeValue,a)),t||Ur(r,!0)}else t=Wc(t).createTextNode(l),t[wt]=r,r.stateNode=t}return at(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Fa(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=r}else Qs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),t=!1}else a=ed(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Sn(r),r):(Sn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return at(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Fa(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[wt]=r}else Qs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),f=!1}else f=ed(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Sn(r),r):(Sn(r),null)}return Sn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Pc(r,r.updateQueue),at(r),null);case 4:return lt(),t===null&&fm(r.stateNode.containerInfo),at(r),null;case 10:return er(r.type),at(r),null;case 19:if(J(_t),l=r.memoizedState,l===null)return at(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Al(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Sc(t),d!==null){for(r.flags|=128,Al(l,!1),t=d.updateQueue,r.updateQueue=t,Pc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)oy(a,t),a=a.sibling;return ae(_t,_t.current&1|2),ze&&Ji(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&rn()>Bc&&(r.flags|=128,f=!0,Al(l,!1),r.lanes=4194304)}else{if(!f)if(t=Sc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Pc(r,t),Al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return at(r),null}else 2*rn()-l.renderingStartTime>Bc&&a!==536870912&&(r.flags|=128,f=!0,Al(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=_t.current,ae(_t,f?a&1|2:a&1),ze&&Ji(r,l.treeForkCount),t):(at(r),null);case 22:case 23:return Sn(r),dd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&Pc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&J(Xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),er(xt),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Gw(t,r){switch(Jf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return er(xt),lt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ba(r),null;case 31:if(r.memoizedState!==null){if(Sn(r),r.alternate===null)throw Error(s(340));Qs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Sn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Qs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return J(_t),null;case 4:return lt(),null;case 10:return er(r.type),null;case 22:case 23:return Sn(r),dd(),t!==null&&J(Xs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return er(xt),null;case 25:return null;default:return null}}function V_(t,r){switch(Jf(r),r.tag){case 3:er(xt),lt();break;case 26:case 27:case 5:ba(r);break;case 4:lt();break;case 31:r.memoizedState!==null&&Sn(r);break;case 13:Sn(r);break;case 19:J(_t);break;case 10:er(r.type);break;case 22:case 23:Sn(r),dd(),t!==null&&J(Xs);break;case 24:er(xt)}}function Rl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){$e(r,r.return,b)}}function Gr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var O=a,H=b;try{H()}catch(X){$e(f,O,X)}}}l=l.next}while(l!==d)}}catch(X){$e(r,r.return,X)}}function k_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Ay(r,a)}catch(l){$e(t,t.return,l)}}}function P_(t,r,a){a.props=ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,r,l)}}function xl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){$e(t,r,f)}}function Ni(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$e(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(t,r,f)}else a.current=null}function L_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$e(t,t.return,f)}}function Gd(t,r,a){try{var l=t.stateNode;dA(l,t.type,a,r),l[Ut]=r}catch(f){$e(t,t.return,f)}}function U_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Jr(t.type)||t.tag===4}function Qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Jr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Xn));else if(l!==4&&(l===27&&Jr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Yd(t,r,a),t=t.sibling;t!==null;)Yd(t,r,a),t=t.sibling}function Lc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Jr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Lc(t,r,a),t=t.sibling;t!==null;)Lc(t,r,a),t=t.sibling}function j_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Yt(r,l,a),r[wt]=t,r[Ut]=a}catch(d){$e(t,t.return,d)}}var sr=!1,Nt=!1,Kd=!1,z_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function Qw(t,r){if(t=t.containerInfo,pm=rh,t=Jg(t),Bf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,O=-1,H=0,X=0,Z=t,F=null;t:for(;;){for(var K;Z!==a||f!==0&&Z.nodeType!==3||(b=_+f),Z!==d||l!==0&&Z.nodeType!==3||(O=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(K=Z.firstChild)!==null;)F=Z,Z=K;for(;;){if(Z===t)break t;if(F===a&&++H===f&&(b=_),F===d&&++X===l&&(O=_),(K=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=K}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(gm={focusedElem:t,selectionRange:a},rh=!1,zt=r;zt!==null;)if(r=zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,zt=t;else for(;zt!==null;){switch(r=zt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=ea(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){$e(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)vm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,zt=t;break}zt=r.return}}function B_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:or(t,a),l&4&&Rl(5,a);break;case 1:if(or(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var f=ea(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&k_(a),l&512&&xl(a,a.return);break;case 3:if(or(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ay(t,r)}catch(_){$e(a,a.return,_)}}break;case 27:r===null&&l&4&&j_(a);case 26:case 5:or(t,a),r===null&&l&4&&L_(a),l&512&&xl(a,a.return);break;case 12:or(t,a);break;case 31:or(t,a),l&4&&F_(t,a);break;case 13:or(t,a),l&4&&G_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=tA.bind(null,a),TA(t,a))));break;case 22:if(l=a.memoizedState!==null||sr,!l){r=r!==null&&r.memoizedState!==null||Nt,f=sr;var d=Nt;sr=l,(Nt=r)&&!d?lr(t,a,(a.subtreeFlags&8772)!==0):or(t,a),sr=f,Nt=d}break;case 30:break;default:or(t,a)}}function q_(t){var r=t.alternate;r!==null&&(t.alternate=null,q_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&xa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,cn=!1;function ar(t,r,a){for(a=a.child;a!==null;)H_(t,r,a),a=a.sibling}function H_(t,r,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:Nt||Ni(a,r),ar(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ni(a,r);var l=ct,f=cn;Jr(a.type)&&(ct=a.stateNode,cn=!1),ar(t,r,a),Pl(a.stateNode),ct=l,cn=f;break;case 5:Nt||Ni(a,r);case 6:if(l=ct,f=cn,ct=null,ar(t,r,a),ct=l,cn=f,ct!==null)if(cn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){$e(a,r,d)}else try{ct.removeChild(a.stateNode)}catch(d){$e(a,r,d)}break;case 18:ct!==null&&(cn?(t=ct,kv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ho(t)):kv(ct,a.stateNode));break;case 4:l=ct,f=cn,ct=a.stateNode.containerInfo,cn=!0,ar(t,r,a),ct=l,cn=f;break;case 0:case 11:case 14:case 15:Gr(2,a,r),Nt||Gr(4,a,r),ar(t,r,a);break;case 1:Nt||(Ni(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&P_(a,r,l)),ar(t,r,a);break;case 21:ar(t,r,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,ar(t,r,a),Nt=l;break;default:ar(t,r,a)}}function F_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ho(t)}catch(a){$e(r,r.return,a)}}}function G_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ho(t)}catch(a){$e(r,r.return,a)}}function Yw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new z_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new z_),r;default:throw Error(s(435,t.tag))}}function Uc(t,r){var a=Yw(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=nA.bind(null,t,l);l.then(f,f)}})}function hn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Jr(b.type)){ct=b.stateNode,cn=!1;break e}break;case 5:ct=b.stateNode,cn=!1;break e;case 3:case 4:ct=b.stateNode.containerInfo,cn=!0;break e}b=b.return}if(ct===null)throw Error(s(160));H_(d,_,f),ct=null,cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Q_(r,t),r=r.sibling}var ti=null;function Q_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(r,t),fn(t),l&4&&(Gr(3,t,t.return),Rl(3,t),Gr(5,t,t.return));break;case 1:hn(r,t),fn(t),l&512&&(Nt||a===null||Ni(a,a.return)),l&64&&sr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ti;if(hn(r,t),fn(t),l&512&&(Nt||a===null||Ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gi]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Yt(d,l,a),d[wt]=t,At(d),l=d;break e;case"link":var _=Qv("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Qv("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,At(d),l=d}t.stateNode=l}else Yv(f,t.type,t.stateNode);else t.stateNode=Gv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Yv(f,t.type,t.stateNode):Gv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gd(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(r,t),fn(t),l&512&&(Nt||a===null||Ni(a,a.return)),a!==null&&l&4&&Gd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(r,t),fn(t),l&512&&(Nt||a===null||Ni(a,a.return)),t.flags&32){f=t.stateNode;try{un(f,"")}catch(he){$e(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Gd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Kd=!0);break;case 6:if(hn(r,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){$e(t,t.return,he)}}break;case 3:if(eh=null,f=ti,ti=Jc(r.containerInfo),hn(r,t),ti=f,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ho(r.containerInfo)}catch(he){$e(t,t.return,he)}Kd&&(Kd=!1,Y_(t));break;case 4:l=ti,ti=Jc(t.stateNode.containerInfo),hn(r,t),fn(t),ti=l;break;case 12:hn(r,t),fn(t);break;case 31:hn(r,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uc(t,l)));break;case 13:hn(r,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uc(t,l)));break;case 22:f=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,H=sr,X=Nt;if(sr=H||f,Nt=X||O,hn(r,t),Nt=X,sr=H,fn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||O||sr||Nt||ta(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=O.stateNode;var Z=O.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){$e(O,O.return,he)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(he){$e(O,O.return,he)}}}else if(r.tag===18){if(a===null){O=r;try{var K=O.stateNode;f?Pv(K,!0):Pv(O.stateNode,!1)}catch(he){$e(O,O.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Uc(t,a))));break;case 19:hn(r,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uc(t,l)));break;case 30:break;case 21:break;default:hn(r,t),fn(t)}}function fn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(U_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Qd(t);Lc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(un(_,""),a.flags&=-33);var b=Qd(t);Lc(t,b,_);break;case 3:case 4:var O=a.stateNode.containerInfo,H=Qd(t);Yd(t,H,O);break;default:throw Error(s(161))}}catch(X){$e(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Y_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Y_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function or(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)B_(t,r.alternate,r),r=r.sibling}function ta(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Gr(4,r,r.return),ta(r);break;case 1:Ni(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&P_(r,r.return,a),ta(r);break;case 27:Pl(r.stateNode);case 26:case 5:Ni(r,r.return),ta(r);break;case 22:r.memoizedState===null&&ta(r);break;case 30:ta(r);break;default:ta(r)}t=t.sibling}}function lr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:lr(f,d,a),Rl(4,d);break;case 1:if(lr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){$e(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)wy(O[f],b)}catch(H){$e(l,l.return,H)}}a&&_&64&&k_(d),xl(d,d.return);break;case 27:j_(d);case 26:case 5:lr(f,d,a),a&&l===null&&_&4&&L_(d),xl(d,d.return);break;case 12:lr(f,d,a);break;case 31:lr(f,d,a),a&&_&4&&F_(f,d);break;case 13:lr(f,d,a),a&&_&4&&G_(f,d);break;case 22:d.memoizedState===null&&lr(f,d,a),xl(d,d.return);break;case 30:break;default:lr(f,d,a)}r=r.sibling}}function Xd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&dl(a))}function $d(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&dl(t))}function ni(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)K_(t,r,a,l),r=r.sibling}function K_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ni(t,r,a,l),f&2048&&Rl(9,r);break;case 1:ni(t,r,a,l);break;case 3:ni(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&dl(t)));break;case 12:if(f&2048){ni(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){$e(r,r.return,O)}}else ni(t,r,a,l);break;case 31:ni(t,r,a,l);break;case 13:ni(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ni(t,r,a,l):Cl(t,r):d._visibility&2?ni(t,r,a,l):(d._visibility|=2,eo(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Xd(_,r);break;case 24:ni(t,r,a,l),f&2048&&$d(r.alternate,r);break;default:ni(t,r,a,l)}}function eo(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,b=a,O=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:eo(d,_,b,O,f),Rl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?eo(d,_,b,O,f):Cl(d,_):(X._visibility|=2,eo(d,_,b,O,f)),f&&H&2048&&Xd(_.alternate,_);break;case 24:eo(d,_,b,O,f),f&&H&2048&&$d(_.alternate,_);break;default:eo(d,_,b,O,f)}r=r.sibling}}function Cl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Cl(a,l),f&2048&&Xd(l.alternate,l);break;case 24:Cl(a,l),f&2048&&$d(l.alternate,l);break;default:Cl(a,l)}r=r.sibling}}var Il=8192;function to(t,r,a){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)X_(t,r,a),t=t.sibling}function X_(t,r,a){switch(t.tag){case 26:to(t,r,a),t.flags&Il&&t.memoizedState!==null&&MA(a,ti,t.memoizedState,t.memoizedProps);break;case 5:to(t,r,a);break;case 3:case 4:var l=ti;ti=Jc(t.stateNode.containerInfo),to(t,r,a),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Il,Il=16777216,to(t,r,a),Il=l):to(t,r,a));break;default:to(t,r,a)}}function $_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Nl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,J_(l,t)}$_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)W_(t),t=t.sibling}function W_(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&Gr(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,jc(t)):Nl(t);break;default:Nl(t)}}function jc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,J_(l,t)}$_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Gr(8,r,r.return),jc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,jc(r));break;default:jc(r)}t=t.sibling}}function J_(t,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Gr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,d=l.return;if(q_(l),l===a){zt=null;break e}if(f!==null){f.return=d,zt=f;break e}zt=d}}}var Kw={getCacheForType:function(t){var r=Gt(xt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Gt(xt).controller.signal}},Xw=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,Oe=null,ke=0,Xe=0,wn=null,Qr=!1,no=!1,Wd=!1,ur=0,mt=0,Yr=0,na=0,Jd=0,An=0,io=0,Dl=null,dn=null,Zd=!1,zc=0,Z_=0,Bc=1/0,qc=null,Kr=null,Pt=0,Xr=null,ro=null,cr=0,em=0,tm=null,ev=null,Ol=0,nm=null;function Rn(){return(Qe&2)!==0&&ke!==0?ke&-ke:G.T!==null?lm():Hu()}function tv(){if(An===0)if((ke&536870912)===0||ze){var t=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),An=t}else An=536870912;return t=bn.current,t!==null&&(t.flags|=32),An}function mn(t,r,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(so(t,0),$r(t,ke,An,!1)),Ns(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(na|=a),mt===4&&$r(t,ke,An,!1)),Di(t))}function nv(t,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Qn(t,r),f=l?Jw(t,r):rm(t,r,!0),d=l;do{if(f===0){no&&!l&&$r(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!$w(a)){f=rm(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=t;f=Dl;var O=b.current.memoizedState.isDehydrated;if(O&&(so(b,_).flags|=256),_=rm(b,_,!1),_!==2){if(Wd&&!O){b.errorRecoveryDisabledLanes|=d,na|=d,f=4;break e}d=dn,dn=f,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){so(t,0),$r(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:$r(l,r,An,!Qr);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=zc+300-rn(),10<f)){if($r(l,r,An,!Qr),di(l,0,!0)!==0)break e;cr=r,l.timeoutHandle=Mv(iv.bind(null,l,a,dn,qc,Zd,r,An,na,io,Qr,d,"Throttled",-0,0),f);break e}iv(l,a,dn,qc,Zd,r,An,na,io,Qr,d,null,-0,0)}}break}while(!0);Di(t)}function iv(t,r,a,l,f,d,_,b,O,H,X,Z,F,K){if(t.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},X_(r,d,Z);var he=(d&62914560)===d?zc-rn():(d&4194048)===d?Z_-rn():0;if(he=VA(Z,he),he!==null){cr=d,t.cancelPendingCommit=he(hv.bind(null,t,r,d,a,l,f,_,b,O,X,Z,null,F,K)),$r(t,d,_,!H);return}}hv(t,r,d,a,l,f,_,b,O)}function $w(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!En(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(t,r,a,l){r&=~Jd,r&=~na,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-gt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ds(t,a,r)}function Hc(){return(Qe&6)===0?(Ml(0),!1):!0}function im(){if(Oe!==null){if(Xe===0)var t=Oe.return;else t=Oe,Zi=Ys=null,vd(t),Xa=null,pl=0,t=Oe;for(;t!==null;)V_(t.alternate,t),t=t.return;Oe=null}}function so(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,gA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cr=0,im(),nt=t,Oe=a=Wi(t.current,null),ke=r,Xe=0,wn=null,Qr=!1,no=Qn(t,r),Wd=!1,io=An=Jd=na=Yr=mt=0,dn=Dl=null,Zd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-gt(l),d=1<<f;r|=t[f],l&=~d}return ur=r,cc(),a}function rv(t,r){xe=null,G.H=Sl,r===Ka||r===_c?(r=Ey(),Xe=3):r===od?(r=Ey(),Xe=4):Xe=r===kd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,Oe===null&&(mt=1,Oc(t,kn(r,t.current)))}function sv(){var t=bn.current;return t===null?!0:(ke&4194048)===ke?jn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===jn:!1}function av(){var t=G.H;return G.H=Sl,t===null?Sl:t}function ov(){var t=G.A;return G.A=Kw,t}function Fc(){mt=4,Qr||(ke&4194048)!==ke&&bn.current!==null||(no=!0),(Yr&134217727)===0&&(na&134217727)===0||nt===null||$r(nt,ke,An,!1)}function rm(t,r,a){var l=Qe;Qe|=2;var f=av(),d=ov();(nt!==t||ke!==r)&&(qc=null,so(t,r)),r=!1;var _=mt;e:do try{if(Xe!==0&&Oe!==null){var b=Oe,O=wn;switch(Xe){case 8:im(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(r=!0);var H=Xe;if(Xe=0,wn=null,ao(t,b,O,H),a&&no){_=0;break e}break;default:H=Xe,Xe=0,wn=null,ao(t,b,O,H)}}Ww(),_=mt;break}catch(X){rv(t,X)}while(!0);return r&&t.shellSuspendCounter++,Zi=Ys=null,Qe=l,G.H=f,G.A=d,Oe===null&&(nt=null,ke=0,cc()),_}function Ww(){for(;Oe!==null;)lv(Oe)}function Jw(t,r){var a=Qe;Qe|=2;var l=av(),f=ov();nt!==t||ke!==r?(qc=null,Bc=rn()+500,so(t,r)):no=Qn(t,r);e:do try{if(Xe!==0&&Oe!==null){r=Oe;var d=wn;t:switch(Xe){case 1:Xe=0,wn=null,ao(t,r,d,1);break;case 2:case 9:if(_y(d)){Xe=0,wn=null,uv(r);break}r=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Di(t)},d.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:_y(d)?(Xe=0,wn=null,uv(r)):(Xe=0,wn=null,ao(t,r,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var b=Oe;if(_?Kv(_):b.stateNode.complete){Xe=0,wn=null;var O=b.sibling;if(O!==null)Oe=O;else{var H=b.return;H!==null?(Oe=H,Gc(H)):Oe=null}break t}}Xe=0,wn=null,ao(t,r,d,5);break;case 6:Xe=0,wn=null,ao(t,r,d,6);break;case 8:im(),mt=6;break e;default:throw Error(s(462))}}Zw();break}catch(X){rv(t,X)}while(!0);return Zi=Ys=null,G.H=l,G.A=f,Qe=a,Oe!==null?0:(nt=null,ke=0,cc(),mt)}function Zw(){for(;Oe!==null&&!Vf();)lv(Oe)}function lv(t){var r=O_(t.alternate,t,ur);t.memoizedProps=t.pendingProps,r===null?Gc(t):Oe=r}function uv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=R_(a,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=R_(a,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:vd(r);default:V_(a,r),r=Oe=oy(r,ur),r=O_(a,r,ur)}t.memoizedProps=t.pendingProps,r===null?Gc(t):Oe=r}function ao(t,r,a,l){Zi=Ys=null,vd(r),Xa=null,pl=0;var f=r.return;try{if(Bw(t,f,r,a,ke)){mt=1,Oc(t,kn(a,t.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;mt=1,Oc(t,kn(a,t.current)),Oe=null;return}r.flags&32768?(ze||l===1?t=!0:no||(ke&536870912)!==0?t=!1:(Qr=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),cv(r,t)):Gc(r)}function Gc(t){var r=t;do{if((r.flags&32768)!==0){cv(r,Qr);return}t=r.return;var a=Fw(r.alternate,r,ur);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);mt===0&&(mt=5)}function cv(t,r){do{var a=Gw(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);mt=6,Oe=null}function hv(t,r,a,l,f,d,_,b,O){t.cancelPendingCommit=null;do Qc();while(Pt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Qf,Lf(t,a,d,_,b,O),t===nt&&(Oe=nt=null,ke=0),ro=r,Xr=t,cr=a,em=d,tm=f,ev=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,iA(Rr,function(){return gv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,f=re.p,re.p=2,_=Qe,Qe|=4;try{Qw(t,r,a)}finally{Qe=_,re.p=f,G.T=l}}Pt=1,fv(),dv(),mv()}}function fv(){if(Pt===1){Pt=0;var t=Xr,r=ro,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=re.p;re.p=2;var f=Qe;Qe|=4;try{Q_(r,t);var d=gm,_=Jg(t.containerInfo),b=d.focusedElem,O=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Wg(b.ownerDocument.documentElement,b)){if(O!==null&&Bf(b)){var H=O.start,X=O.end;if(X===void 0&&(X=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(X,b.value.length);else{var Z=b.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var K=F.getSelection(),he=b.textContent.length,ye=Math.min(O.start,he),tt=O.end===void 0?ye:Math.min(O.end,he);!K.extend&&ye>tt&&(_=tt,tt=ye,ye=_);var L=$g(b,ye),V=$g(b,tt);if(L&&V&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var q=Z.createRange();q.setStart(L.node,L.offset),K.removeAllRanges(),ye>tt?(K.addRange(q),K.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),K.addRange(q))}}}}for(Z=[],K=b;K=K.parentNode;)K.nodeType===1&&Z.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var $=Z[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}rh=!!pm,gm=pm=null}finally{Qe=f,re.p=l,G.T=a}}t.current=r,Pt=2}}function dv(){if(Pt===2){Pt=0;var t=Xr,r=ro,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=re.p;re.p=2;var f=Qe;Qe|=4;try{B_(t,r.alternate,r)}finally{Qe=f,re.p=l,G.T=a}}Pt=3}}function mv(){if(Pt===4||Pt===3){Pt=0,Pu();var t=Xr,r=ro,a=cr,l=ev;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,ro=Xr=null,pv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Kr=null),Yi(a),r=r.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Gn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=G.T,f=re.p,re.p=2,G.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{G.T=r,re.p=f}}(cr&3)!==0&&Qc(),Di(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===nm?Ol++:(Ol=0,nm=t):Ol=0,Ml(0)}}function pv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,dl(r)))}function Qc(){return fv(),dv(),mv(),gv()}function gv(){if(Pt!==5)return!1;var t=Xr,r=em;em=0;var a=Yi(cr),l=G.T,f=re.p;try{re.p=32>a?32:a,G.T=null,a=tm,tm=null;var d=Xr,_=cr;if(Pt=0,ro=Xr=null,cr=0,(Qe&6)!==0)throw Error(s(331));var b=Qe;if(Qe|=4,W_(d.current),K_(d,d.current,_,a),Qe=b,Ml(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{re.p=f,G.T=l,pv(t,r)}}function yv(t,r,a){r=kn(a,r),r=Vd(t.stateNode,r,2),t=qr(t,r,2),t!==null&&(Ns(t,2),Di(t))}function $e(t,r,a){if(t.tag===3)yv(t,t,a);else for(;r!==null;){if(r.tag===3){yv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){t=kn(a,t),a=__(2),l=qr(r,a,2),l!==null&&(v_(a,l,r,t),Ns(l,2),Di(l));break}}r=r.return}}function sm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Xw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Wd=!0,f.add(a),t=eA.bind(null,t,r,a),r.then(t,t))}function eA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(ke&a)===a&&(mt===4||mt===3&&(ke&62914560)===ke&&300>rn()-zc?(Qe&2)===0&&so(t,0):Jd|=a,io===ke&&(io=0)),Di(t)}function _v(t,r){r===0&&(r=qu()),t=Fs(t,r),t!==null&&(Ns(t,r),Di(t))}function tA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),_v(t,a)}function nA(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),_v(t,a)}function iA(t,r){return kt(t,r)}var Yc=null,oo=null,am=!1,Kc=!1,om=!1,Wr=0;function Di(t){t!==oo&&t.next===null&&(oo===null?Yc=oo=t:oo=oo.next=t),Kc=!0,am||(am=!0,sA())}function Ml(t,r){if(!om&&Kc){om=!0;do for(var a=!1,l=Yc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,bv(l,d))}else d=ke,d=di(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,bv(l,d));l=l.next}while(a);om=!1}}function rA(){vv()}function vv(){Kc=am=!1;var t=0;Wr!==0&&pA()&&(t=Wr);for(var r=rn(),a=null,l=Yc;l!==null;){var f=l.next,d=Ev(l,r);d===0?(l.next=null,a===null?Yc=f:a.next=f,f===null&&(oo=a)):(a=l,(t!==0||(d&3)!==0)&&(Kc=!0)),l=f}Pt!==0&&Pt!==5||Ml(t),Wr!==0&&(Wr=0)}function Ev(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),b=1<<_,O=f[_];O===-1?((b&a)===0||(b&l)!==0)&&(f[_]=Pf(b,r)):O<=r&&(t.expiredLanes|=b),d&=~b}if(r=nt,a=ke,a=di(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ar(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Ar(l),Yi(a)){case 2:case 8:a=Ho;break;case 32:a=Rr;break;case 268435456:a=Lu;break;default:a=Rr}return l=Tv.bind(null,t),a=kt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Ar(l),t.callbackPriority=2,t.callbackNode=null,2}function Tv(t,r){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Qc()&&t.callbackNode!==a)return null;var l=ke;return l=di(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(nv(t,l,r),Ev(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Tv.bind(null,t):null)}function bv(t,r){if(Qc())return null;nv(t,r,!0)}function sA(){yA(function(){(Qe&6)!==0?kt(qo,rA):vv()})}function lm(){if(Wr===0){var t=Qa;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Wr=t}return Wr}function Sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Da(""+t)}function wv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function aA(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Sv((f[Ut]||null).action),_=l.submitter;_&&(r=(r=_[Ut]||null)?Sv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new wi("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Wr!==0){var O=_?wv(f,_):new FormData(f);Cd(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(b.preventDefault(),O=_?wv(f,_):new FormData(f),Cd(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var um=0;um<Gf.length;um++){var cm=Gf[um],oA=cm.toLowerCase(),lA=cm[0].toUpperCase()+cm.slice(1);ei(oA,"on"+lA)}ei(ty,"onAnimationEnd"),ei(ny,"onAnimationIteration"),ei(iy,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(ww,"onTransitionRun"),ei(Aw,"onTransitionStart"),ei(Rw,"onTransitionCancel"),ei(ry,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Av(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],O=b.instance,H=b.currentTarget;if(b=b.listener,O!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=H;try{d(f)}catch(X){uc(X)}f.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(b=l[_],O=b.instance,H=b.currentTarget,b=b.listener,O!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=H;try{d(f)}catch(X){uc(X)}f.currentTarget=null,d=O}}}}function Me(t,r){var a=r[Ra];a===void 0&&(a=r[Ra]=new Set);var l=t+"__bubble";a.has(l)||(Rv(r,t,2,!1),a.add(l))}function hm(t,r,a){var l=0;r&&(l|=4),Rv(a,t,l,r)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function fm(t){if(!t[Xc]){t[Xc]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(uA.has(a)||hm(a,!1,t),hm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Xc]||(r[Xc]=!0,hm("selectionchange",!1,r))}}function Rv(t,r,a,l){switch(t0(r)){case 2:var f=LA;break;case 8:f=UA;break;default:f=xm}a=f.bind(null,r,a,t),f=void 0,!Ps||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function dm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=yi(b),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Or(function(){var H=d,X=Dn(a),Z=[];e:{var F=sy.get(t);if(F!==void 0){var K=wi,he=t;switch(t){case"keypress":if(Us(a)===0)break e;case"keydown":case"keyup":K=ac;break;case"focusin":he="focus",K=zs;break;case"focusout":he="blur",K=zs;break;case"beforeblur":case"afterblur":K=zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case ty:case ny:case iy:K=Zu;break;case ry:K=w;break;case"scroll":case"scrollend":K=rl;break;case"wheel":K=Y;break;case"copy":case"cut":case"paste":K=ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=$i;break;case"toggle":case"beforetoggle":K=Re}var ye=(r&4)!==0,tt=!ye&&(t==="scroll"||t==="scrollend"),L=ye?F!==null?F+"Capture":null:F;ye=[];for(var V=H,q;V!==null;){var $=V;if(q=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||q===null||L===null||($=$n(V,L),$!=null&&ye.push(kl(V,$,q))),tt)break;V=V.return}0<ye.length&&(F=new K(F,he,null,a,X),Z.push({event:F,listeners:ye}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==tl&&(he=a.relatedTarget||a.fromElement)&&(yi(he)||he[pi]))break e;if((K||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,K?(he=a.relatedTarget||a.toElement,K=H,he=he?yi(he):null,he!==null&&(tt=u(he),ye=he.tag,he!==tt||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(K=null,he=H),K!==he)){if(ye=sl,$="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ye=$i,$="onPointerLeave",L="onPointerEnter",V="pointer"),tt=K==null?F:_n(K),q=he==null?F:_n(he),F=new ye($,V+"leave",K,a,X),F.target=tt,F.relatedTarget=q,$=null,yi(X)===H&&(ye=new ye(L,V+"enter",he,a,X),ye.target=q,ye.relatedTarget=tt,$=ye),tt=$,K&&he)t:{for(ye=cA,L=K,V=he,q=0,$=L;$;$=ye($))q++;$=0;for(var me=V;me;me=ye(me))$++;for(;0<q-$;)L=ye(L),q--;for(;0<$-q;)V=ye(V),$--;for(;q--;){if(L===V||V!==null&&L===V.alternate){ye=L;break t}L=ye(L),V=ye(V)}ye=null}else ye=null;K!==null&&xv(Z,F,K,ye,!1),he!==null&&tt!==null&&xv(Z,tt,he,ye,!0)}}e:{if(F=H?_n(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var He=Fg;else if(qg(F))if(Gg)He=Tw;else{He=vw;var fe=_w}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Na(H.elementType)&&(He=Fg):He=Ew;if(He&&(He=He(t,H))){Hg(Z,He,a,X);break e}fe&&fe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Jo(F,"number",F.value)}switch(fe=H?_n(H):window,t){case"focusin":(qg(fe)||fe.contentEditable==="true")&&(Ua=fe,qf=H,cl=null);break;case"focusout":cl=qf=Ua=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,Zg(Z,a,X);break;case"selectionchange":if(Sw)break;case"keydown":case"keyup":Zg(Z,a,X)}var Ne;if(Ge)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else La?Bs(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(xi&&a.locale!=="ko"&&(La||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&La&&(Ne=il()):(Si=X,nl="value"in Si?Si.value:Si.textContent,La=!0)),fe=$c(H,Pe),0<fe.length&&(Pe=new Ri(Pe,t,null,a,X),Z.push({event:Pe,listeners:fe}),Ne?Pe.data=Ne:(Ne=Pa(a),Ne!==null&&(Pe.data=Ne)))),(Ne=Mn?mw(t,a):pw(t,a))&&(Pe=$c(H,"onBeforeInput"),0<Pe.length&&(fe=new Ri("onBeforeInput","beforeinput",null,a,X),Z.push({event:fe,listeners:Pe}),fe.data=Ne)),aA(Z,t,H,a,X)}Av(Z,r)})}function kl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function $c(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=$n(t,a),f!=null&&l.unshift(kl(t,f,d)),f=$n(t,r),f!=null&&l.push(kl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function cA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xv(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var b=a,O=b.alternate,H=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||H===null||(O=H,f?(H=$n(a,d),H!=null&&_.unshift(kl(a,H,O))):f||(H=$n(a,d),H!=null&&_.push(kl(a,H,O)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var hA=/\r\n?/g,fA=/\u0000|\uFFFD/g;function Cv(t){return(typeof t=="string"?t:""+t).replace(hA,`
`).replace(fA,"")}function Iv(t,r){return r=Cv(r),Cv(t)===r}function et(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&un(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":el(t,l,d);break;case"data":if(r!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&et(t,r,"name",f.name,f,null),et(t,r,"formEncType",f.formEncType,f,null),et(t,r,"formMethod",f.formMethod,f,null),et(t,r,"formTarget",f.formTarget,f,null)):(et(t,r,"encType",f.encType,f,null),et(t,r,"method",f.method,f,null),et(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Ca(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$u.get(a)||a,Ca(t,a,l))}}function mm(t,r,a,l,f,d){switch(a){case"style":el(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ca(t,a,l)}}}function Yt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(t,r,d,_,a,null)}}f&&et(t,r,"srcSet",a.srcSet,a,null),l&&et(t,r,"src",a.src,a,null);return;case"input":Me("invalid",t);var b=d=_=f=null,O=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":_=X;break;case"checked":O=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:et(t,r,l,X,a,null)}}Yu(t,d,b,O,H,_,f,!1);return;case"select":Me("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:et(t,r,f,b,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Cr(t,!!l,r,!1):a!=null&&Cr(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:et(t,r,_,b,a,null)}Ir(t,l,f,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,r,O,l,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Me(Vl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(t,r,H,l,a,null)}return;default:if(Na(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&mm(t,r,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&et(t,r,b,l,a,null))}function dA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,O=null,H=null,X=null;for(K in a){var Z=a[K];if(a.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=Z;default:l.hasOwnProperty(K)||et(t,r,K,null,l,Z)}}for(var F in l){var K=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(K!=null||Z!=null))switch(F){case"type":d=K;break;case"name":f=K;break;case"checked":H=K;break;case"defaultChecked":X=K;break;case"value":_=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==Z&&et(t,r,F,K,l,Z)}}Ia(t,_,b,O,H,X,d,f);return;case"select":K=_=b=F=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":K=O;default:l.hasOwnProperty(d)||et(t,r,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==O&&et(t,r,f,d,l,O)}r=b,a=_,l=K,F!=null?Cr(t,!!a,F,!1):!!l!=!!a&&(r!=null?Cr(t,!!a,r,!0):Cr(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:et(t,r,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":F=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&et(t,r,_,f,l,d)}Ku(t,F,K);return;case"option":for(var he in a)F=a[he],a.hasOwnProperty(he)&&F!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:et(t,r,he,null,l,F));for(O in l)F=l[O],K=a[O],l.hasOwnProperty(O)&&F!==K&&(F!=null||K!=null)&&(O==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":et(t,r,O,F,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)F=a[ye],a.hasOwnProperty(ye)&&F!=null&&!l.hasOwnProperty(ye)&&et(t,r,ye,null,l,F);for(H in l)if(F=l[H],K=a[H],l.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:et(t,r,H,F,l,K)}return;default:if(Na(r)){for(var tt in a)F=a[tt],a.hasOwnProperty(tt)&&F!==void 0&&!l.hasOwnProperty(tt)&&mm(t,r,tt,void 0,l,F);for(X in l)F=l[X],K=a[X],!l.hasOwnProperty(X)||F===K||F===void 0&&K===void 0||mm(t,r,X,F,l,K);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&et(t,r,L,null,l,F);for(Z in l)F=l[Z],K=a[Z],!l.hasOwnProperty(Z)||F===K||F==null&&K==null||et(t,r,Z,F,l,K)}function Nv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&Nv(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],H=O.startTime;if(H>b)break;var X=O.transferSize,Z=O.initiatorType;X&&Nv(Z)&&(O=O.responseEnd,_+=X*(O<b?1:(b-H)/(O-H)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pm=null,gm=null;function Wc(t){return t.nodeType===9?t:t.ownerDocument}function Dv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ov(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function ym(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var _m=null;function pA(){var t=window.event;return t&&t.type==="popstate"?t===_m?!1:(_m=t,!0):(_m=null,!1)}var Mv=typeof setTimeout=="function"?setTimeout:void 0,gA=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,yA=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(t){return Vv.resolve(null).then(t).catch(_A)}:Mv;function _A(t){setTimeout(function(){throw t})}function Jr(t){return t==="head"}function kv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),ho(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Pl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Pl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[gi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Pl(t.ownerDocument.body);a=f}while(a);ho(r)}function Pv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function vm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vm(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function vA(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function EA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Lv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zn(t.nextSibling),t===null))return null;return t}function Em(t){return t.data==="$?"||t.data==="$~"}function Tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function TA(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var bm=null;function Uv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return zn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function jv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function zv(t,r,a){switch(r=Wc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Pl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);xa(t)}var Bn=new Map,Bv=new Set;function Jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hr=re.d;re.d={f:bA,r:SA,D:wA,C:AA,L:RA,m:xA,X:IA,S:CA,M:NA};function bA(){var t=hr.f(),r=Hc();return t||r}function SA(t){var r=Nn(t);r!==null&&r.tag===5&&r.type==="form"?r_(r):hr.r(t)}var lo=typeof document>"u"?null:document;function qv(t,r,a){var l=lo;if(l&&typeof r=="string"&&r){var f=ln(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Bv.has(f)||(Bv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Yt(r,"link",t),At(r),l.head.appendChild(r)))}}function wA(t){hr.D(t),qv("dns-prefetch",t,null)}function AA(t,r){hr.C(t,r),qv("preconnect",t,r)}function RA(t,r,a){hr.L(t,r,a);var l=lo;if(l&&t&&r){var f='link[rel="preload"][as="'+ln(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ln(a.imageSizes)+'"]')):f+='[href="'+ln(t)+'"]';var d=f;switch(r){case"style":d=uo(t);break;case"script":d=co(t)}Bn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Bn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ll(d))||r==="script"&&l.querySelector(Ul(d))||(r=l.createElement("link"),Yt(r,"link",t),At(r),l.head.appendChild(r)))}}function xA(t,r){hr.m(t,r);var a=lo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=co(t)}if(!Bn.has(d)&&(t=T({rel:"modulepreload",href:t},r),Bn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(d)))return}l=a.createElement("link"),Yt(l,"link",t),At(l),a.head.appendChild(l)}}}function CA(t,r,a){hr.S(t,r,a);var l=lo;if(l&&t){var f=_i(l).hoistableStyles,d=uo(t);r=r||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Ll(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Bn.get(d))&&Sm(t,a);var O=_=l.createElement("link");At(O),Yt(O,"link",t),O._p=new Promise(function(H,X){O.onload=H,O.onerror=X}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Zc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function IA(t,r){hr.X(t,r);var a=lo;if(a&&t){var l=_i(a).hoistableScripts,f=co(t),d=l.get(f);d||(d=a.querySelector(Ul(f)),d||(t=T({src:t,async:!0},r),(r=Bn.get(f))&&wm(t,r),d=a.createElement("script"),At(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function NA(t,r){hr.M(t,r);var a=lo;if(a&&t){var l=_i(a).hoistableScripts,f=co(t),d=l.get(f);d||(d=a.querySelector(Ul(f)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Bn.get(f))&&wm(t,r),d=a.createElement("script"),At(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Hv(t,r,a,l){var f=(f=Ie.current)?Jc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=uo(a.href),a=_i(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=uo(a.href);var d=_i(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Ll(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||DA(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=co(a),a=_i(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function uo(t){return'href="'+ln(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function Fv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function DA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Yt(r,"link",a),At(r),t.head.appendChild(r))}function co(t){return'[src="'+ln(t)+'"]'}function Ul(t){return"script[async]"+t}function Gv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return r.instance=l,At(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Yt(l,"style",f),Zc(l,a.precedence,t),r.instance=l;case"stylesheet":f=uo(a.href);var d=t.querySelector(Ll(f));if(d)return r.state.loading|=4,r.instance=d,At(d),d;l=Fv(a),(f=Bn.get(f))&&Sm(l,f),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),Yt(d,"link",l),r.state.loading|=4,Zc(d,a.precedence,t),r.instance=d;case"script":return d=co(a.src),(f=t.querySelector(Ul(d)))?(r.instance=f,At(f),f):(l=a,(f=Bn.get(d))&&(l=T({},a),wm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),At(f),Yt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Zc(l,a.precedence,t));return r.instance}function Zc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Sm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function wm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var eh=null;function Qv(t,r,a){if(eh===null){var l=new Map,f=eh=new Map;f.set(a,l)}else f=eh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[gi]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function Yv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function OA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function MA(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=uo(l.href),d=r.querySelector(Ll(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=th.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=r.ownerDocument||r,l=Fv(l),(f=Bn.get(f))&&Sm(l,f),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),Yt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=th.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Am=0;function VA(t,r){return t.stylesheets&&t.count===0&&ih(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ih(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&Am===0&&(Am=62500*mA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ih(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Am?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function th(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ih(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nh=null;function ih(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nh=new Map,r.forEach(kA,t),nh=null,th.call(t))}function kA(t,r){if(!(r.state.loading&4)){var a=nh.get(t);if(a)var l=a.get(null);else{a=new Map,nh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=th.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var jl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function PA(t,r,a,l,f,d,_,b,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Xv(t,r,a,l,f,d,_,b,O,H,X,Z){return t=new PA(t,r,a,_,O,H,X,Z,b),r=1,d===!0&&(r|=24),d=Tn(3,null,null,r),t.current=d,d.stateNode=t,r=rd(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},ld(d),t}function $v(t){return t?(t=Ba,t):Ba}function Wv(t,r,a,l,f,d){f=$v(f),l.context===null?l.context=f:l.pendingContext=f,l=Br(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=qr(t,l,r),a!==null&&(mn(a,t,r),yl(a,t,r))}function Jv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Rm(t,r){Jv(t,r),(t=t.alternate)&&Jv(t,r)}function Zv(t){if(t.tag===13||t.tag===31){var r=Fs(t,67108864);r!==null&&mn(r,t,67108864),Rm(t,67108864)}}function e0(t){if(t.tag===13||t.tag===31){var r=Rn();r=Os(r);var a=Fs(t,r);a!==null&&mn(a,t,r),Rm(t,r)}}var rh=!0;function LA(t,r,a,l){var f=G.T;G.T=null;var d=re.p;try{re.p=2,xm(t,r,a,l)}finally{re.p=d,G.T=f}}function UA(t,r,a,l){var f=G.T;G.T=null;var d=re.p;try{re.p=8,xm(t,r,a,l)}finally{re.p=d,G.T=f}}function xm(t,r,a,l){if(rh){var f=Cm(l);if(f===null)dm(t,r,l,sh,a),n0(t,l);else if(zA(f,t,r,a,l))l.stopPropagation();else if(n0(t,l),r&4&&-1<jA.indexOf(t)){for(;f!==null;){var d=Nn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=fi(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var O=1<<31-gt(_);b.entanglements[1]|=O,_&=~O}Di(d),(Qe&6)===0&&(Bc=rn()+500,Ml(0))}}break;case 31:case 13:b=Fs(d,2),b!==null&&mn(b,d,2),Hc(),Rm(d,2)}if(d=Cm(l),d===null&&dm(t,r,l,sh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else dm(t,r,l,null,a)}}function Cm(t){return t=Dn(t),Im(t)}var sh=null;function Im(t){if(sh=null,t=yi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return sh=t,null}function t0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cs()){case qo:return 2;case Ho:return 8;case Rr:case kf:return 32;case Lu:return 268435456;default:return 32}default:return 32}}var Nm=!1,Zr=null,es=null,ts=null,zl=new Map,Bl=new Map,ns=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(t,r){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(r.pointerId)}}function ql(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Nn(r),r!==null&&Zv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function zA(t,r,a,l,f){switch(r){case"focusin":return Zr=ql(Zr,t,r,a,l,f),!0;case"dragenter":return es=ql(es,t,r,a,l,f),!0;case"mouseover":return ts=ql(ts,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return zl.set(d,ql(zl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Bl.set(d,ql(Bl.get(d)||null,t,r,a,l,f)),!0}return!1}function i0(t){var r=yi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Yn(t.priority,function(){e0(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Yn(t.priority,function(){e0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ah(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Cm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return r=Nn(a),r!==null&&Zv(r),t.blockedOn=a,!1;r.shift()}return!0}function r0(t,r,a){ah(t)&&a.delete(r)}function BA(){Nm=!1,Zr!==null&&ah(Zr)&&(Zr=null),es!==null&&ah(es)&&(es=null),ts!==null&&ah(ts)&&(ts=null),zl.forEach(r0),Bl.forEach(r0)}function oh(t,r){t.blockedOn===r&&(t.blockedOn=null,Nm||(Nm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,BA)))}var lh=null;function s0(t){lh!==t&&(lh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){lh===t&&(lh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Im(l||a)===null)continue;break}var d=Nn(a);d!==null&&(t.splice(r,3),r-=3,Cd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ho(t){function r(O){return oh(O,t)}Zr!==null&&oh(Zr,t),es!==null&&oh(es,t),ts!==null&&oh(ts,t),zl.forEach(r),Bl.forEach(r);for(var a=0;a<ns.length;a++){var l=ns[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)i0(a),a.blockedOn===null&&ns.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ut]||null;if(typeof d=="function")_||s0(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ut]||null)b=_.formAction;else if(Im(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),s0(a)}}}function a0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Dm(t){this._internalRoot=t}uh.prototype.render=Dm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Rn();Wv(a,l,t,r,null,null)},uh.prototype.unmount=Dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Wv(t.current,2,null,t,null,null),Hc(),r[pi]=null}};function uh(t){this._internalRoot=t}uh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Hu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ns.length&&r!==0&&r<ns[a].priority;a++);ns.splice(a,0,t),a===0&&i0(t)}};var o0=e.version;if(o0!=="19.2.4")throw Error(s(527,o0,"19.2.4"));re.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var qA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Gn=ch.inject(qA),qt=ch}catch{}}return Fl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=m_,d=p_,_=g_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=Xv(t,1,!1,null,null,a,l,null,f,d,_,a0),t[pi]=r.current,fm(t),new Dm(r)},Fl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=m_,_=p_,b=g_,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=Xv(t,1,!0,r,a??null,l,f,O,d,_,b,a0),r.context=$v(null),a=r.current,l=Rn(),l=Os(l),f=Br(l),f.callback=null,qr(a,f,l),a=l,r.current.lanes=a,Ns(r,a),Di(r),t[pi]=r.current,fm(t),new uh(r)},Fl.version="19.2.4",Fl}var y0;function JA(){if(y0)return Vm.exports;y0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Vm.exports=WA(),Vm.exports}var ZA=JA();const e1=dT(ZA);var _0="popstate";function v0(i){return typeof i=="object"&&i!=null&&"pathname"in i&&"search"in i&&"hash"in i&&"state"in i&&"key"in i}function t1(i={}){function e(s,o){let u=o.state?.masked,{pathname:h,search:m,hash:p}=u||s.location;return sp("",{pathname:h,search:m,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default",u?{pathname:s.location.pathname,search:s.location.search,hash:s.location.hash}:void 0)}function n(s,o){return typeof o=="string"?o:uu(o)}return i1(e,n,null,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function oi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n1(){return Math.random().toString(36).substring(2,10)}function E0(i,e){return{usr:i.state,key:i.key,idx:e,masked:i.unstable_mask?{pathname:i.pathname,search:i.search,hash:i.hash}:void 0}}function sp(i,e,n=null,s,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?No(e):e,state:n,key:e&&e.key||s||n1(),unstable_mask:o}}function uu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function No(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function i1(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let U=E(),te=U==null?null:U-g;g=U,p&&p({action:m,location:Q.location,delta:te})}function A(U,te){m="PUSH";let ie=v0(U)?U:sp(Q.location,U,te);g=E()+1;let ne=E0(ie,g),ue=Q.createHref(ie.unstable_mask||ie);try{h.pushState(ne,"",ue)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;o.location.assign(ue)}u&&p&&p({action:m,location:Q.location,delta:1})}function P(U,te){m="REPLACE";let ie=v0(U)?U:sp(Q.location,U,te);g=E();let ne=E0(ie,g),ue=Q.createHref(ie.unstable_mask||ie);h.replaceState(ne,"",ue),u&&p&&p({action:m,location:Q.location,delta:0})}function j(U){return r1(U)}let Q={get action(){return m},get location(){return i(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_0,T),p=U,()=>{o.removeEventListener(_0,T),p=null}},createHref(U){return e(o,U)},createURL:j,encodeLocation(U){let te=j(U);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:A,replace:P,go(U){return h.go(U)}};return Q}function r1(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:uu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function mT(i,e,n="/"){return s1(i,e,n,!1)}function s1(i,e,n,s){let o=typeof e=="string"?No(e):e,u=gr(o.pathname||"/",n);if(u==null)return null;let h=pT(i);a1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=y1(u);m=p1(h[p],g,s)}return m}function pT(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ht(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=ki([s,E.relativePath]),A=n.concat(E);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),pT(h.children,e,A,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:d1(T,h.index),routesMeta:A})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of gT(h.path))u(h,m,!0,p)}),e}function gT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=gT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function a1(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:m1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var o1=/^:[\w-]+$/,l1=3,u1=2,c1=1,h1=10,f1=-2,T0=i=>i==="*";function d1(i,e){let n=i.split("/"),s=n.length;return n.some(T0)&&(s+=f1),e&&(s+=u1),n.filter(o=>!T0(o)).reduce((o,u)=>o+(o1.test(u)?l1:u===""?c1:h1),s)}function m1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function p1(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:ki([u,T.pathname]),pathnameBase:T1(ki([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=ki([u,T.pathnameBase]))}return h}function Vh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=g1(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let j=m[A]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const P=m[A];return T&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function g1(i,e=!1,n=!0){oi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p,g,E)=>{if(s.push({paramName:m,isOptional:p!=null}),p){let T=E.charAt(g+h.length);return T&&T!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function y1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function gr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var _1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function v1(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?No(i):i,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=b0(n.substring(1),"/"):u=b0(n,e)):u=e,{pathname:u,search:b1(s),hash:S1(o)}}function b0(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Um(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E1(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yT(i){let e=E1(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function kp(i,e,n,s=!1){let o;typeof i=="string"?o=No(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),Um("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Um("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Um("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=v1(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ki=i=>i.join("/").replace(/\/\/+/g,"/"),T1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),b1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,S1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,w1=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function A1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function R1(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vT(i,e){let n=i;if(typeof n!="string"||!_1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(_T)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=gr(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{oi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ET=["POST","PUT","PATCH","DELETE"];new Set(ET);var x1=["GET",...ET];new Set(x1);var Do=z.createContext(null);Do.displayName="DataRouter";var af=z.createContext(null);af.displayName="DataRouterState";var C1=z.createContext(!1),TT=z.createContext({isTransitioning:!1});TT.displayName="ViewTransition";var I1=z.createContext(new Map);I1.displayName="Fetchers";var N1=z.createContext(null);N1.displayName="Await";var Fn=z.createContext(null);Fn.displayName="Navigation";var Tu=z.createContext(null);Tu.displayName="Location";var Fi=z.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var Pp=z.createContext(null);Pp.displayName="RouteError";var bT="REACT_ROUTER_ERROR",D1="REDIRECT",O1="ROUTE_ERROR_RESPONSE";function M1(i){if(i.startsWith(`${bT}:${D1}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function V1(i){if(i.startsWith(`${bT}:${O1}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new w1(e.status,e.statusText,e.data)}catch{}}function k1(i,{relative:e}={}){ht(bu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(Fn),{hash:o,pathname:u,search:h}=Su(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ki([n,u])),s.createHref({pathname:m,search:h,hash:o})}function bu(){return z.useContext(Tu)!=null}function br(){return ht(bu(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Tu).location}var ST="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wT(i){z.useContext(Fn).static||z.useLayoutEffect(i)}function Oo(){let{isDataRoute:i}=z.useContext(Fi);return i?X1():P1()}function P1(){ht(bu(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(Do),{basename:e,navigator:n}=z.useContext(Fn),{matches:s}=z.useContext(Fi),{pathname:o}=br(),u=JSON.stringify(yT(s)),h=z.useRef(!1);return wT(()=>{h.current=!0}),z.useCallback((p,g={})=>{if(oi(h.current,ST),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=kp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ki([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}z.createContext(null);function L1(){let{matches:i}=z.useContext(Fi),e=i[i.length-1];return e?e.params:{}}function Su(i,{relative:e}={}){let{matches:n}=z.useContext(Fi),{pathname:s}=br(),o=JSON.stringify(yT(n));return z.useMemo(()=>kp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function U1(i,e){return AT(i,e)}function AT(i,e,n){ht(bu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=z.useContext(Fn),{matches:o}=z.useContext(Fi),u=o[o.length-1],h=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let U=g&&g.path||"";xT(m,!g||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let E=br(),T;if(e){let U=typeof e=="string"?No(e):e;ht(p==="/"||U.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${U.pathname}" was given in the \`location\` prop.`),T=U}else T=E;let A=T.pathname||"/",P=A;if(p!=="/"){let U=p.replace(/^\//,"").split("/");P="/"+A.replace(/^\//,"").split("/").slice(U.length).join("/")}let j=mT(i,{pathname:P});oi(g||j!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),oi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=H1(j&&j.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:ki([p,s.encodeLocation?s.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:ki([p,s.encodeLocation?s.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),o,n);return e&&Q?z.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...T},navigationType:"POP"}},Q):Q}function j1(){let i=K1(),e=A1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,h)}var z1=z.createElement(j1,null),RT=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=V1(i.digest);n&&(i=n)}let e=i!==void 0?z.createElement(Fi.Provider,{value:this.props.routeContext},z.createElement(Pp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?z.createElement(B1,{error:i},e):e}};RT.contextType=C1;var jm=new WeakMap;function B1({children:i,error:e}){let{basename:n}=z.useContext(Fn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=M1(e.digest);if(s){let o=jm.get(e);if(o)throw o;let u=vT(s.location,n);if(_T&&!jm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw jm.set(e,h),h}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function q1({routeContext:i,match:e,children:n}){let s=z.useContext(Do);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Fi.Provider,{value:i},n)}function H1(i,e=[],n){let s=n?.state;if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let o=i,u=s?.errors;if(u!=null){let E=o.findIndex(T=>T.route.id&&u?.[T.route.id]!==void 0);ht(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,E+1))}let h=!1,m=-1;if(n&&s){h=s.renderFallback;for(let E=0;E<o.length;E++){let T=o[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(m=E),T.route.id){let{loaderData:A,errors:P}=s,j=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!P||P[T.route.id]===void 0);if(T.route.lazy||j){n.isStatic&&(h=!0),m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}}let p=n?.onError,g=s&&p?(E,T)=>{p(E,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:R1(s.matches),errorInfo:T})}:void 0;return o.reduceRight((E,T,A)=>{let P,j=!1,Q=null,U=null;s&&(P=u&&T.route.id?u[T.route.id]:void 0,Q=T.route.errorElement||z1,h&&(m<0&&A===0?(xT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,U=null):m===A&&(j=!0,U=T.route.hydrateFallbackElement||null)));let te=e.concat(o.slice(0,A+1)),ie=()=>{let ne;return P?ne=Q:j?ne=U:T.route.Component?ne=z.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=E,z.createElement(q1,{match:T,routeContext:{outlet:E,matches:te,isDataRoute:s!=null},children:ne})};return s&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?z.createElement(RT,{location:s.location,revalidation:s.revalidation,component:Q,error:P,children:ie(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:g}):ie()},null)}function Lp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F1(i){let e=z.useContext(Do);return ht(e,Lp(i)),e}function G1(i){let e=z.useContext(af);return ht(e,Lp(i)),e}function Q1(i){let e=z.useContext(Fi);return ht(e,Lp(i)),e}function Up(i){let e=Q1(i),n=e.matches[e.matches.length-1];return ht(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Y1(){return Up("useRouteId")}function K1(){let i=z.useContext(Pp),e=G1("useRouteError"),n=Up("useRouteError");return i!==void 0?i:e.errors?.[n]}function X1(){let{router:i}=F1("useNavigate"),e=Up("useNavigate"),n=z.useRef(!1);return wT(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{oi(n.current,ST),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var S0={};function xT(i,e,n){!e&&!S0[i]&&(S0[i]=!0,oi(!1,n))}z.memo($1);function $1({routes:i,future:e,state:n,isStatic:s,onError:o}){return AT(i,void 0,{state:n,isStatic:s,onError:o})}function ia(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W1({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ht(!bu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=No(n));let{pathname:g="/",search:E="",hash:T="",state:A=null,key:P="default",unstable_mask:j}=n,Q=z.useMemo(()=>{let U=gr(g,m);return U==null?null:{location:{pathname:U,search:E,hash:T,state:A,key:P,unstable_mask:j},navigationType:s}},[m,g,E,T,A,P,s,j]);return oi(Q!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:z.createElement(Fn.Provider,{value:p},z.createElement(Tu.Provider,{children:e,value:Q}))}function J1({children:i,location:e}){return U1(ap(i),e)}function ap(i,e=[]){let n=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,ap(s.props.children,u));return}ht(s.type===ia,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ap(s.props.children,u)),n.push(h)}),n}var Th="get",bh="application/x-www-form-urlencoded";function of(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function Z1(i){return of(i)&&i.tagName.toLowerCase()==="button"}function eR(i){return of(i)&&i.tagName.toLowerCase()==="form"}function tR(i){return of(i)&&i.tagName.toLowerCase()==="input"}function nR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function iR(i,e){return i.button===0&&(!e||e==="_self")&&!nR(i)}function op(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,n)=>{let s=i[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function rR(i,e){let n=op(i);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var hh=null;function sR(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var aR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zm(i){return i!=null&&!aR.has(i)?(oi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bh}"`),null):i}function oR(i,e){let n,s,o,u,h;if(eR(i)){let m=i.getAttribute("action");s=m?gr(m,e):null,n=i.getAttribute("method")||Th,o=zm(i.getAttribute("enctype"))||bh,u=new FormData(i)}else if(Z1(i)||tR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?gr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Th,o=zm(i.getAttribute("formenctype"))||zm(m.getAttribute("enctype"))||bh,u=new FormData(m,i),!sR()){let{name:g,type:E,value:T}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(of(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Th,s=null,o=bh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function lR(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&gr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function uR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function hR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await uR(u,n);return h.links?h.links():[]}return[]}));return pR(s.flat(1).filter(cR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function w0(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function fR(i,e,{includeHydrateFallback:n}={}){return dR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function dR(i){return[...new Set(i)]}function mR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function pR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(mR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function CT(){let i=z.useContext(Do);return jp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function gR(){let i=z.useContext(af);return jp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var zp=z.createContext(void 0);zp.displayName="FrameworkContext";function IT(){let i=z.useContext(zp);return jp(i,"You must render this element inside a <HydratedRouter> element"),i}function yR(i,e){let n=z.useContext(zp),[s,o]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,A=z.useRef(null);z.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Q=te=>{te.forEach(ie=>{h(ie.isIntersecting)})},U=new IntersectionObserver(Q,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[i]),z.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let P=()=>{o(!0)},j=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Gl(m,P),onBlur:Gl(p,j),onMouseEnter:Gl(g,P),onMouseLeave:Gl(E,j),onTouchStart:Gl(T,P)}]:[!1,A,{}]}function Gl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function _R({page:i,...e}){let{router:n}=CT(),s=z.useMemo(()=>mT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?z.createElement(ER,{page:i,matches:s,...e}):null}function vR(i){let{manifest:e,routeModules:n}=IT(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return hR(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function ER({page:i,matches:e,...n}){let s=br(),{future:o,manifest:u,routeModules:h}=IT(),{basename:m}=CT(),{loaderData:p,matches:g}=gR(),E=z.useMemo(()=>w0(i,e,g,u,s,"data"),[i,e,g,u,s]),T=z.useMemo(()=>w0(i,e,g,u,s,"assets"),[i,e,g,u,s]),A=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let Q=new Set,U=!1;if(e.forEach(ie=>{let ne=u.routes[ie.route.id];!ne||!ne.hasLoader||(!E.some(ue=>ue.route.id===ie.route.id)&&ie.route.id in p&&h[ie.route.id]?.shouldRevalidate||ne.hasClientLoader?U=!0:Q.add(ie.route.id))}),Q.size===0)return[];let te=lR(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return U&&Q.size>0&&te.searchParams.set("_routes",e.filter(ie=>Q.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[te.pathname+te.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,i,h]),P=z.useMemo(()=>fR(T,u),[T,u]),j=vR(T);return z.createElement(z.Fragment,null,A.map(Q=>z.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),P.map(Q=>z.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),j.map(({key:Q,link:U})=>z.createElement("link",{key:Q,nonce:n.nonce,...U,crossOrigin:U.crossOrigin??n.crossOrigin})))}function TR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bR&&(window.__reactRouterVersion="7.13.1")}catch{}function SR({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=z.useRef();o.current==null&&(o.current=t1({window:s,v5Compat:!0}));let u=o.current,[h,m]=z.useState({action:u.action,location:u.location}),p=z.useCallback(g=>{n===!1?m(g):z.startTransition(()=>m(g))},[n]);return z.useLayoutEffect(()=>u.listen(p),[u,p]),z.createElement(W1,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var NT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,unstable_mask:m,state:p,target:g,to:E,preventScrollReset:T,viewTransition:A,unstable_defaultShouldRevalidate:P,...j},Q){let{basename:U,navigator:te,unstable_useTransitions:ie}=z.useContext(Fn),ne=typeof E=="string"&&NT.test(E),ue=vT(E,U);E=ue.to;let Te=k1(E,{relative:o}),_e=br(),N=null;if(m){let Ce=kp(m,[],_e.unstable_mask?_e.unstable_mask.pathname:"/",!0);U!=="/"&&(Ce.pathname=Ce.pathname==="/"?U:ki([U,Ce.pathname])),N=te.createHref(Ce)}let[R,C,x]=yR(s,j),D=xR(E,{replace:h,unstable_mask:m,state:p,target:g,preventScrollReset:T,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:P,unstable_useTransitions:ie});function k(Ce){e&&e(Ce),Ce.defaultPrevented||D(Ce)}let I=!(ue.isExternal||u),Ve=z.createElement("a",{...j,...x,href:(I?N:void 0)||ue.absoluteURL||Te,onClick:I?k:e,ref:TR(Q,C),target:g,"data-discover":!ne&&n==="render"?"true":void 0});return R&&!ne?z.createElement(z.Fragment,null,Ve,z.createElement(_R,{page:Te})):Ve});it.displayName="Link";var wR=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=Su(h,{relative:g.relative}),A=br(),P=z.useContext(af),{navigator:j,basename:Q}=z.useContext(Fn),U=P!=null&&MR(T)&&m===!0,te=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,ie=A.pathname,ne=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),ne=ne?ne.toLowerCase():null,te=te.toLowerCase()),ne&&Q&&(ne=gr(ne,Q)||ne);const ue=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let Te=ie===te||!o&&ie.startsWith(te)&&ie.charAt(ue)==="/",_e=ne!=null&&(ne===te||!o&&ne.startsWith(te)&&ne.charAt(te.length)==="/"),N={isActive:Te,isPending:_e,isTransitioning:U},R=Te?e:void 0,C;typeof s=="function"?C=s(N):C=[s,Te?"active":null,_e?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(N):u;return z.createElement(it,{...g,"aria-current":R,className:C,ref:E,style:x,to:h,viewTransition:m},typeof p=="function"?p(N):p)});wR.displayName="NavLink";var AR=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Th,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...P},j)=>{let{unstable_useTransitions:Q}=z.useContext(Fn),U=DR(),te=OR(m,{relative:g}),ie=h.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&NT.test(m),ue=Te=>{if(p&&p(Te),Te.defaultPrevented)return;Te.preventDefault();let _e=Te.nativeEvent.submitter,N=_e?.getAttribute("formmethod")||h,R=()=>U(_e||Te.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A});Q&&n!==!1?z.startTransition(()=>R()):R()};return z.createElement("form",{ref:j,method:ie,action:te,onSubmit:s?p:ue,...P,"data-discover":!ne&&i==="render"?"true":void 0})});AR.displayName="Form";function RR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DT(i){let e=z.useContext(Do);return ht(e,RR(i)),e}function xR(i,{target:e,replace:n,unstable_mask:s,state:o,preventScrollReset:u,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let E=Oo(),T=br(),A=Su(i,{relative:h});return z.useCallback(P=>{if(iR(P,e)){P.preventDefault();let j=n!==void 0?n:uu(T)===uu(A),Q=()=>E(i,{replace:j,unstable_mask:s,state:o,preventScrollReset:u,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:p});g?z.startTransition(()=>Q()):Q()}},[T,E,A,n,s,o,e,i,u,h,m,p,g])}function CR(i){oi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=z.useRef(op(i)),n=z.useRef(!1),s=br(),o=z.useMemo(()=>rR(s.search,n.current?null:e.current),[s.search]),u=Oo(),h=z.useCallback((m,p)=>{const g=op(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var IR=0,NR=()=>`__${String(++IR)}__`;function DR(){let{router:i}=DT("useSubmit"),{basename:e}=z.useContext(Fn),n=Y1(),s=i.fetch,o=i.navigate;return z.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=oR(u,e);if(h.navigate===!1){let A=h.fetcherKey||NR();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function OR(i,{relative:e}={}){let{basename:n}=z.useContext(Fn),s=z.useContext(Fi);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Su(i||".",{relative:e})},h=br();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ki([n,u.pathname])),uu(u)}function MR(i,{relative:e}={}){let n=z.useContext(TT);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DT("useViewTransitionState"),o=Su(i,{relative:e});if(!n.isTransitioning)return!1;let u=gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Vh(o.pathname,h)!=null||Vh(o.pathname,u)!=null}const VR=()=>{};var A0={};const OT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},kR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},MT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,P=g&63;p||(P=64,h||(A=64)),s.push(n[E],n[T],n[A],n[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(OT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):kR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new PR;const A=u<<2|m>>4;if(s.push(A),g!==64){const P=m<<4&240|g>>2;if(s.push(P),T!==64){const j=g<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class PR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LR=function(i){const e=OT(i);return MT.encodeByteArray(e,!0)},kh=function(i){return LR(i).replace(/\./g,"")},VT=function(i){try{return MT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function UR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jR=()=>UR().__FIREBASE_DEFAULTS__,zR=()=>{if(typeof process>"u"||typeof A0>"u")return;const i=A0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},BR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&VT(i[1]);return e&&JSON.parse(e)},lf=()=>{try{return VR()||jR()||zR()||BR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},kT=i=>lf()?.emulatorHosts?.[i],PT=i=>{const e=kT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},LT=()=>lf()?.config,UT=i=>lf()?.[`_${i}`];class qR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ya(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bp(i){return(await fetch(i,{credentials:"include"})).ok}function jT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[kh(JSON.stringify(n)),kh(JSON.stringify(h)),""].join(".")}const nu={};function HR(){const i={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?i.emulator.push(e):i.prod.push(e);return i}function FR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let R0=!1;function qp(i,e){if(typeof window>"u"||typeof document>"u"||!ya(window.location.host)||nu[i]===e||nu[i]||R0)return;nu[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=HR().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,P){A.setAttribute("width","24"),A.setAttribute("id",P),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{R0=!0,h()},A}function E(A,P){A.setAttribute("id",P),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=FR(s),P=n("text"),j=document.getElementById(P)||document.createElement("span"),Q=n("learnmore"),U=document.getElementById(Q)||document.createElement("a"),te=n("preprendIcon"),ie=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ne=A.element;m(ne),E(U,Q);const ue=g();p(ie,te),ne.append(ie,j,U,ue),document.body.appendChild(ne)}u?(j.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function QR(){const i=lf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function XR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $R(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function WR(){return!QR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JR(){try{return typeof indexedDB=="object"}catch{return!1}}function ZR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const ex="FirebaseError";class Gi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ex,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?tx(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Gi(o,m,s)}}function tx(i,e){return i.replace(nx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const nx=/\{\$([^}]+)}/g;function ix(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ua(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(x0(u)&&x0(h)){if(!ua(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function x0(i){return i!==null&&typeof i=="object"}function Au(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Xl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function $l(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function rx(i,e){const n=new sx(i,e);return n.subscribe.bind(n)}class sx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ax(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Bm),o.error===void 0&&(o.error=Bm),o.complete===void 0&&(o.complete=Bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ax(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Bm(){}function Tt(i){return i&&i._delegate?i._delegate:i}class ps{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ra="[DEFAULT]";class ox{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new qR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ux(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:lx(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lx(i){return i===ra?void 0:i}function ux(i){return i.instantiationMode==="EAGER"}class cx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ox(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const hx={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},fx=Le.INFO,dx={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},mx=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=dx[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=fx,this._logHandler=mx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const px=(i,e)=>e.some(n=>i instanceof n);let C0,I0;function gx(){return C0||(C0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yx(){return I0||(I0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zT=new WeakMap,lp=new WeakMap,BT=new WeakMap,qm=new WeakMap,Fp=new WeakMap;function _x(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(hs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&zT.set(n,i)}).catch(()=>{}),Fp.set(e,i),e}function vx(i){if(lp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});lp.set(i,e)}let up={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return lp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||BT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Ex(i){up=i(up)}function Tx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Hm(this),e,...n);return BT.set(s,e.sort?e.sort():[e]),hs(s)}:yx().includes(i)?function(...e){return i.apply(Hm(this),e),hs(zT.get(this))}:function(...e){return hs(i.apply(Hm(this),e))}}function bx(i){return typeof i=="function"?Tx(i):(i instanceof IDBTransaction&&vx(i),px(i,gx())?new Proxy(i,up):i)}function hs(i){if(i instanceof IDBRequest)return _x(i);if(qm.has(i))return qm.get(i);const e=bx(i);return e!==i&&(qm.set(i,e),Fp.set(e,i)),e}const Hm=i=>Fp.get(i);function Sx(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=hs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(hs(h.result),p.oldVersion,p.newVersion,hs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const wx=["get","getKey","getAll","getAllKeys","count"],Ax=["put","add","delete","clear"],Fm=new Map;function N0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Ax.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||wx.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Fm.set(e,u),u}Ex(i=>({...i,get:(e,n,s)=>N0(e,n)||i.get(e,n,s),has:(e,n)=>!!N0(e,n)||i.has(e,n)}));class Rx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function xx(i){return i.getComponent()?.type==="VERSION"}const cp="@firebase/app",D0="0.14.8";const yr=new Hp("@firebase/app"),Cx="@firebase/app-compat",Ix="@firebase/analytics-compat",Nx="@firebase/analytics",Dx="@firebase/app-check-compat",Ox="@firebase/app-check",Mx="@firebase/auth",Vx="@firebase/auth-compat",kx="@firebase/database",Px="@firebase/data-connect",Lx="@firebase/database-compat",Ux="@firebase/functions",jx="@firebase/functions-compat",zx="@firebase/installations",Bx="@firebase/installations-compat",qx="@firebase/messaging",Hx="@firebase/messaging-compat",Fx="@firebase/performance",Gx="@firebase/performance-compat",Qx="@firebase/remote-config",Yx="@firebase/remote-config-compat",Kx="@firebase/storage",Xx="@firebase/storage-compat",$x="@firebase/firestore",Wx="@firebase/ai",Jx="@firebase/firestore-compat",Zx="firebase",eC="12.9.0";const hp="[DEFAULT]",tC={[cp]:"fire-core",[Cx]:"fire-core-compat",[Nx]:"fire-analytics",[Ix]:"fire-analytics-compat",[Ox]:"fire-app-check",[Dx]:"fire-app-check-compat",[Mx]:"fire-auth",[Vx]:"fire-auth-compat",[kx]:"fire-rtdb",[Px]:"fire-data-connect",[Lx]:"fire-rtdb-compat",[Ux]:"fire-fn",[jx]:"fire-fn-compat",[zx]:"fire-iid",[Bx]:"fire-iid-compat",[qx]:"fire-fcm",[Hx]:"fire-fcm-compat",[Fx]:"fire-perf",[Gx]:"fire-perf-compat",[Qx]:"fire-rc",[Yx]:"fire-rc-compat",[Kx]:"fire-gcs",[Xx]:"fire-gcs-compat",[$x]:"fire-fst",[Jx]:"fire-fst-compat",[Wx]:"fire-vertex","fire-js":"fire-js",[Zx]:"fire-js-all"};const Ph=new Map,nC=new Map,fp=new Map;function O0(i,e){try{i.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ca(i){const e=i.name;if(fp.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,i);for(const n of Ph.values())O0(n,i);for(const n of nC.values())O0(n,i);return!0}function uf(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function xn(i){return i==null?!1:i.settings!==void 0}const iC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new wu("app","Firebase",iC);class rC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}const _a=eC;function qT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:hp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(n||(n=LT()),!n)throw fs.create("no-options");const u=Ph.get(o);if(u){if(ua(n,u.options)&&ua(s,u.config))return u;throw fs.create("duplicate-app",{appName:o})}const h=new cx(o);for(const p of fp.values())h.addComponent(p);const m=new rC(n,s,h);return Ph.set(o,m),m}function Gp(i=hp){const e=Ph.get(i);if(!e&&i===hp&&LT())return qT();if(!e)throw fs.create("no-app",{appName:i});return e}function Pi(i,e,n){let s=tC[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(h.join(" "));return}ca(new ps(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const sC="firebase-heartbeat-database",aC=1,cu="firebase-heartbeat-store";let Gm=null;function HT(){return Gm||(Gm=Sx(sC,aC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(cu)}catch(n){console.warn(n)}}}}).catch(i=>{throw fs.create("idb-open",{originalErrorMessage:i.message})})),Gm}async function oC(i){try{const n=(await HT()).transaction(cu),s=await n.objectStore(cu).get(FT(i));return await n.done,s}catch(e){if(e instanceof Gi)yr.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e?.message});yr.warn(n.message)}}}async function M0(i,e){try{const s=(await HT()).transaction(cu,"readwrite");await s.objectStore(cu).put(e,FT(i)),await s.done}catch(n){if(n instanceof Gi)yr.warn(n.message);else{const s=fs.create("idb-set",{originalErrorMessage:n?.message});yr.warn(s.message)}}}function FT(i){return`${i.name}!${i.options.appId}`}const lC=1024,uC=30;class cC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=V0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>uC){const o=dC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=V0(),{heartbeatsToSend:n,unsentEntries:s}=hC(this._heartbeatsCache.heartbeats),o=kh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return yr.warn(e),""}}}function V0(){return new Date().toISOString().substring(0,10)}function hC(i,e=lC){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),k0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),k0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class fC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JR()?ZR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return M0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return M0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function k0(i){return kh(JSON.stringify({version:2,heartbeats:i})).length}function dC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function mC(i){ca(new ps("platform-logger",e=>new Rx(e),"PRIVATE")),ca(new ps("heartbeat",e=>new cC(e),"PRIVATE")),Pi(cp,D0,i),Pi(cp,D0,"esm2020"),Pi("fire-js","")}mC("");function GT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pC=GT,QT=new wu("auth","Firebase",GT());const Lh=new Hp("@firebase/auth");function gC(i,...e){Lh.logLevel<=Le.WARN&&Lh.warn(`Auth (${_a}): ${i}`,...e)}function Sh(i,...e){Lh.logLevel<=Le.ERROR&&Lh.error(`Auth (${_a}): ${i}`,...e)}function li(i,...e){throw Qp(i,...e)}function Li(i,...e){return Qp(i,...e)}function YT(i,e,n){const s={...pC(),[e]:n};return new wu("auth","Firebase",s).create(e,{appName:i.name})}function mr(i){return YT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return QT.create(i,...e)}function ve(i,e,...n){if(!i)throw Qp(e,...n)}function fr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Sh(e),new Error(e)}function _r(i,e){i||fr(e)}function dp(){return typeof self<"u"&&self.location?.href||""}function yC(){return P0()==="http:"||P0()==="https:"}function P0(){return typeof self<"u"&&self.location?.protocol||null}function _C(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yC()||KR()||"connection"in navigator)?navigator.onLine:!0}function vC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=GR()||XR()}get(){return _C()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yp(i,e){_r(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class KT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const TC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bC=new Ru(3e4,6e4);function Ss(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Sr(i,e,n,s,o={}){return XT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Au({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return YR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&ya(i.emulatorConfig.host)&&(g.credentials="include"),KT.fetch()(await $T(i,i.config.apiHost,n,m),g)})}async function XT(i,e,n){i._canInitEmulator=!1;const s={...EC,...e};try{const o=new wC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw fh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw fh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw fh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw YT(i,E,g);li(i,E)}}catch(o){if(o instanceof Gi)throw o;li(i,"network-request-failed",{message:String(o)})}}async function xu(i,e,n,s,o={}){const u=await Sr(i,e,n,s,o);return"mfaPendingCredential"in u&&li(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function $T(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Yp(i.config,o):`${i.config.apiScheme}://${o}`;return TC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function SC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Li(this.auth,"network-request-failed")),bC.get())})}}function fh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Li(i,e,s);return o.customData._tokenResponse=n,o}function L0(i){return i!==void 0&&i.enterprise!==void 0}class AC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RC(i,e){return Sr(i,"GET","/v2/recaptchaConfig",Ss(i,e))}async function xC(i,e){return Sr(i,"POST","/v1/accounts:delete",e)}async function Uh(i,e){return Sr(i,"POST","/v1/accounts:lookup",e)}function iu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CC(i,e=!1){const n=Tt(i),s=await n.getIdToken(e),o=Kp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:iu(Qm(o.auth_time)),issuedAtTime:iu(Qm(o.iat)),expirationTime:iu(Qm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Qm(i){return Number(i)*1e3}function Kp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=VT(n);return o?JSON.parse(o):(Sh("Failed to decode base64 JWT payload"),null)}catch(o){return Sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function U0(i){const e=Kp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Gi&&IC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function IC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class NC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function jh(i){const e=i.auth,n=await i.getIdToken(),s=await wo(i,Uh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?WT(o.providerUserInfo):[],h=OC(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function DC(i){const e=Tt(i);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function WT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function MC(i,e){const n=await XT(i,{},async()=>{const s=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await $T(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&ya(i.emulatorConfig.host)&&(p.credentials="include"),KT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VC(i,e){return Sr(i,"POST","/v2/accounts:revokeToken",Ss(i,e))}class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=U0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await MC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new vo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return fr("not implemented")}}function rs(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new NC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await wo(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CC(this,e)}reload(){return DC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await wo(this,xC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:P,providerData:j,stsTokenManager:Q}=n;ve(T&&Q,e,"internal-error");const U=vo.fromJSON(this.name,Q);ve(typeof T=="string",e,"internal-error"),rs(s,e.name),rs(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof P=="boolean",e,"internal-error"),rs(u,e.name),rs(h,e.name),rs(m,e.name),rs(p,e.name),rs(g,e.name),rs(E,e.name);const te=new ri({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:P,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:E});return j&&Array.isArray(j)&&(te.providerData=j.map(ie=>({...ie}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new vo;o.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await jh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?WT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new vo;m.updateFromIdToken(s);const p=new ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const j0=new Map;function dr(i){_r(i instanceof Function,"Expected a class definition");let e=j0.get(i);return e?(_r(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,j0.set(i,e),e)}class JT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JT.type="NONE";const z0=JT;function wh(i,e,n){return`firebase:${i}:${e}:${n}`}class Eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=wh(this.userKey,o.apiKey,u),this.fullPersistenceKey=wh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uh(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Eo(dr(z0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||dr(z0);const h=wh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const A=await Uh(e,{idToken:E}).catch(()=>{});if(!A)break;T=await ri._fromGetAccountInfoResponse(e,A,E)}else T=ri._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Eo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Eo(u,e,s))}}function B0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rb(e))return"Blackberry";if(sb(e))return"Webos";if(eb(e))return"Safari";if((e.includes("chrome/")||tb(e))&&!e.includes("edge/"))return"Chrome";if(ib(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function ZT(i=nn()){return/firefox\//i.test(i)}function eb(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tb(i=nn()){return/crios\//i.test(i)}function nb(i=nn()){return/iemobile/i.test(i)}function ib(i=nn()){return/android/i.test(i)}function rb(i=nn()){return/blackberry/i.test(i)}function sb(i=nn()){return/webos/i.test(i)}function Xp(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function kC(i=nn()){return Xp(i)&&!!window.navigator?.standalone}function PC(){return $R()&&document.documentMode===10}function ab(i=nn()){return Xp(i)||ib(i)||sb(i)||rb(i)||/windows phone/i.test(i)||nb(i)}function ob(i,e=[]){let n;switch(i){case"Browser":n=B0(nn());break;case"Worker":n=`${B0(nn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${s}`}class LC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function UC(i,e={}){return Sr(i,"GET","/v2/passwordPolicy",Ss(i,e))}const jC=6;class zC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class BC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q0(this),this.idTokenSubscription=new q0(this),this.beforeStateQueue=new LC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uh(this,{idToken:e}),s=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(mr(this));const n=e?Tt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UC(this),n=new zC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await VC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function va(i){return Tt(i)}class q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=rx(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qC(i){cf=i}function lb(i){return cf.loadJS(i)}function HC(){return cf.recaptchaEnterpriseScript}function FC(){return cf.gapiScript}function GC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class QC{constructor(){this.enterprise=new YC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class YC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KC="recaptcha-enterprise",ub="NO_RECAPTCHA";class XC{constructor(e){this.type=KC,this.auth=va(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{RC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new AC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;L0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(ub)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&L0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=HC();p.length!==0&&(p+=m),lb(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function H0(i,e,n,s=!1,o=!1){const u=new XC(i);let h;if(o)h=ub;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function pp(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await H0(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await H0(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function $C(i,e){const n=uf(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ua(u,e??{}))return o;li(o,"already-initialized")}return n.initialize({options:e})}function WC(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(dr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function JC(i,e,n){const s=va(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=cb(e),{host:h,port:m}=ZC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ua(g,s.config.emulator)&&ua(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ya(h)?(Bp(`${u}//${h}${p}`),qp("Auth",!0)):e2()}function cb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function ZC(i){const e=cb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:F0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:F0(h)}}}function F0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function e2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class $p{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function t2(i,e){return Sr(i,"POST","/v1/accounts:signUp",e)}async function n2(i,e){return xu(i,"POST","/v1/accounts:signInWithPassword",Ss(i,e))}async function i2(i,e){return xu(i,"POST","/v1/accounts:signInWithEmailLink",Ss(i,e))}async function r2(i,e){return xu(i,"POST","/v1/accounts:signInWithEmailLink",Ss(i,e))}class hu extends $p{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new hu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new hu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,n,"signInWithPassword",n2);case"emailLink":return i2(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,s,"signUpPassword",t2);case"emailLink":return r2(e,{idToken:n,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function To(i,e){return xu(i,"POST","/v1/accounts:signInWithIdp",Ss(i,e))}const s2="http://localhost";class ha extends $p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ha(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,To(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:s2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}function a2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function o2(i){const e=Xl($l(i)).link,n=e?Xl($l(e)).deep_link_id:null,s=Xl($l(i)).deep_link_id;return(s?Xl($l(s)).link:null)||s||n||e||i}class Wp{constructor(e){const n=Xl($l(e)),s=n.apiKey??null,o=n.oobCode??null,u=a2(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=o2(e);try{return new Wp(n)}catch{return null}}}class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return hu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Wp.parseLink(n);return ve(s,"argument-error"),hu._fromEmailAndCode(e,s.code,s.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class hb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Cu extends hb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ss extends Cu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";class as extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return as.credential(n,s)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";class os extends Cu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";class ls extends Cu{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";async function l2(i,e){return xu(i,"POST","/v1/accounts:signUp",Ss(i,e))}class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ri._fromIdTokenResponse(e,s,o),h=G0(s);return new fa({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=G0(s);return new fa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function G0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class zh extends Gi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new zh(e,n,s,o)}}function fb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(i,u,e,s):u})}async function u2(i,e,n=!1){const s=await wo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return fa._forOperation(i,"link",s)}async function c2(i,e,n=!1){const{auth:s}=i;if(xn(s.app))return Promise.reject(mr(s));const o="reauthenticate";try{const u=await wo(i,fb(s,o,e,i),n);ve(u.idToken,s,"internal-error");const h=Kp(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),fa._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&li(s,"user-mismatch"),u}}async function db(i,e,n=!1){if(xn(i.app))return Promise.reject(mr(i));const s="signIn",o=await fb(i,s,e),u=await fa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function h2(i,e){return db(va(i),e)}async function mb(i){const e=va(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pb(i,e,n){if(xn(i.app))return Promise.reject(mr(i));const s=va(i),h=await pp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&mb(i),p}),m=await fa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function gb(i,e,n){return xn(i.app)?Promise.reject(mr(i)):h2(Tt(i),Mo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&mb(i),s})}async function f2(i,e){return Sr(i,"POST","/v1/accounts:update",e)}async function d2(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Tt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await wo(s,f2(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function m2(i,e,n,s){return Tt(i).onIdTokenChanged(e,n,s)}function p2(i,e,n){return Tt(i).beforeAuthStateChanged(e,n)}function g2(i,e,n,s){return Tt(i).onAuthStateChanged(e,n,s)}function yb(i){return Tt(i).signOut()}const Bh="__sak";class _b{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const y2=1e3,_2=10;class vb extends _b{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);PC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vb.type="LOCAL";const v2=vb;class Eb extends _b{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Eb.type="SESSION";const Tb=Eb;function E2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new hf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await E2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];function Jp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class T2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Jp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ui(){return window}function b2(i){Ui().location.href=i}function bb(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function S2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w2(){return navigator?.serviceWorker?.controller||null}function A2(){return bb()?self:null}const Sb="firebaseLocalStorageDb",R2=1,qh="firebaseLocalStorage",wb="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ff(i,e){return i.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function x2(){const i=indexedDB.deleteDatabase(Sb);return new Iu(i).toPromise()}function gp(){const i=indexedDB.open(Sb,R2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(qh,{keyPath:wb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(qh)?e(s):(s.close(),await x2(),e(await gp()))})})}async function Q0(i,e,n){const s=ff(i,!0).put({[wb]:e,value:n});return new Iu(s).toPromise()}async function C2(i,e){const n=ff(i,!1).get(e),s=await new Iu(n).toPromise();return s===void 0?null:s.value}function Y0(i,e){const n=ff(i,!0).delete(e);return new Iu(n).toPromise()}const I2=800,N2=3;class Ab{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>N2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(A2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await S2(),!this.activeServiceWorker)return;this.sender=new T2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gp();return await Q0(e,Bh,"1"),await Y0(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Q0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>C2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ff(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),I2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ab.type="LOCAL";const D2=Ab;new Ru(3e4,6e4);function O2(i,e){return e?dr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Zp extends $p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function M2(i){return db(i.auth,new Zp(i),i.bypassAuthState)}function V2(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),c2(n,new Zp(i),i.bypassAuthState)}async function k2(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),u2(n,new Zp(i),i.bypassAuthState)}class Rb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M2;case"linkViaPopup":case"linkViaRedirect":return k2;case"reauthViaPopup":case"reauthViaRedirect":return V2;default:li(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const P2=new Ru(2e3,1e4);class _o extends Rb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P2.get())};e()}}_o.currentPopupAction=null;const L2="pendingRedirect",Ah=new Map;class U2 extends Rb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const s=await j2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j2(i,e){const n=q2(e),s=B2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function z2(i,e){Ah.set(i._key(),e)}function B2(i){return dr(i._redirectPersistence)}function q2(i){return wh(L2,i.config.apiKey,i.name)}async function H2(i,e,n=!1){if(xn(i.app))return Promise.reject(mr(i));const s=va(i),o=O2(s,e),h=await new U2(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const F2=600*1e3;class G2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!xb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Li(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F2&&this.cachedEventUids.clear(),this.cachedEventUids.has(K0(e))}saveEventToCache(e){this.cachedEventUids.add(K0(e)),this.lastProcessedEventTime=Date.now()}}function K0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function xb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function Q2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xb(i);default:return!1}}async function Y2(i,e={}){return Sr(i,"GET","/v1/projects",e)}const K2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X2=/^https?/;async function $2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Y2(i);for(const n of e)try{if(W2(n))return}catch{}li(i,"unauthorized-domain")}function W2(i){const e=dp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!X2.test(n))return!1;if(K2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const J2=new Ru(3e4,6e4);function X0(){const i=Ui().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Z2(i){return new Promise((e,n)=>{function s(){X0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X0(),n(Li(i,"network-request-failed"))},timeout:J2.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)s();else{const o=GC("iframefcb");return Ui()[o]=()=>{gapi.load?s():n(Li(i,"network-request-failed"))},lb(`${FC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function eI(i){return Rh=Rh||Z2(i),Rh}const tI=new Ru(5e3,15e3),nI="__/auth/iframe",iI="emulator/auth/iframe",rI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aI(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Yp(e,iI):`https://${i.config.authDomain}/${nI}`,s={apiKey:e.apiKey,appName:i.name,v:_a},o=sI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Au(s).slice(1)}`}async function oI(i){const e=await eI(i),n=Ui().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:aI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Li(i,"network-request-failed"),m=Ui().setTimeout(()=>{u(h)},tI.get());function p(){Ui().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const lI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uI=500,cI=600,hI="_blank",fI="http://localhost";class $0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dI(i,e,n,s=uI,o=cI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...lI,width:s.toString(),height:o.toString(),top:u,left:h},g=nn().toLowerCase();n&&(m=tb(g)?hI:n),ZT(g)&&(e=e||fI,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[P,j])=>`${A}${P}=${j},`,"");if(kC(g)&&m!=="_self")return mI(e||"",m),new $0(null);const T=window.open(e||"",m,E);ve(T,i,"popup-blocked");try{T.focus()}catch{}return new $0(T)}function mI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const pI="__/auth/handler",gI="emulator/auth/handler",yI=encodeURIComponent("fac");async function W0(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:_a,eventId:o};if(e instanceof hb){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",ix(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Cu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${yI}=${encodeURIComponent(p)}`:"";return`${_I(i)}?${Au(m).slice(1)}${g}`}function _I({config:i}){return i.emulator?Yp(i,gI):`https://${i.authDomain}/${pI}`}const Ym="webStorageSupport";class vI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tb,this._completeRedirectFn=H2,this._overrideRedirectResult=z2}async _openPopup(e,n,s,o){_r(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await W0(e,n,s,dp(),o);return dI(e,u,Jp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await W0(e,n,s,dp(),o);return b2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(_r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await oI(e),s=new G2(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ym,{type:Ym},o=>{const u=o?.[0]?.[Ym];u!==void 0&&n(!!u),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ab()||eb()||Xp()}}const EI=vI;var J0="@firebase/auth",Z0="1.12.0";class TI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SI(i){ca(new ps("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ob(i)},g=new BC(s,o,u,p);return WC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ca(new ps("auth-internal",e=>{const n=va(e.getProvider("auth").getImmediate());return(s=>new TI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(J0,Z0,bI(i)),Pi(J0,Z0,"esm2020")}const wI=300,AI=UT("authIdTokenMaxAge")||wI;let eE=null;const RI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>AI)return;const o=n?.token;eE!==o&&(eE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xI(i=Gp()){const e=uf(i,"auth");if(e.isInitialized())return e.getImmediate();const n=$C(i,{popupRedirectResolver:EI,persistence:[D2,v2,Tb]}),s=UT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=RI(u.toString());p2(n,h,()=>h(n.currentUser)),m2(n,m=>h(m))}}const o=kT("auth");return o&&JC(n,`http://${o}`),n}function CI(){return document.getElementsByTagName("head")?.[0]??document}qC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Li("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",CI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SI("Browser");var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ds,Cb;(function(){var i;function e(N,R){function C(){}C.prototype=R.prototype,N.F=R.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(x,D,k){for(var I=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)I[Ve-2]=arguments[Ve];return R.prototype[D].apply(x,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,C){C||(C=0);const x=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)x[D]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(D=0;D<16;++D)x[D]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=N.g[0],C=N.g[1],D=N.g[2];let k=N.g[3],I;I=R+(k^C&(D^k))+x[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(D^R&(C^D))+x[1]+3905402710&4294967295,k=R+(I<<12&4294967295|I>>>20),I=D+(C^k&(R^C))+x[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(R^D&(k^R))+x[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(k^C&(D^k))+x[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(D^R&(C^D))+x[5]+1200080426&4294967295,k=R+(I<<12&4294967295|I>>>20),I=D+(C^k&(R^C))+x[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(R^D&(k^R))+x[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(k^C&(D^k))+x[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(D^R&(C^D))+x[9]+2336552879&4294967295,k=R+(I<<12&4294967295|I>>>20),I=D+(C^k&(R^C))+x[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(R^D&(k^R))+x[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(k^C&(D^k))+x[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(D^R&(C^D))+x[13]+4254626195&4294967295,k=R+(I<<12&4294967295|I>>>20),I=D+(C^k&(R^C))+x[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(R^D&(k^R))+x[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(D^k&(C^D))+x[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(R^C))+x[6]+3225465664&4294967295,k=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(k^R))+x[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(D^k))+x[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^k&(C^D))+x[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(R^C))+x[10]+38016083&4294967295,k=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(k^R))+x[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(D^k))+x[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^k&(C^D))+x[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(R^C))+x[14]+3275163606&4294967295,k=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(k^R))+x[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(D^k))+x[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^k&(C^D))+x[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(R^C))+x[2]+4243563512&4294967295,k=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(k^R))+x[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(D^k))+x[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(C^D^k)+x[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^D)+x[8]+2272392833&4294967295,k=R+(I<<11&4294967295|I>>>21),I=D+(k^R^C)+x[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^R)+x[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^k)+x[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^D)+x[4]+1272893353&4294967295,k=R+(I<<11&4294967295|I>>>21),I=D+(k^R^C)+x[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^R)+x[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^k)+x[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^D)+x[0]+3936430074&4294967295,k=R+(I<<11&4294967295|I>>>21),I=D+(k^R^C)+x[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^R)+x[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^k)+x[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^D)+x[12]+3873151461&4294967295,k=R+(I<<11&4294967295|I>>>21),I=D+(k^R^C)+x[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^R)+x[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(D^(C|~k))+x[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~D))+x[7]+1126891415&4294967295,k=R+(I<<10&4294967295|I>>>22),I=D+(R^(k|~C))+x[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~R))+x[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~k))+x[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~D))+x[3]+2399980690&4294967295,k=R+(I<<10&4294967295|I>>>22),I=D+(R^(k|~C))+x[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~R))+x[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~k))+x[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~D))+x[15]+4264355552&4294967295,k=R+(I<<10&4294967295|I>>>22),I=D+(R^(k|~C))+x[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~R))+x[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~k))+x[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~D))+x[11]+3174756917&4294967295,k=R+(I<<10&4294967295|I>>>22),I=D+(R^(k|~C))+x[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~R))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const C=R-this.blockSize,x=this.C;let D=this.h,k=0;for(;k<R;){if(D==0)for(;k<=C;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<R;)if(x[D++]=N.charCodeAt(k++),D==this.blockSize){o(this,x),D=0;break}}else for(;k<R;)if(x[D++]=N[k++],D==this.blockSize){o(this,x),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,C=0;C<4;++C)for(let x=0;x<32;x+=8)N[R++]=this.g[C]>>>x&255;return N};function u(N,R){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=R(N)}function h(N,R){this.h=R;const C=[];let x=!0;for(let D=N.length-1;D>=0;D--){const k=N[D]|0;x&&k==R||(C[D]=k,x=!1)}this.g=C}var m={};function p(N){return-128<=N&&N<128?u(N,function(R){return new h([R|0],R<0?-1:0)}):new h([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return U(g(-N));const R=[];let C=1;for(let x=0;N>=C;x++)R[x]=N/C|0,C*=4294967296;return new h(R,0)}function E(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return U(E(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let x=T;for(let k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k);const I=parseInt(N.substring(k,k+D),R);D<8?(D=g(Math.pow(R,D)),x=x.j(D).add(g(I))):(x=x.j(C),x=x.add(g(I)))}return x}var T=p(0),A=p(1),P=p(16777216);i=h.prototype,i.m=function(){if(Q(this))return-U(this).m();let N=0,R=1;for(let C=0;C<this.g.length;C++){const x=this.i(C);N+=(x>=0?x:4294967296+x)*R,R*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(Q(this))return"-"+U(this).toString(N);const R=g(Math.pow(N,6));var C=this;let x="";for(;;){const D=ue(C,R).g;C=te(C,D.j(R));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,j(C))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function Q(N){return N.h==-1}i.l=function(N){return N=te(this,N),Q(N)?-1:j(N)?0:1};function U(N){const R=N.g.length,C=[];for(let x=0;x<R;x++)C[x]=~N.g[x];return new h(C,~N.h).add(A)}i.abs=function(){return Q(this)?U(this):this},i.add=function(N){const R=Math.max(this.g.length,N.g.length),C=[];let x=0;for(let D=0;D<=R;D++){let k=x+(this.i(D)&65535)+(N.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);x=I>>>16,k&=65535,I&=65535,C[D]=I<<16|k}return new h(C,C[C.length-1]&-2147483648?-1:0)};function te(N,R){return N.add(U(R))}i.j=function(N){if(j(this)||j(N))return T;if(Q(this))return Q(N)?U(this).j(U(N)):U(U(this).j(N));if(Q(N))return U(this.j(U(N)));if(this.l(P)<0&&N.l(P)<0)return g(this.m()*N.m());const R=this.g.length+N.g.length,C=[];for(var x=0;x<2*R;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(let D=0;D<N.g.length;D++){const k=this.i(x)>>>16,I=this.i(x)&65535,Ve=N.i(D)>>>16,Ce=N.i(D)&65535;C[2*x+2*D]+=I*Ce,ie(C,2*x+2*D),C[2*x+2*D+1]+=k*Ce,ie(C,2*x+2*D+1),C[2*x+2*D+1]+=I*Ve,ie(C,2*x+2*D+1),C[2*x+2*D+2]+=k*Ve,ie(C,2*x+2*D+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new h(C,0)};function ie(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function ne(N,R){this.g=N,this.h=R}function ue(N,R){if(j(R))throw Error("division by zero");if(j(N))return new ne(T,T);if(Q(N))return R=ue(U(N),R),new ne(U(R.g),U(R.h));if(Q(R))return R=ue(N,U(R)),new ne(U(R.g),R.h);if(N.g.length>30){if(Q(N)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,x=R;x.l(N)<=0;)C=Te(C),x=Te(x);var D=_e(C,1),k=_e(x,1);for(x=_e(x,2),C=_e(C,2);!j(x);){var I=k.add(x);I.l(N)<=0&&(D=D.add(C),k=I),x=_e(x,1),C=_e(C,1)}return R=te(N,D.j(R)),new ne(D,R)}for(D=T;N.l(R)>=0;){for(C=Math.max(1,Math.floor(N.m()/R.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=g(C),I=k.j(R);Q(I)||I.l(N)>0;)C-=x,k=g(C),I=k.j(R);j(k)&&(k=A),D=D.add(k),N=te(N,I)}return new ne(D,N)}i.B=function(N){return ue(this,N).h},i.and=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let x=0;x<R;x++)C[x]=this.i(x)&N.i(x);return new h(C,this.h&N.h)},i.or=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let x=0;x<R;x++)C[x]=this.i(x)|N.i(x);return new h(C,this.h|N.h)},i.xor=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let x=0;x<R;x++)C[x]=this.i(x)^N.i(x);return new h(C,this.h^N.h)};function Te(N){const R=N.g.length+1,C=[];for(let x=0;x<R;x++)C[x]=N.i(x)<<1|N.i(x-1)>>>31;return new h(C,N.h)}function _e(N,R){const C=R>>5;R%=32;const x=N.g.length-C,D=[];for(let k=0;k<x;k++)D[k]=R>0?N.i(k+C)>>>R|N.i(k+C+1)<<32-R:N.i(k+C);return new h(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Cb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ds=h}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ib,Wl,Nb,xh,yp,Db,Ob,Mb;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in v))break e;v=v[B]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&v.push([w,y[w]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,B,Y){for(var se=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)se[Re-2]=arguments[Re];return y.prototype[B].apply(w,se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function j(c,y){for(let w=1;w<arguments.length;w++){const B=arguments[w];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=c.length||0;const Y=B.length||0;c.length=v+Y;for(let se=0;se<Y;se++)c[v+se]=B[se]}else c.push(B)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){h.setTimeout(()=>{throw c},0)}function te(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,v){const w=ne.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ne=new Q(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,_e=!1,N=new ie,R=()=>{const c=Promise.resolve(void 0);Te=()=>{c.then(C)}};function C(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){U(v)}var y=ne;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}_e=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Ve(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Ve,D),Ve.prototype.init=function(c,y){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ve.Z.h.call(this)},Ve.prototype.h=function(){Ve.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),G=0;function re(c,y,v,w,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=B,this.key=++G,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function De(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function M(c){const y={};for(const v in c)y[v]=c[v];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(v in w)c[v]=w[v];for(let Y=0;Y<J.length;Y++)v=J[Y],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,v,w,B){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const se=Ie(c,y,w,B);return se>-1?(y=c[se],v||(y.fa=!1)):(y=new re(y,this.src,Y,!!w,B),y.fa=v,c.push(y)),y};function be(c,y){const v=y.type;if(v in c.g){var w=c.g[v],B=Array.prototype.indexOf.call(w,y,void 0),Y;(Y=B>=0)&&Array.prototype.splice.call(w,B,1),Y&&(de(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ie(c,y,v,w){for(let B=0;B<c.length;++B){const Y=c[B];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==w)return B}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Vt={};function lt(c,y,v,w,B){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)lt(c,y[Y],v,w,B);return null}return v=Bo(v),c&&c[Ce]?c.J(y,v,m(w)?!!w.capture:!1,B):Rs(c,y,v,!1,w,B)}function Rs(c,y,v,w,B,Y){if(!y)throw Error("Invalid event type");const se=m(B)?!!B.capture:!!B;let Re=xs(c);if(Re||(c[Be]=Re=new ce(c)),v=Re.add(y,v,w,se,Y),v.proxy)return v;if(w=ba(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)k||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),w,B);else if(c.attachEvent)c.attachEvent(ci(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ba(){function c(v){return y.call(c.src,c.listener,v)}const y=jo;return c}function Sa(c,y,v,w,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Sa(c,y[Y],v,w,B);else w=m(w)?!!w.capture:!!w,v=Bo(v),c&&c[Ce]?(c=c.i,Y=String(y).toString(),Y in c.g&&(y=c.g[Y],v=Ie(y,v,w,B),v>-1&&(de(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[Y],c.h--)))):c&&(c=xs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ie(y,v,w,B)),(v=c>-1?y[c]:null)&&wa(v))}function wa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ce])be(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(ci(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=xs(y))?(be(v,c),v.h==0&&(v.src=null,y[Be]=null)):de(c)}}}function ci(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function jo(c,y){if(c.da)c=!0;else{y=new Ve(y,this);const v=c.listener,w=c.ha||c.src;c.fa&&wa(c),c=v.call(w,y)}return c}function xs(c){return c=c[Be],c instanceof ce?c:null}var zo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bo(c){return typeof c=="function"?c:(c[zo]||(c[zo]=function(y){return c.handleEvent(y)}),c[zo])}function bt(){x.call(this),this.i=new ce(this),this.M=this,this.G=null}T(bt,x),bt.prototype[Ce]=!0,bt.prototype.removeEventListener=function(c,y,v,w){Sa(this,c,y,v,w)};function kt(c,y){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var B=y;y=new D(w,c),ae(y,B)}B=!0;let Y,se;if(v)for(se=v.length-1;se>=0;se--)Y=y.g=v[se],B=Ar(Y,w,!0,y)&&B;if(Y=y.g=c,B=Ar(Y,w,!0,y)&&B,B=Ar(Y,w,!1,y)&&B,v)for(se=0;se<v.length;se++)Y=y.g=v[se],B=Ar(Y,w,!1,y)&&B}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let w=0;w<v.length;w++)de(v[w]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},bt.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function Ar(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let Y=0;Y<y.length;++Y){const se=y[Y];if(se&&!se.da&&se.capture==v){const Re=se.listener,yt=se.ha||se.src;se.fa&&be(c.i,se),B=Re.call(yt,w)!==!1&&B}}return B&&!w.defaultPrevented}function Vf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Pu(c){c.g=Vf(()=>{c.g=null,c.i&&(c.i=!1,Pu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rn extends x{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(c){x.call(this),this.h=c,this.g={}}T(Cs,x);var qo=[];function Ho(c){De(c.g,function(y,v){this.g.hasOwnProperty(v)&&wa(y)},c),c.g={}}Cs.prototype.N=function(){Cs.Z.N.call(this),Ho(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=h.JSON.stringify,kf=h.JSON.parse,Lu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Uu(){}function ju(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){D.call(this,"d")}T(qt,D);function In(){D.call(this,"c")}T(In,D);var gt={},zu=null;function Aa(){return zu=zu||new bt}gt.Ia="serverreachability";function Bu(c){D.call(this,gt.Ia,c)}T(Bu,D);function hi(c){const y=Aa();kt(y,new Bu(y))}gt.STAT_EVENT="statevent";function Is(c,y){D.call(this,gt.STAT_EVENT,c),this.stat=y}T(Is,D);function St(c){const y=Aa();kt(y,new Is(y,c))}gt.Ja="timingevent";function fi(c,y){D.call(this,gt.Ja,c),this.size=y}T(fi,D);function di(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Pf(c,y,v,w,B,Y){c.info(function(){if(c.g)if(Y){var se="",Re=Y.split("&");for(let Ge=0;Ge<Re.length;Ge++){var yt=Re[Ge].split("=");if(yt.length>1){const ut=yt[0];yt=yt[1];const Mn=ut.split("_");se=Mn.length>=2&&Mn[1]=="type"?se+(ut+"="+yt+"&"):se+(ut+"=redacted&")}}}else se=null;else se=Y;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+v+`
`+se})}function qu(c,y,v,w,B,Y,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+v+`
`+Y+" "+se})}function mi(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Lf(c,v)+(w?" "+w:"")})}function Ns(c,y){c.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function Lf(c,y){if(!c.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var v=Y[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var B=w[0];if(B!="noop"&&B!="stop"&&B!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return Rr(Y)}catch{return y}}var Ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Go;function Os(){}T(Os,Uu),Os.prototype.g=function(){return new XMLHttpRequest},Go=new Os;function Yi(c){return encodeURIComponent(String(c))}function Hu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Yn(c,y,v,w){this.j=c,this.i=y,this.l=v,this.S=w||1,this.V=new Cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var wt={},Ut={};function pi(c,y,v){c.M=1,c.A=Ms(Rt(y)),c.u=v,c.R=!0,Ra(c,null)}function Ra(c,y){c.F=Date.now(),gi(c),c.B=Rt(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Na(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Kn,c.g=rc(c.j,v?y:null,!c.u),c.P>0&&(c.O=new rn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,w=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(qo[0]=B.toString()),B=qo);for(let Y=0;Y<B.length;Y++){const se=lt(v,B[Y],w||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),hi(),Pf(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Wn(c)==3?y.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=Wn(this.g),yt=this.g.ya(),Ge=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Re!=4||yt==7||(yt==8||Ge<=0?hi(3):hi(2)),yi(this);var y=this.g.ca();this.X=y;var v=Uf(this);if(this.o=y==200,qu(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,B=this.g;if((w=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var Y=w;break t}}Y=null}if(c=Y)mi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,c);else{this.o=!1,this.m=3,St(12),_n(this),Nn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=Gu(this,v),ut==Ut){Re==4&&(this.m=4,St(14),c=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==wt){this.m=4,St(15),mi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else mi(this.i,this.l,ut,null),_i(this,ut);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)mi(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),al(se),se.P=!0,St(11))}}else mi(this.i,this.l,v,null),_i(this,v);Re==4&&_n(this),this.o&&!this.K&&(Re==4?ec(this.j,this):(this.o=!1,gi(this)))}else Xi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),_n(this),Nn(this)}}}catch{}};function Uf(c){if(!Fu(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let v="";const w=y.length,B=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),Nn(c),"";c.h.i=new h.TextDecoder}for(let Y=0;Y<w;Y++)c.h.h=!0,v+=c.h.i.decode(y[Y],{stream:!(B&&Y==w-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Fu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Gu(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Ut:(v=Number(y.substring(v,w)),isNaN(v)?wt:(w+=1,w+v>y.length?Ut:(y=y.slice(w,w+v),c.C=w+v,y)))}Yn.prototype.cancel=function(){this.K=!0,_n(this)};function gi(c){c.T=Date.now()+c.H,xa(c,c.H)}function xa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=di(g(c.aa,c),y)}function yi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ns(this.i,this.B),this.M!=2&&(hi(),St(17)),_n(this),this.m=2,Nn(this)):xa(this,this.T-c)};function Nn(c){c.j.I==0||c.K||ec(c.j,c)}function _n(c){yi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Ho(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function _i(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ei(v.h,c))){if(!c.L&&Ei(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ka(v),Vr(v);else break e;zs(v),St(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(g(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((c.L||v.g==c)&&ka(v),!I(y))for(B=v.Ba.g.parse(y),y=0;y<B.length;y++){let Ge=B[y];const ut=Ge[0];if(!(ut<=v.K))if(v.K=ut,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const Mn=Ge[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const xi=Ge[4];xi!=null&&(v.za=xi,v.j.info("SVER="+v.za));const Jn=Ge[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(w=1.5*Jn,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Zn=c.g;if(Zn){const Bs=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bs){var Y=w.h;Y.g||Bs.indexOf("spdy")==-1&&Bs.indexOf("quic")==-1&&Bs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ko(Y,Y.h),Y.h=null))}if(w.G){const Pa=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Pa&&(w.wa=Pa,Ke(w.J,w.G,Pa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var se=c;if(w.na=ic(w,w.L?w.ba:null,w.W),se.L){Xo(w.h,se);var Re=se,yt=w.O;yt&&(Re.H=yt),Re.D&&(yi(Re),gi(Re)),w.g=se}else Ju(w);v.i.length>0&&Ai(v)}else Ge[0]!="stop"&&Ge[0]!="close"||Ri(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ri(v,7):rl(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}hi(4)}catch{}}var At=class{constructor(c,y){this.g=c,this.map=y}};function Qo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vi(c){return c.h?1:c.g?c.g.size:0}function Ei(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ko(c,y){c.g?c.g.add(y):c.h=y}function Xo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Qo.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $o(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return P(c.i)}var Qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let B,Y=null;w>=0?(B=c[v].substring(0,w),Y=c[v].substring(w+1)):B=c[v],y(B,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof vn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,xr(this,c.u),this.h=c.h,Wo(this,$u(c.i)),this.m=c.m):c&&(y=String(c).match(Qu))?(this.l=!1,jt(this,y[1]||"",!0),this.o=Ti(y[2]||""),this.g=Ti(y[3]||"",!0),xr(this,y[4]),this.h=Ti(y[5]||"",!0),Wo(this,y[6]||"",!0),this.m=Ti(y[7]||"")):(this.l=!1,this.i=new Ir(null,this.l))}vn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Vs(y,Ia,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Vs(y,Ia,!0),"@"),c.push(Yi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Vs(v,v.charAt(0)=="/"?Jo:Yu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Vs(v,Ku)),c.join("")},vn.prototype.resolve=function(c){const y=Rt(this);let v=!!c.j;v?jt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var w=c.h;if(v)xr(y,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var B=y.h.lastIndexOf("/");B!=-1&&(w=y.h.slice(0,B+1)+w)}if(B=w,B==".."||B==".")w="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){w=B.lastIndexOf("/",0)==0,B=B.split("/");const Y=[];for(let se=0;se<B.length;){const Re=B[se++];Re=="."?w&&se==B.length&&Y.push(""):Re==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),w&&se==B.length&&Y.push("")):(Y.push(Re),w=!0)}w=Y.join("/")}else w=B}return v?y.h=w:v=c.i.toString()!=="",v?Wo(y,$u(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Rt(c){return new vn(c)}function jt(c,y,v){c.j=v?Ti(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function xr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Wo(c,y,v){y instanceof Ir?(c.i=y,Da(c.i,c.l)):(v||(y=Vs(y,Cr)),c.i=new Ir(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function Ms(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,ln),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ia=/[#\/\?@]/g,Yu=/[#\?:]/g,Jo=/[#\?]/g,Cr=/[#\?@]/g,Ku=/#/g;function Ir(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&Ca(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Ir.prototype,i.add=function(c,y){un(this),this.i=null,c=Nr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Xu(c,y){un(c),y=Nr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Zo(c,y){return un(c),y=Nr(c,y),c.g.has(y)}i.forEach=function(c,y){un(this),this.g.forEach(function(v,w){v.forEach(function(B){c.call(y,B,w,this)},this)},this)};function el(c,y){un(c);let v=[];if(typeof y=="string")Zo(c,y)&&(v=v.concat(c.g.get(Nr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return un(this),this.i=null,c=Nr(this,c),Zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=el(this,c),c.length>0?String(c[0]):y):y};function Na(c,y,v){Xu(c,y),v.length>0&&(c.i=null,c.g.set(Nr(c,y),P(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var v=y[w];const B=Yi(v);v=el(this,v);for(let Y=0;Y<v.length;Y++){let se=B;v[Y]!==""&&(se+="="+Yi(v[Y])),c.push(se)}}return this.i=c.join("&")};function $u(c){const y=new Ir;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Nr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Da(c,y){y&&!c.j&&(un(c),c.i=null,c.g.forEach(function(v,w){const B=w.toLowerCase();w!=B&&(Xu(this,w),Na(this,B,v))},c)),c.j=y}function Xn(c,y){const v=new Qn;if(h.Image){const w=new Image;w.onload=E(Dn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=E(Dn,v,"TestLoadImage: error",!1,y,w),w.onabort=E(Dn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=E(Dn,v,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function tl(c,y){const v=new Qn,w=new AbortController,B=setTimeout(()=>{w.abort(),Dn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Y=>{clearTimeout(B),Y.ok?Dn(v,"TestPingServer: ok",!0,y):Dn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Dn(v,"TestPingServer: error",!1,y)})}function Dn(c,y,v,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(v)}catch{}}function Dr(){this.g=new Lu}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(bi,Uu),bi.prototype.g=function(){return new ks(this.i,this.h)};function ks(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ks,bt),i=ks.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,$n(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Or(this):$n(this),this.readyState==3&&Oa(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Or(this))},i.Na=function(c){this.g&&(this.response=c,Or(this))},i.ga=function(){this.g&&Or(this)};function Or(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let y="";return De(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Ps(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=On(v),typeof c=="string"?v!=null&&Yi(v):Ke(c,y,v))}function Je(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,bt);var Si=/^https?$/i,nl=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Go.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Ls(this,Y);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)v.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())v.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(nl,y,void 0)>=0)||w||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of v)this.g.setRequestHeader(Y,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){Ls(this,Y)}};function Ls(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,il(c),Ki(c)}function il(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),Ki(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},i.Xa=function(){Us(this)};function Us(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=Y===0){let se=String(c.D).match(Qu)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),w=!Si.test(se?se.toLowerCase():"")}v=w}if(v)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var B=Wn(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",il(c)}}finally{Ki(c)}}}}function Ki(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||kt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),kf(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(c){const y={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(I(c[w]))continue;var v=Hu(c[w]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[B]||[];y[B]=Y,Y.push(v)}ge(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Mr(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,c),this.Za=wi("retryDelaySeedMs",1e4,c),this.Ta=wi("forwardChannelMaxRetries",2,c),this.va=wi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Qo(c&&c.concurrentRequestLimit),this.Ba=new Dr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Mr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,w){St(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=ic(this,null,this.W),Ai(this)};function rl(c){if(Ma(c),c.I==3){var y=c.V++,v=Rt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),js(c,v),y=new Yn(c,c.j,y),y.M=2,y.A=Ms(Rt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=rc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),gi(y)}nc(c)}function Vr(c){c.g&&(al(c),c.g.cancel(),c.g=null)}function Ma(c){Vr(c),c.v&&(h.clearTimeout(c.v),c.v=null),ka(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ai(c){if(!Yo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Te||R(),_e||(Te(),_e=!0),N.add(y,c),c.D=0}}function Va(c,y){return vi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=di(g(c.Ea,c,y),tc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Yn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=M(Y),ae(Y,this.U)):Y=this.U),this.u!==null||this.R||(B.J=Y,Y=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Wu(this,B,y),v=Rt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),js(this,v),Y&&(this.R?y="headers="+Yi(On(Y))+"&"+y:this.u&&Ps(v,this.u,Y)),Ko(this.h,B),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),B.U=!0,pi(B,v,null)):pi(B,v,y),this.I=2}}else this.I==3&&(c?sl(this,c):this.i.length==0||Yo(this.h)||sl(this))};function sl(c,y){var v;y?v=y.l:v=c.V++;const w=Rt(c.J);Ke(w,"SID",c.M),Ke(w,"RID",v),Ke(w,"AID",c.K),js(c,w),c.u&&c.o&&Ps(w,c.u,c.o),v=new Yn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Wu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ko(c.h,v),pi(v,w,y)}function js(c,y){c.H&&De(c.H,function(v,w){Ke(y,w,v)}),c.l&&De({},function(v,w){Ke(y,w,v)})}function Wu(c,y,v){v=Math.min(c.i.length,v);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let Re=-1;for(;;){const yt=["count="+v];Re==-1?v>0?(Re=B[0].g,yt.push("ofs="+Re)):Re=0:yt.push("ofs="+Re);let Ge=!0;for(let ut=0;ut<v;ut++){var Y=B[ut].g;const Mn=B[ut].map;if(Y-=Re,Y<0)Re=Math.max(0,B[ut].g-100),Ge=!1;else try{Y="req"+Y+"_"||"";try{var se=Mn instanceof Map?Mn:Object.entries(Mn);for(const[xi,Jn]of se){let Zn=Jn;m(Jn)&&(Zn=Rr(Jn)),yt.push(Y+xi+"="+encodeURIComponent(Zn))}}catch(xi){throw yt.push(Y+"type="+encodeURIComponent("_badmap")),xi}}catch{w&&w(Mn)}}if(Ge){se=yt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),y.G=c,se}function Ju(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Te||R(),_e||(Te(),_e=!0),N.add(y,c),c.A=0}}function zs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=di(g(c.Da,c),tc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=di(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Vr(this),Zu(this))};function al(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Zu(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Rt(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),js(c,y),c.u&&c.o&&Ps(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ms(Rt(y)),v.u=null,v.R=!0,Ra(v,c)}i.Va=function(){this.C!=null&&(this.C=null,Vr(this),zs(this),St(19))};function ka(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function ec(c,y){var v=null;if(c.g==y){ka(c),al(c),c.g=null;var w=2}else if(Ei(c.h,y))v=y.G,Xo(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;w=Aa(),kt(w,new fi(w,v)),Ai(c)}else Ju(c);else if(B=y.m,B==3||B==0&&y.X>0||!(w==1&&Va(c,y)||w==2&&zs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function tc(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ri(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),w=c.Ua;const B=!w;w=new vn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||jt(w,"https"),Ms(w),B?Xn(w.toString(),v):tl(w.toString(),v)}else St(2);c.I=0,c.l&&c.l.pa(y),nc(c),Ma(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function nc(c){if(c.I=0,c.ja=[],c.l){const y=$o(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ja,y),j(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function ic(c,y,v){var w=v instanceof vn?Rt(v):new vn(v);if(w.g!="")y&&(w.g=y+"."+w.g),xr(w,w.u);else{var B=h.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const Y=new vn(null);w&&jt(Y,w),y&&(Y.g=y),B&&xr(Y,B),v&&(Y.h=v),w=Y}return v=c.G,y=c.wa,v&&y&&Ke(w,v,y),Ke(w,"VER",c.ka),js(c,w),w}function rc(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Je(new bi({ab:v})):new Je(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function sc(){}i=sc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function kr(){}kr.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){bt.call(this),this.g=new Mr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new $i(this)}T(sn,bt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){rl(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Rr(c),c=v);y.i.push(new At(y.Ya++,c)),y.I==3&&Ai(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,sn.Z.N.call(this)};function ac(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(ac,qt);function oc(){In.call(this),this.status=1}T(oc,In);function $i(c){this.g=c}T($i,sc),$i.prototype.ra=function(){kt(this.g,"a")},$i.prototype.qa=function(c){kt(this.g,new ac(c))},$i.prototype.pa=function(c){kt(this.g,new oc)},$i.prototype.oa=function(){kt(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Mb=function(){return new kr},Ob=function(){return Aa()},Db=gt,yp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,xh=Ds,Fo.COMPLETE="complete",Nb=Fo,ju.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Wl=ju,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Ib=Je}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Vo="12.9.0";function II(i){Vo=i}const da=new Hp("@firebase/firestore");function mo(){return da.logLevel}function le(i,...e){if(da.logLevel<=Le.DEBUG){const n=e.map(eg);da.debug(`Firestore (${Vo}): ${i}`,...n)}}function vr(i,...e){if(da.logLevel<=Le.ERROR){const n=e.map(eg);da.error(`Firestore (${Vo}): ${i}`,...n)}}function ma(i,...e){if(da.logLevel<=Le.WARN){const n=e.map(eg);da.warn(`Firestore (${Vo}): ${i}`,...n)}}function eg(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Vb(i,s,n)}function Vb(i,e,n){let s=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw vr(s),new Error(s)}function Ye(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||Vb(e,o,s)}function Ae(i,e){return i}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class kb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class DI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class OI{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new kb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class MI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class VI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new MI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class tg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=PI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function _p(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Km(o)===Km(u)?Ue(o,u):Km(o)?1:-1}return Ue(i.length,e.length)}const LI=55296,UI=57343;function Km(i){const e=i.charCodeAt(0);return e>=LI&&e<=UI}function Ao(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const iE="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),o=Oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):_p(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class rt extends Oi{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const jI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Oi{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return jI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iE}static keyField(){return new Xt([iE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(rt.fromString(e))}static fromName(e){return new pe(rt.fromString(e).popFirst(5))}static empty(){return new pe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new rt(e.slice()))}}function Pb(i,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function zI(i,e,n,s){if(e===!0&&s===!0)throw new oe(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function rE(i){if(!pe.isDocumentKey(i))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function sE(i){if(pe.isDocumentKey(i))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Lb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function df(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function yn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=df(i);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Mt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Nu(i,e){if(!Lb(i))throw new oe(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(W.INVALID_ARGUMENT,n);return!0}const aE=-62135596800,oE=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*oE);return new We(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aE)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nu(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:Mt("string",We._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new We(0,0))}static max(){return new Se(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fu=-1;function BI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new We(n+1,0):new We(n,s));return new gs(o,pe.empty(),e)}function qI(i){return new gs(i.readTime,i.key,fu)}class gs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new gs(Se.min(),pe.empty(),fu)}static max(){return new gs(Se.max(),pe.empty(),fu)}}function HI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Ue(i.largestBatchId,e.largestBatchId))}const FI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ko(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==FI)throw i;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function QI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(i){return i.name==="IndexedDbTransactionError"}class mf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mf.ce=-1;const ng=-1;function pf(i){return i==null}function Hh(i){return i===0&&1/i==-1/0}function YI(i){return typeof i=="number"&&Number.isInteger(i)&&!Hh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Ub="";function KI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=lE(e)),e=XI(i.get(n),e);return lE(e)}function XI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Ub:n+="";break;default:n+=u}}return n}function lE(i){return i+Ub+""}function uE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ws(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function jb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cE(this.data.getIterator())}getIteratorFrom(e){return new cE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class cE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Lt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class zb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new zb("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const $I=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const n=$I.exec(i);if(Ye(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function _s(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}const Bb="server_timestamp",qb="__type__",Hb="__previous_value__",Fb="__local_write_time__";function ig(i){return(i?.mapValue?.fields||{})[qb]?.stringValue===Bb}function gf(i){const e=i.mapValue.fields[Hb];return ig(e)?gf(e):e}function du(i){const e=ys(i.mapValue.fields[Fb].timestampValue);return new We(e.seconds,e.nanos)}class WI{constructor(e,n,s,o,u,h,m,p,g,E,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=T}}const Fh="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||Fh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}function JI(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(i.options.projectId,e)}const Gb="__type__",ZI="__max__",ph={mapValue:{}},Qb="__vector__",Gh="value";function vs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ig(i)?4:tN(i)?9007199254740991:eN(i)?10:11:Ee(28295,{value:i})}function qi(i,e){if(i===e)return!0;const n=vs(i);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return du(i).isEqual(du(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ys(o.timestampValue),m=ys(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return _s(o.bytesValue).isEqual(_s(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Et(o.doubleValue),m=Et(u.doubleValue);return h===m?Hh(h)===Hh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Ao(i.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(uE(h)!==uE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!qi(h[p],m[p])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function pu(i,e){return(i.values||[]).find((n=>qi(n,e)))!==void 0}function Ro(i,e){if(i===e)return 0;const n=vs(i),s=vs(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Et(u.integerValue||u.doubleValue),p=Et(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return hE(i.timestampValue,e.timestampValue);case 4:return hE(du(i),du(e));case 5:return _p(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=_s(u),p=_s(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ue(m[g],p[g]);if(E!==0)return E}return Ue(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ue(Et(u.latitude),Et(h.latitude));return m!==0?m:Ue(Et(u.longitude),Et(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return fE(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Gh]?.arrayValue,E=p[Gh]?.arrayValue,T=Ue(g?.values?.length||0,E?.values?.length||0);return T!==0?T:fE(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ph.mapValue&&h===ph.mapValue)return 0;if(u===ph.mapValue)return 1;if(h===ph.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=_p(p[T],E[T]);if(A!==0)return A;const P=Ro(m[p[T]],g[E[T]]);if(P!==0)return P}return Ue(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function hE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const n=ys(i),s=ys(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function fE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ro(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function xo(i){return vp(i)}function vp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ys(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return _s(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return pe.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=vp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${vp(n.fields[h])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function Ch(i){switch(vs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gf(i);return e?16+Ch(e):16;case 5:return 2*i.stringValue.length;case 6:return _s(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ch(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ws(s.fields,((u,h)=>{o+=u.length+Ch(h)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function dE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ep(i){return!!i&&"integerValue"in i}function rg(i){return!!i&&"arrayValue"in i}function mE(i){return!!i&&"nullValue"in i}function pE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ih(i){return!!i&&"mapValue"in i}function eN(i){return(i?.mapValue?.fields||{})[Gb]?.stringValue===Qb}function ru(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ws(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ru(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ru(i.arrayValue.values[n]);return e}return{...i}}function tN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ZI}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=ru(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ws(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new gn(ru(this.value))}}function Yb(i){const e=[];return ws(i.fields,((n,s)=>{const o=new Xt([n]);if(Ih(s)){const u=Yb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Cn(e)}class tn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,Se.min(),Se.min(),Se.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Se.min(),Se.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Se.min(),Se.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qh{constructor(e,n){this.position=e,this.inclusive=n}}function gE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),n.key):s=Ro(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function yE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qi(i.position[n],e.position[n]))return!1;return!0}class gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function nN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Kb{}class Ot extends Kb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new rN(e,n,s):n==="array-contains"?new oN(e,s):n==="in"?new lN(e,s):n==="not-in"?new uN(e,s):n==="array-contains-any"?new cN(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new sN(e,s):new aN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends Kb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ui(e,n)}matches(e){return Xb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Xb(i){return i.op==="and"}function $b(i){return iN(i)&&Xb(i)}function iN(i){for(const e of i.filters)if(e instanceof ui)return!1;return!0}function Tp(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+xo(i.value);if($b(i))return i.filters.map((e=>Tp(e))).join(",");{const e=i.filters.map((n=>Tp(n))).join(",");return`${i.op}(${e})`}}function Wb(i,e){return i instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&qi(s.value,o.value)})(i,e):i instanceof ui?(function(s,o){return o instanceof ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&Wb(h,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function Jb(i){return i instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${xo(n.value)}`})(i):i instanceof ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(Jb).join(" ,")+"}"})(i):"Filter"}class rN extends Ot{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class sN extends Ot{constructor(e,n){super(e,"in",n),this.keys=Zb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aN extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=Zb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Zb(i,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class oN extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rg(n)&&pu(n.arrayValue,this.value)}}class lN extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class uN extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pu(this.value.arrayValue,n)}}class cN extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>pu(this.value.arrayValue,s)))}}class hN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function _E(i,e=null,n=[],s=[],o=null,u=null,h=null){return new hN(i,e,n,s,o,u,h)}function sg(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Tp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>xo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>xo(s))).join(",")),e.Te=n}return e.Te}function ag(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!nN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Wb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!yE(i.startAt,e.startAt)&&yE(i.endAt,e.endAt)}function bp(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Lo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function fN(i,e,n,s,o,u,h,m){return new Lo(i,e,n,s,o,u,h,m)}function yf(i){return new Lo(i)}function vE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function dN(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function eS(i){return i.collectionGroup!==null}function su(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Lt(Xt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new gu(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new gu(Xt.keyField(),s))}return e.Ie}function ji(i){const e=Ae(i);return e.Ee||(e.Ee=mN(e,su(i))),e.Ee}function mN(i,e){if(i.limitType==="F")return _E(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new gu(o.field,u)}));const n=i.endAt?new Qh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Qh(i.startAt.position,i.startAt.inclusive):null;return _E(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Sp(i,e){const n=i.filters.concat([e]);return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function pN(i,e){const n=i.explicitOrderBy.concat([e]);return new Lo(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function Yh(i,e,n){return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function _f(i,e){return ag(ji(i),ji(e))&&i.limitType===e.limitType}function tS(i){return`${sg(ji(i))}|lt:${i.limitType}`}function po(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Jb(o))).join(", ")}]`),pf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>xo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>xo(o))).join(",")),`Target(${s})`})(ji(i))}; limitType=${i.limitType})`}function vf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of su(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=gE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,su(s),o)||s.endAt&&!(function(h,m,p){const g=gE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,su(s),o))})(i,e)}function gN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function nS(i){return(e,n)=>{let s=!1;for(const o of su(i)){const u=yN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function yN(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Ro(p,g):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return jb(this.inner)}size(){return this.innerSize}}const _N=new ft(pe.comparator);function Er(){return _N}const iS=new ft(pe.comparator);function Jl(...i){let e=iS;for(const n of i)e=e.insert(n.key,n);return e}function rS(i){let e=iS;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function sa(){return au()}function sS(){return au()}function au(){return new Ea((i=>i.toString()),((i,e)=>i.isEqual(e)))}const vN=new ft(pe.comparator),EN=new Lt(pe.comparator);function je(...i){let e=EN;for(const n of i)e=e.add(n);return e}const TN=new Lt(Ue);function bN(){return TN}function og(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function aS(i){return{integerValue:""+i}}function oS(i,e){return YI(e)?aS(e):og(i,e)}class Ef{constructor(){this._=void 0}}function SN(i,e,n){return i instanceof Kh?(function(o,u){const h={fields:{[qb]:{stringValue:Bb},[Fb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ig(u)&&(u=gf(u)),u&&(h.fields[Hb]=u),{mapValue:h}})(n,e):i instanceof yu?uS(i,e):i instanceof _u?cS(i,e):(function(o,u){const h=lS(o,u),m=EE(h)+EE(o.Ae);return Ep(h)&&Ep(o.Ae)?aS(m):og(o.serializer,m)})(i,e)}function wN(i,e,n){return i instanceof yu?uS(i,e):i instanceof _u?cS(i,e):n}function lS(i,e){return i instanceof vu?(function(s){return Ep(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Kh extends Ef{}class yu extends Ef{constructor(e){super(),this.elements=e}}function uS(i,e){const n=hS(e);for(const s of i.elements)n.some((o=>qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class _u extends Ef{constructor(e){super(),this.elements=e}}function cS(i,e){let n=hS(e);for(const s of i.elements)n=n.filter((o=>!qi(o,s)));return{arrayValue:{values:n}}}class vu extends Ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function EE(i){return Et(i.integerValue||i.doubleValue)}function hS(i){return rg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class AN{constructor(e,n){this.field=e,this.transform=n}}function RN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof yu&&o instanceof yu||s instanceof _u&&o instanceof _u?Ao(s.elements,o.elements,qi):s instanceof vu&&o instanceof vu?qi(s.Ae,o.Ae):s instanceof Kh&&o instanceof Kh})(i.transform,e.transform)}class xN{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Tf{}function fS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new lg(i.key,Hn.none()):new Du(i.key,i.data,Hn.none());{const n=i.data,s=gn.empty();let o=new Lt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new As(i.key,s,new Cn(o.toArray()),Hn.none())}}function CN(i,e,n){i instanceof Du?(function(o,u,h){const m=o.value.clone(),p=bE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof As?(function(o,u,h){if(!Nh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=bE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(dS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function ou(i,e,n,s){return i instanceof Du?(function(u,h,m,p){if(!Nh(u.precondition,h))return m;const g=u.value.clone(),E=SE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof As?(function(u,h,m,p){if(!Nh(u.precondition,h))return m;const g=SE(u.fieldTransforms,p,h),E=h.data;return E.setAll(dS(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,h,m){return Nh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function IN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=lS(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function TE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ao(s,o,((u,h)=>RN(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Du extends Tf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends Tf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dS(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function bE(i,e,n){const s=new Map;Ye(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,wN(h,m,n[o]))}return s}function SE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,SN(u,h,e))}return s}class lg extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NN extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&CN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ou(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ou(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=sS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=fS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,((n,s)=>TE(n,s)))&&Ao(this.baseMutations,e.baseMutations,((n,s)=>TE(n,s)))}}class ug{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return vN})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ug(e,n,s,o)}}class ON{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,qe;function VN(i){switch(i){case W.OK:return Ee(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function mS(i){if(i===void 0)return vr("GRPC error has no .code"),W.UNKNOWN;switch(i){case Dt.OK:return W.OK;case Dt.CANCELLED:return W.CANCELLED;case Dt.UNKNOWN:return W.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return W.INTERNAL;case Dt.UNAVAILABLE:return W.UNAVAILABLE;case Dt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Dt.NOT_FOUND:return W.NOT_FOUND;case Dt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Dt.ABORTED:return W.ABORTED;case Dt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Dt.DATA_LOSS:return W.DATA_LOSS;default:return Ee(39323,{code:i})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function kN(){return new TextEncoder}const PN=new ds([4294967295,4294967295],0);function wE(i){const e=kN().encode(i),n=new Cb;return n.update(e),new Uint8Array(n.digest())}function AE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ds([n,s],0),new ds([o,u],0)]}class cg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ds.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ds.fromNumber(s)));return o.compare(PN)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=wE(e),[s,o]=AE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new cg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=wE(e),[s,o]=AE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new bf(Se.min(),o,new ft(Ue),Er(),je())}}class Ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ou(s,n,je(),je(),je())}}class Dh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class pS{constructor(e,n){this.targetId=e,this.Ce=n}}class gS{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class RE{constructor(){this.ve=0,this.Fe=xE(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Ou(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=xE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class LN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Er(),this.He=gh(),this.Je=gh(),this.Ze=new ft(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(bp(u))if(s===0){const h=new pe(u.path);this.et(n,h,tn.newNoDocument(h,Se.min()))}else Ye(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=_s(s).toUint8Array()}catch(p){if(p instanceof zb)return ma("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new cg(h,o,u)}catch(p){return ma(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&bp(m.target)){const p=new pe(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,tn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=je();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new bf(e,n,this.Ze,this.je,s);return this.je=Er(),this.He=gh(),this.Je=gh(),this.Ze=new ft(Ue),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new RE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new RE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gh(){return new ft(pe.comparator)}function xE(){return new ft(pe.comparator)}const UN={asc:"ASCENDING",desc:"DESCENDING"},jN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zN={and:"AND",or:"OR"};class BN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wp(i,e){return i.useProto3Json||pf(e)?e:{value:e}}function Xh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function qN(i,e){return Xh(i,e.toTimestamp())}function zi(i){return Ye(!!i,49232),Se.fromTimestamp((function(n){const s=ys(n);return new We(s.seconds,s.nanos)})(i))}function hg(i,e){return Ap(i,e).canonicalString()}function Ap(i,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function _S(i){const e=rt.fromString(i);return Ye(SS(e),10190,{key:e.toString()}),e}function Rp(i,e){return hg(i.databaseId,e.path)}function Xm(i,e){const n=_S(e);if(n.get(1)!==i.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(ES(n))}function vS(i,e){return hg(i.databaseId,e)}function HN(i){const e=_S(i);return e.length===4?rt.emptyPath():ES(e)}function xp(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ES(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function CE(i,e,n){return{name:Rp(i,e),fields:n.value.mapValue.fields}}function FN(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ye(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?W.UNKNOWN:mS(g.code);return new oe(E,g.message||"")})(h);n=new gS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Xm(i,s.document.name),u=zi(s.document.updateTime),h=s.document.createTime?zi(s.document.createTime):Se.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Dh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Xm(i,s.document),u=s.readTime?zi(s.readTime):Se.min(),h=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Dh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Xm(i,s.document),u=s.removedTargetIds||[];n=new Dh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new MN(o,u),m=s.targetId;n=new pS(m,h)}}return n}function GN(i,e){let n;if(e instanceof Du)n={update:CE(i,e.key,e.value)};else if(e instanceof lg)n={delete:Rp(i,e.key)};else if(e instanceof As)n={update:CE(i,e.key,e.data),updateMask:eD(e.fieldMask)};else{if(!(e instanceof NN))return Ee(16599,{dt:e.type});n={verify:Rp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Kh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _u)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:qN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function QN(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?zi(o.updateTime):zi(u);return h.isEqual(Se.min())&&(h=zi(u)),new xN(h,o.transformResults||[])})(n,e)))):[]}function YN(i,e){return{documents:[vS(i,e.path)]}}function KN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vS(i,o);const u=(function(g){if(g.length!==0)return bS(ui.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:go(A.field),direction:WN(A.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=wp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function XN(i){let e=HN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=TS(T);return A instanceof ui&&$b(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(j){return new gu(yo(j.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,pf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,P=T.values||[];return new Qh(P,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,P=T.values||[];return new Qh(P,A)})(n.endAt)),fN(e,o,h,u,m,"F",p,g)}function $N(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TS(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=yo(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=yo(n.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ot.create(yo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ui.create(n.compositeFilter.filters.map((s=>TS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function WN(i){return UN[i]}function JN(i){return jN[i]}function ZN(i){return zN[i]}function go(i){return{fieldPath:i.canonicalString()}}function yo(i){return Xt.fromServerFormat(i.fieldPath)}function bS(i){return i instanceof Ot?(function(n){if(n.op==="=="){if(pE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(mE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(mE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:JN(n.op),value:n.value}}})(i):i instanceof ui?(function(n){const s=n.getFilters().map((o=>bS(o)));return s.length===1?s[0]:{compositeFilter:{op:ZN(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function eD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function SS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function wS(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class us{constructor(e,n,s,o,u=Se.min(),h=Se.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tD{constructor(e){this.yt=e}}function nD(i){const e=XN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Yh(e,e.limit,"L"):e}class iD{constructor(){this.Sn=new rD}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(gs.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class rD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}const IE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AS=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(AS,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class Co{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Co(0)}static ar(){return new Co(-1)}}const NE="LruGarbageCollector",sD=1048576;function DE([i,e],[n,s]){const o=Ue(i,n);return o===0?Ue(e,s):o}class aD{constructor(e){this.Pr=e,this.buffer=new Lt(DE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();DE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(NE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?le(NE,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Ar(3e5)}))}}class lD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(mf.ce);const s=new aD(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(IE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),mo()<=Le.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function uD(i,e){return new lD(i,e)}class cD{constructor(){this.changes=new Ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class fD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&ou(s.mutation,o,Cn.empty(),We.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=je()){const o=sa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Jl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=sa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,je())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Er();const h=au(),m=(function(){return au()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof As)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),ou(E.mutation,g,E.mutation.getFieldMask(),We.now())):h.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new hD(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=au();let o=new ft(((h,m)=>h-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Cn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=sS();E.forEach((A=>{if(!u.has(A)){const P=fS(n.get(A),s.get(A));P!==null&&T.set(A,P),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return dN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(sa());let m=fu,p=u;return h.next((g=>ee.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,je()))).next((E=>({batchId:m,changes:rS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(T,A){return new Lo(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,tn.newInvalidDocument(E)))}));let m=Jl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&ou(E.mutation,g,Cn.empty(),We.now()),vf(n,g)&&(m=m.insert(p,g))})),m}))}}class dD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:nD(o.bundledQuery),readTime:zi(o.readTime)}})(n)),ee.resolve()}}class mD{constructor(){this.overlays=new ft(pe.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=sa();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=sa(),u=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=sa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=sa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new ON(n,s));let u=this.Lr.get(n);u===void 0&&(u=je(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class pD{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class fg{constructor(){this.kr=new Lt(Bt.Kr),this.qr=new Lt(Bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Bt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new pe(new rt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new pe(new rt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=je();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return pe.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||pe.comparator(e.key,n.key)}}class gD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(Bt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new DN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?ng:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(Ue);return n.forEach((o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new pe(u),0);let m=new Lt(Ue);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),ee.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Jr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class yD{constructor(e){this.ti=e,this.docs=(function(){return new ft(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=Er();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Er();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||HI(qI(E),s)<=0||(o.has(E.key)||vf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ni(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new _D(this)}getSize(e){return ee.resolve(this.size)}}class _D extends cD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class vD{constructor(e){this.persistence=e,this.ri=new Ea((n=>sg(n)),ag),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new fg,this.targetCount=0,this.oi=Co._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}class RS{constructor(e,n){this._i={},this.overlays={},this.ai=new mf(0),this.ui=!1,this.ui=!0,this.ci=new pD,this.referenceDelegate=e(this),this.li=new vD(this),this.indexManager=new iD,this.remoteDocumentCache=(function(o){return new yD(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new tD(n),this.Pi=new dD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new gD(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new ED(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class ED extends GI{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Ri=new fg,this.Ai=null}static Vi(e){return new dg(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(s=>{const o=pe.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class $h{constructor(e,n){this.persistence=e,this.fi=new Ea((s=>KI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=uD(this,n)}static Vi(e,n){return new $h(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ch(e.data.value)),n}wr(e,n,s){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mg(e,n.fromCache,s,o)}}class TD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return WR()?8:QI(nn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new TD;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(mo()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(mo()<=Le.DEBUG&&le("QueryEngine","Query:",po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(mo()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):ee.resolve())}gs(e,n){if(vE(n))return ee.resolve(null);let s=ji(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Yh(n,null,"F"),s=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=je(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,h,p.readTime)?this.gs(e,Yh(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,o){return vE(n)||o.isEqual(Se.min())?ee.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ee.resolve(null):(mo()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.Ds(e,h,n,BI(o,fu)).next((m=>m)))}))}bs(e,n){let s=new Lt(nS(e));return n.forEach(((o,u)=>{vf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return mo()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",po(n)),this.fs.getDocumentsMatchingQuery(e,n,gs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const pg="LocalStore",SD=3e8;class wD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(Ue),this.Fs=new Ea((u=>sg(u)),ag),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function AD(i,e,n,s){return new wD(i,e,n,s)}async function xS(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=je();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function RD(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let P=ee.resolve();return A.forEach((j=>{P=P.next((()=>E.getEntry(p,j))).next((Q=>{const U=g.docVersions.get(j);Ye(U!==null,48541),Q.version.compareTo(U)<0&&(T.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function CS(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function xD(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,T))));let P=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?P=P.withResumeToken($t.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(T,P),(function(Q,U,te){return Q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=SD?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(A,P,E)&&m.push(n.li.updateTargetData(u,P))}));let p=Er(),g=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(CD(u,h,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!s.isEqual(Se.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function CD(i,e,n){let s=je(),o=je();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Er();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(pg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function ID(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ng),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ND(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new us(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Cp(i,e,n){const s=Ae(i),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Po(h))throw h;le(pg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function OE(i,e,n){const s=Ae(i);let o=Se.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Ae(p),A=T.Fs.get(E);return A!==void 0?ee.resolve(T.vs.get(A)):T.li.getTargetData(g,E)})(s,h,ji(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?u:je()))).next((m=>(DD(s,gN(e),m),{documents:m,ks:u})))))}function DD(i,e,n){let s=i.Ms.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(e,s)}class ME{constructor(){this.activeTargetIds=bN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OD{constructor(){this.vo=new ME,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ME,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MD{Mo(e){}shutdown(){}}const VE="ConnectivityMonitor";class kE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(VE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(VE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yh=null;function Ip(){return yh===null?yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():yh++,"0x"+yh.toString(16)}const $m="RestConnection",VD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Fh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=Ip(),m=this.Qo(e,n.toUriEncodedString());le($m,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),E=ya(g);return this.zo(e,m,p,s,E).then((T=>(le($m,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw ma($m,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=VD[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class PD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",Ql=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class bo extends kD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!bo.c_){const e=Ob();Ql(e,Db.STAT_EVENT,(n=>{n.stat===yp.PROXY?le(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===yp.NOPROXY&&le(Jt,"STAT_EVENT: detected no buffering proxy")})),bo.c_=!0}}zo(e,n,s,o,u){const h=Ip();return new Promise(((m,p)=>{const g=new Ib;g.setWithCredentials(!0),g.listenOnce(Nb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case xh.NO_ERROR:const T=g.getResponseJson();le(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case xh.TIMEOUT:le(Jt,`RPC '${e}' ${h} timed out`),p(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const A=g.getStatus();if(le(Jt,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const j=P?.error;if(j&&j.status&&j.message){const Q=(function(te){const ie=te.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ie)>=0?ie:W.UNKNOWN})(j.status);p(new oe(Q,j.message))}else p(new oe(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(W.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Jt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);le(Jt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Ip(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=h.createWebChannel(g,m);this.I_(E);let T=!1,A=!1;const P=new PD({Ho:j=>{A?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(T||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,j),E.send(j))},Jo:()=>E.close()});return Ql(E,Wl.EventType.OPEN,(()=>{A||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),P.i_())})),Ql(E,Wl.EventType.CLOSE,(()=>{A||(A=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),P.o_(),this.E_(E))})),Ql(E,Wl.EventType.ERROR,(j=>{A||(A=!0,ma(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),P.o_(new oe(W.UNAVAILABLE,"The operation could not be completed")))})),Ql(E,Wl.EventType.MESSAGE,(j=>{if(!A){const Q=j.data[0];Ye(!!Q,16349);const U=Q,te=U?.error||U[0]?.error;if(te){le(Jt,`RPC '${e}' stream ${o} received error:`,te);const ie=te.status;let ne=(function(_e){const N=Dt[_e];if(N!==void 0)return mS(N)})(ie),ue=te.message;ie==="NOT_FOUND"&&ue.includes("database")&&ue.includes("does not exist")&&ue.includes(this.databaseId.database)&&ma(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ne===void 0&&(ne=W.INTERNAL,ue="Unknown error status: "+ie+" with message "+te.message),A=!0,P.o_(new oe(ne,ue)),E.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,Q),P.__(Q)}})),bo.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Mb()}}function LD(i){return new bo(i)}function Wm(){return typeof document<"u"?document:null}function Sf(i){return new BN(i,!0)}bo.c_=!1;class IS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const PE="PersistentStream";class NS{constructor(e,n,s,o,u,h,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(PE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(PE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UD extends NS{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?zi(h.readTime):Se.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=xp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=bp(p)?{documents:YN(u,p)}:{query:KN(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=yS(u,h.resumeToken);const g=wp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Xh(u,h.snapshotVersion.toTimestamp());const g=wp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=$N(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=xp(this.serializer),n.removeTarget=e,this.K_(n)}}class jD extends NS{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QN(e.writeResults,e.commitTime),s=zi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=xp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>GN(this.serializer,s)))};this.K_(n)}}class zD{}class BD extends zD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Ap(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(W.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Ap(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(W.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function qD(i,e,n,s){return new BD(i,e,n,s)}class HD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pa="RemoteStore";class FD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Ta(this)&&(le(pa,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Mu(g),g.Va.set("Unknown"),g.Ea.delete(4),await wf(g)})(this))}))})),this.Va=new HD(s,o)}}async function wf(i){if(Ta(i))for(const e of i.Ra)await e(!0)}async function Mu(i){for(const e of i.Ra)await e(!1)}function DS(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),vg(n)?_g(n):Uo(n).O_()&&yg(n,e))}function gg(i,e){const n=Ae(i),s=Uo(n);n.Ia.delete(e),s.O_()&&OS(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ta(n)&&n.Va.set("Unknown"))}function yg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(i).Z_(e)}function OS(i,e){i.da.$e(e),Uo(i).X_(e)}function _g(i){i.da=new LN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Uo(i).start(),i.Va.ua()}function vg(i){return Ta(i)&&!Uo(i).x_()&&i.Ia.size>0}function Ta(i){return Ae(i).Ea.size===0}function MS(i){i.da=void 0}async function GD(i){i.Va.set("Online")}async function QD(i){i.Ia.forEach(((e,n)=>{yg(i,e)}))}async function YD(i,e){MS(i),vg(i)?(i.Va.ha(e),_g(i)):i.Va.set("Unknown")}async function KD(i,e,n){if(i.Va.set("Online"),e instanceof gS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){le(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wh(i,s)}else if(e instanceof Dh?i.da.Xe(e):e instanceof pS?i.da.st(e):i.da.tt(e),!n.isEqual(Se.min()))try{const s=await CS(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),OS(u,p);const T=new us(E.target,p,g,E.sequenceNumber);yg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){le(pa,"Failed to raise snapshot:",s),await Wh(i,s)}}async function Wh(i,e,n){if(!Po(e))throw e;i.Ea.add(1),await Mu(i),i.Va.set("Offline"),n||(n=()=>CS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{le(pa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await wf(i)}))}function VS(i,e){return e().catch((n=>Wh(i,n,e)))}async function Af(i){const e=Ae(i),n=Es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ng;for(;XD(e);)try{const o=await ID(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,$D(e,o)}catch(o){await Wh(e,o)}kS(e)&&PS(e)}function XD(i){return Ta(i)&&i.Ta.length<10}function $D(i,e){i.Ta.push(e);const n=Es(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function kS(i){return Ta(i)&&!Es(i).x_()&&i.Ta.length>0}function PS(i){Es(i).start()}async function WD(i){Es(i).ra()}async function JD(i){const e=Es(i);for(const n of i.Ta)e.ea(n.mutations)}async function ZD(i,e,n){const s=i.Ta.shift(),o=ug.from(s,e,n);await VS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Af(i)}async function eO(i,e){e&&Es(i).Y_&&await(async function(s,o){if((function(h){return VN(h)&&h!==W.ABORTED})(o.code)){const u=s.Ta.shift();Es(s).B_(),await VS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Af(s)}})(i,e),kS(i)&&PS(i)}async function LE(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),le(pa,"RemoteStore received new credentials");const s=Ta(n);n.Ea.add(3),await Mu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wf(n)}async function tO(i,e){const n=Ae(i);e?(n.Ea.delete(2),await wf(n)):e||(n.Ea.add(2),await Mu(n),n.Va.set("Unknown"))}function Uo(i){return i.ma||(i.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new UD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:GD.bind(null,i),Yo:QD.bind(null,i),t_:YD.bind(null,i),J_:KD.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),vg(i)?_g(i):i.Va.set("Unknown")):(await i.ma.stop(),MS(i))}))),i.ma}function Es(i){return i.fa||(i.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new jD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:WD.bind(null,i),t_:eO.bind(null,i),ta:JD.bind(null,i),na:ZD.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await Af(i)):(await i.fa.stop(),i.Ta.length>0&&(le(pa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Eg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Eg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(i,e){if(vr("AsyncQueue",`${e}: ${i}`),Po(i))return new oe(W.UNAVAILABLE,`${e}: ${i}`);throw i}class So{static emptySet(e){return new So(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new So;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class UE{constructor(){this.ga=new ft(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Io{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Io(e,n,So.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class nO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class iO{constructor(){this.queries=jE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=jE(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function jE(){return new Ea((i=>tS(i)),_f)}async function bg(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new nO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Tg(h,`Initialization of query '${po(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&wg(n)}async function Sg(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function rO(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&wg(n)}function sO(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function wg(i){i.Ca.forEach((e=>{e.next()}))}var Np,zE;(zE=Np||(Np={})).Ma="default",zE.Cache="cache";class Ag{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Np.Cache}}class LS{constructor(e){this.key=e}}class US{constructor(e){this.key=e}}class aO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=nS(e),this.tu=new So(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new UE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),P=vf(this.query,T)?T:null,j=!!A&&this.mutatedKeys.has(A.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let U=!1;A&&P?A.data.isEqual(P.data)?j!==Q&&(s.track({type:3,doc:P}),U=!0):this.su(A,P)||(s.track({type:2,doc:P}),U=!0,(p&&this.eu(P,p)>0||g&&this.eu(P,g)<0)&&(m=!0)):!A&&P?(s.track({type:0,doc:P}),U=!0):A&&!P&&(s.track({type:1,doc:A}),U=!0,(p||g)&&(m=!0)),U&&(P?(h=h.add(P),u=Q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(P,j){const Q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:U})}};return Q(P)-Q(j)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new Io(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new UE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new US(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new LS(s))})),n}cu(e){this.Za=e.ks,this.Ya=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Rg="SyncEngine";class oO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class lO{constructor(e){this.key=e,this.hu=!1}}class uO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ea((m=>tS(m)),_f),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(pe.comparator),this.Au=new Map,this.Vu=new fg,this.du={},this.mu=new Map,this.fu=Co.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cO(i,e,n=!0){const s=FS(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await jS(s,e,n,!0),o}async function hO(i,e){const n=FS(i);await jS(n,e,!0,!1)}async function jS(i,e,n,s){const o=await ND(i.localStore,ji(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await fO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&DS(i.remoteStore,o),m}async function fO(i,e,n,s,o){i.pu=(T,A,P)=>(async function(Q,U,te,ie){let ne=U.view.ru(te);ne.Ss&&(ne=await OE(Q.localStore,U.query,!1).then((({documents:N})=>U.view.ru(N,ne))));const ue=ie&&ie.targetChanges.get(U.targetId),Te=ie&&ie.targetMismatches.get(U.targetId)!=null,_e=U.view.applyChanges(ne,Q.isPrimaryClient,ue,Te);return qE(Q,U.targetId,_e.au),_e.snapshot})(i,T,A,P);const u=await OE(i.localStore,e,!0),h=new aO(e,u.ks),m=h.ru(u.documents),p=Ou.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);qE(i,n,g.au);const E=new oO(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function dO(i,e,n){const s=Ae(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!_f(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Cp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&gg(s.remoteStore,o.targetId),Dp(s,o.targetId)})).catch(ko)):(Dp(s,o.targetId),await Cp(s.localStore,o.targetId,!0))}async function mO(i,e){const n=Ae(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),gg(n.remoteStore,s.targetId))}async function pO(i,e,n){const s=bO(i);try{const o=await(function(h,m){const p=Ae(h),g=We.now(),E=m.reduce(((P,j)=>P.add(j.key)),je());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let j=Er(),Q=je();return p.xs.getEntries(P,E).next((U=>{j=U,j.forEach(((te,ie)=>{ie.isValidDocument()||(Q=Q.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,j))).next((U=>{T=U;const te=[];for(const ie of m){const ne=IN(ie,T.get(ie.key).overlayedDocument);ne!=null&&te.push(new As(ie.key,ne,Yb(ne.value.mapValue),Hn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,te,m)})).next((U=>{A=U;const te=U.applyToLocalDocumentSet(T,Q);return p.documentOverlayCache.saveOverlays(P,U.batchId,te)}))})).then((()=>({batchId:A.batchId,changes:rS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new ft(Ue)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g})(s,o.batchId,n),await Vu(s,o.changes),await Af(s.remoteStore)}catch(o){const u=Tg(o,"Failed to persist write");n.reject(u)}}async function zS(i,e){const n=Ae(i);try{const s=await xD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ye(h.hu,14607):o.removedDocuments.size>0&&(Ye(h.hu,42227),h.hu=!1))})),await Vu(n,s,e)}catch(s){await ko(s)}}function BE(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.ba)A.va(m)&&(g=!0)})),g&&wg(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gO(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(pe.comparator);h=h.insert(u,tn.newNoDocument(u,Se.min()));const m=je().add(u),p=new bf(Se.min(),new Map,new ft(Ue),h,m);await zS(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),xg(s)}else await Cp(s.localStore,e,!1).then((()=>Dp(s,e,n))).catch(ko)}async function yO(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await RD(n.localStore,e);qS(n,s,null),BS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Vu(n,o)}catch(o){await ko(o)}}async function _O(i,e,n){const s=Ae(i);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ye(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);qS(s,e,n),BS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Vu(s,o)}catch(o){await ko(o)}}function BS(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function qS(i,e,n){const s=Ae(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Dp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||HS(i,s)}))}function HS(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(gg(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),xg(i))}function qE(i,e,n){for(const s of n)s instanceof LS?(i.Vu.addReference(s.key,e),vO(i,s)):s instanceof US?(le(Rg,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||HS(i,s.key)):Ee(19791,{wu:s})}function vO(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(le(Rg,"New document in limbo: "+n),i.Eu.add(s),xg(i))}function xg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new pe(rt.fromString(e)),s=i.fu.next();i.Au.set(s,new lO(n)),i.Ru=i.Ru.insert(n,s),DS(i.remoteStore,new us(ji(yf(n.path)),s,"TargetPurposeLimboResolution",mf.ce))}}async function Vu(i,e,n){const s=Ae(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=mg.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(g,(A=>ee.forEach(A.Ts,(P=>E.persistence.referenceDelegate.addReference(T,A.targetId,P))).next((()=>ee.forEach(A.Is,(P=>E.persistence.referenceDelegate.removeReference(T,A.targetId,P)))))))))}catch(T){if(!Po(T))throw T;le(pg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const P=E.vs.get(A),j=P.snapshotVersion,Q=P.withLastLimboFreeSnapshotVersion(j);E.vs=E.vs.insert(A,Q)}}})(s.localStore,u))}async function EO(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){le(Rg,"User change. New user:",e.toKey());const s=await xS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(W.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vu(n,s.Ns)}}function TO(i,e){const n=Ae(i),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function FS(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=zS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gO.bind(null,e),e.Pu.J_=rO.bind(null,e.eventManager),e.Pu.yu=sO.bind(null,e.eventManager),e}function bO(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_O.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AD(this.persistence,new bD,e.initialUser,this.serializer)}Cu(e){return new RS(dg.Vi,this.serializer)}Du(e){return new OD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class SO extends Jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof $h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new oD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new RS((s=>$h.Vi(s,n)),this.serializer)}}class Op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>BE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=EO.bind(null,this.syncEngine),await tO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iO})()}createDatastore(e){const n=Sf(e.databaseInfo.databaseId),s=LD(e.databaseInfo);return qD(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new FD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>BE(this.syncEngine,n,0)),(function(){return kE.v()?new kE:new MD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new uO(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(pa,"RemoteStore shutting down."),s.Ea.add(5),await Mu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Op.provider={build:()=>new Op};class Cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ts="FirestoreClient";class wO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(Ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(Ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Tg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Jm(i,e){i.asyncQueue.verifyOperationInProgress(),le(Ts,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await xS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function HE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await AO(i);le(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>LE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>LE(e.remoteStore,o))),i._onlineComponents=e}async function AO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(Ts,"Using user provided OfflineComponentProvider");try{await Jm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ma("Error using user provided cache. Falling back to memory cache: "+n),await Jm(i,new Jh)}}else le(Ts,"Using default OfflineComponentProvider"),await Jm(i,new SO(void 0));return i._offlineComponents}async function GS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(Ts,"Using user provided OnlineComponentProvider"),await HE(i,i._uninitializedComponentsProvider._online)):(le(Ts,"Using default OnlineComponentProvider"),await HE(i,new Op))),i._onlineComponents}function RO(i){return GS(i).then((e=>e.syncEngine))}async function Zh(i){const e=await GS(i),n=e.eventManager;return n.onListen=cO.bind(null,e.syncEngine),n.onUnlisten=dO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mO.bind(null,e.syncEngine),n}function xO(i,e,n,s){const o=new Cg(s),u=new Ag(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>bg(await Zh(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>Sg(await Zh(i),u)))}}function CO(i,e,n={}){const s=new pr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Cg({next:A=>{E.Nu(),h.enqueueAndForget((()=>Sg(u,T)));const P=A.docs.has(m);!P&&A.fromCache?g.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&A.fromCache&&p&&p.source==="server"?g.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new Ag(yf(m.path),E,{includeMetadataChanges:!0,Ka:!0});return bg(u,T)})(await Zh(i),i.asyncQueue,e,n,s))),s.promise}function IO(i,e,n={}){const s=new pr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Cg({next:A=>{E.Nu(),h.enqueueAndForget((()=>Sg(u,T))),A.fromCache&&p.source==="server"?g.reject(new oe(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new Ag(m,E,{includeMetadataChanges:!0,Ka:!0});return bg(u,T)})(await Zh(i),i.asyncQueue,e,n,s))),s.promise}function NO(i,e){const n=new pr;return i.asyncQueue.enqueueAndForget((async()=>pO(await RO(i),e,n))),n.promise}function QS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const DO="ComponentProvider",FE=new Map;function OO(i,e,n,s,o){return new WI(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,QS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const YS="firestore.googleapis.com",GE=!0;class QE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YS,this.ssl=GE}else this.host=e.host,this.ssl=e.ssl??GE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sD)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new NI;switch(s.type){case"firstParty":return new VI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=FE.get(n);s&&(le(DO,"Removing Datastore"),FE.delete(n),s.terminate())})(this),Promise.resolve()}}function MO(i,e,n,s={}){i=yn(i,Rf);const o=ya(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Bp(`https://${m}`),qp("Firestore",!0)),u.host!==YS&&u.host!==m&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ua(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Zt.MOCK_USER;else{g=jT(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(T)}i._authCredentials=new DI(new kb(g,E))}}class wr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wr(this.firestore,e,this._query)}}class pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Nu(n,pt._jsonSchema))return new pt(e,s||null,new pe(rt.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Mt("string",pt._jsonSchemaVersion),referencePath:Mt("string")};class ms extends wr{constructor(e,n,s){super(e,n,yf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new pe(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function en(i,e,...n){if(i=Tt(i),Pb("collection","path",e),i instanceof Rf){const s=rt.fromString(e,...n);return sE(s),new ms(i,null,s)}{if(!(i instanceof pt||i instanceof ms))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return sE(s),new ms(i.firestore,null,s)}}function Vi(i,e,...n){if(i=Tt(i),arguments.length===1&&(e=tg.newId()),Pb("doc","path",e),i instanceof Rf){const s=rt.fromString(e,...n);return rE(s),new pt(i,null,new pe(s))}{if(!(i instanceof pt||i instanceof ms))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return rE(s),new pt(i.firestore,i instanceof ms?i.converter:null,new pe(s))}}const YE="AsyncQueue";class KE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IS(this,"async_queue_retry"),this._c=()=>{const s=Wm();s&&le(YE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Po(e))throw e;le(YE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,vr("INTERNAL UNHANDLED ERROR: ",XE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Eg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:XE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function XE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Tr extends Rf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new KE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KE(e),this._firestoreClient=void 0,await e}}}function VO(i,e){const n=typeof i=="object"?i:Gp(),s=typeof i=="string"?i:Fh,o=uf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=PT("firestore");u&&MO(o,...u)}return o}function xf(i){if(i._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||kO(i),i._firestoreClient}function kO(i){const e=i._freezeSettings(),n=OO(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new wO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn($t.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Mt("string",qn._jsonSchemaVersion),bytes:Mt("string")};class Ig{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cf{constructor(e){this._methodName=e}}class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(Nu(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Mt("string",Bi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class ai{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nu(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ai(e.vectorValues);throw new oe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Mt("string",ai._jsonSchemaVersion),vectorValues:Mt("object")};const PO=/^__.*__$/;class LO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new Du(e,this.data,n,this.fieldTransforms)}}class KS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new As(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:i})}}class Ng{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ef(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(XS(this.dataSource)&&PO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class UO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Sf(e)}createContext(e,n,s,o=!1){return new Ng({dataSource:e,methodName:n,targetDoc:s,path:Xt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function If(i){const e=i._freezeSettings(),n=Sf(i._databaseId);return new UO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function $S(i,e,n,s,o,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);Og("Data must be an object, but it was:",h,s);const m=WS(s,h);let p,g;if(u.merge)p=new Cn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=ga(e,T,n);if(!h.contains(A))throw new oe(W.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);ew(E,A)||E.push(A)}p=new Cn(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new LO(new gn(m),p,g)}class Nf extends Cf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}class Dg extends Cf{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new vu(e.serializer,oS(e.serializer,this.Vc));return new AN(e.path,n)}isEqual(e){return e instanceof Dg&&this.Vc===e.Vc}}function jO(i,e,n,s){const o=i.createContext(1,e,n);Og("Data must be an object, but it was:",o,s);const u=[],h=gn.empty();ws(s,((p,g)=>{const E=ZS(e,p,n);g=Tt(g);const T=o.childContextForFieldPath(E);if(g instanceof Nf)u.push(E);else{const A=ku(g,T);A!=null&&(u.push(E),h.set(E,A))}}));const m=new Cn(u);return new KS(h,m,o.fieldTransforms)}function zO(i,e,n,s,o,u){const h=i.createContext(1,e,n),m=[ga(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(ga(e,u[A])),p.push(u[A+1]);const g=[],E=gn.empty();for(let A=m.length-1;A>=0;--A)if(!ew(g,m[A])){const P=m[A];let j=p[A];j=Tt(j);const Q=h.childContextForFieldPath(P);if(j instanceof Nf)g.push(P);else{const U=ku(j,Q);U!=null&&(g.push(P),E.set(P,U))}}const T=new Cn(g);return new KS(E,T,h.fieldTransforms)}function BO(i,e,n,s=!1){return ku(n,i.createContext(s?4:3,e))}function ku(i,e){if(JS(i=Tt(i)))return Og("Unsupported field value:",e,i),WS(i,e);if(i instanceof Cf)return(function(s,o){if(!XS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=ku(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Tt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=We.fromDate(s);return{timestampValue:Xh(o.serializer,u)}}if(s instanceof We){const u=new We(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xh(o.serializer,u)}}if(s instanceof Bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:yS(o.serializer,s._byteString)};if(s instanceof pt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ai)return(function(h,m){const p=h instanceof ai?h.toArray():h;return{mapValue:{fields:{[Gb]:{stringValue:Qb},[Gh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return og(m.serializer,E)}))}}}}}})(s,o);if(wS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${df(s)}`)})(i,e)}function WS(i,e){const n={};return jb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(i,((s,o)=>{const u=ku(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function JS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof We||i instanceof Bi||i instanceof qn||i instanceof pt||i instanceof Cf||i instanceof ai||wS(i))}function Og(i,e,n){if(!JS(n)||!Lb(n)){const s=df(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function ga(i,e,n){if((e=Tt(e))instanceof Ig)return e._internalPath;if(typeof e=="string")return ZS(i,e);throw ef("Field path arguments must be of type string or ",i,!1,void 0,n)}const qO=new RegExp("[~\\*/\\[\\]]");function ZS(i,e,n){if(e.search(qO)>=0)throw ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Ig(...e.split("."))._internalPath}catch{throw ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function ef(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(W.INVALID_ARGUMENT,m+i+p)}function ew(i,e){return i.some((n=>n.isEqual(e)))}class HO{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ws(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Gh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new ai(n)}convertGeoPoint(e){return new Bi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=ys(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ye(SS(s),9688,{name:e});const o=new mu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||vr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Mg extends HO{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function _h(i){return new Dg("increment",i)}const $E="@firebase/firestore",WE="4.11.0";function JE(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class tw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ga("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FO extends tw{data(){return super.data()}}function nw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vg{}class kg extends Vg{}function Mi(i,e,...n){let s=[];e instanceof Vg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Pg)).length,m=u.filter((p=>p instanceof Df)).length;if(h>1||h>0&&m>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Df extends kg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Df(e,n,s)}_apply(e){const n=this._parse(e);return iw(e._query,n),new wr(e.firestore,e.converter,Sp(e._query,n))}_parse(e){const n=If(e.firestore);return(function(u,h,m,p,g,E,T){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){eT(T,E);const j=[];for(const Q of T)j.push(ZE(p,u,Q));A={arrayValue:{values:j}}}else A=ZE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||eT(T,E),A=BO(m,h,T,E==="in"||E==="not-in");return Ot.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fo(i,e,n){const s=e,o=ga("where",i);return Df._create(o,s,n)}class Pg extends Vg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)iw(h,p),h=Sp(h,p)})(e._query,n),new wr(e.firestore,e.converter,Sp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lg extends kg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(u,h)})(e._query,this._field,this._direction);return new wr(e.firestore,e.converter,pN(e._query,n))}}function lu(i,e="asc"){const n=e,s=ga("orderBy",i);return Lg._create(s,n)}class Ug extends kg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Ug(e,n,s)}_apply(e){return new wr(e.firestore,e.converter,Yh(e._query,this._limit,this._limitType))}}function Zm(i){return Ug._create("limit",i,"F")}function ZE(i,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eS(e)&&n.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!pe.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return dE(i,new pe(s))}if(n instanceof pt)return dE(i,n._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function eT(i,e){if(!Array.isArray(i)||i.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iw(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function rw(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends tw{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ga("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Mt("string",oa._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Oh extends oa{data(e={}){return super.data(e)}}class la{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Oh(this._firestore,this._userDataWriter,s.key,s,new eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:GO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=la._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:Mt("string",la._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};function Mp(i){i=yn(i,pt);const e=yn(i.firestore,Tr),n=xf(e);return CO(n,i._key).then((s=>sw(e,i,s)))}function ii(i){i=yn(i,wr);const e=yn(i.firestore,Tr),n=xf(e),s=new Mg(e);return nw(i._query),IO(n,i._query).then((o=>new la(e,s,i,o)))}function QO(i,e,n){i=yn(i,pt);const s=yn(i.firestore,Tr),o=rw(i.converter,e),u=If(s);return Of(s,[$S(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Hn.none())])}function tu(i,e,n,...s){i=yn(i,pt);const o=yn(i.firestore,Tr),u=If(o);let h;return h=typeof(e=Tt(e))=="string"||e instanceof Ig?zO(u,"updateDoc",i._key,e,n,s):jO(u,"updateDoc",i._key,e),Of(o,[h.toMutation(i._key,Hn.exists(!0))])}function ep(i){return Of(yn(i.firestore,Tr),[new lg(i._key,Hn.none())])}function tT(i,e){const n=yn(i.firestore,Tr),s=Vi(i),o=rw(i.converter,e),u=If(i.firestore);return Of(n,[$S(u,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Hn.exists(!1))]).then((()=>s))}function tp(i,...e){i=Tt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||JE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(JE(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,h,m;if(i instanceof pt)h=yn(i.firestore,Tr),m=yf(i._key.path),u={next:g=>{e[s]&&e[s](sw(h,i,g))},error:e[s+1],complete:e[s+2]};else{const g=yn(i,wr);h=yn(g.firestore,Tr),m=g._query;const E=new Mg(h);u={next:T=>{e[s]&&e[s](new la(h,E,g,T))},error:e[s+1],complete:e[s+2]},nw(i._query)}const p=xf(h);return xO(p,m,o,u)}function Of(i,e){const n=xf(i);return NO(n,e)}function sw(i,e,n){const s=n.docs.get(e._key),o=new Mg(i);return new oa(i,o,e._key,s,new eu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){II(_a),ca(new ps("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Tr(new OI(s.getProvider("auth-internal")),new kI(h,s.getProvider("app-check-internal")),JI(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Pi($E,WE,e),Pi($E,WE,"esm2020")})();var YO="firebase",KO="12.9.0";Pi(YO,KO,"app");const aw="firebasestorage.googleapis.com",XO="storageBucket",$O=120*1e3,WO=600*1e3;class Qi extends Gi{constructor(e,n,s=0){super(np(e),`Firebase Storage: ${n} (${np(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return np(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hi||(Hi={}));function np(i){return"storage/"+i}function JO(){const i="An unknown error occurred, please check the error payload for server response.";return new Qi(Hi.UNKNOWN,i)}function ZO(){return new Qi(Hi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function e4(){return new Qi(Hi.CANCELED,"User canceled the upload/download.")}function t4(i){return new Qi(Hi.INVALID_URL,"Invalid URL '"+i+"'.")}function n4(i){return new Qi(Hi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function nT(i){return new Qi(Hi.INVALID_ARGUMENT,i)}function ow(){return new Qi(Hi.APP_DELETED,"The Firebase app was deleted.")}function i4(i){return new Qi(Hi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class si{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=si.makeFromUrl(e,n)}catch{return new si(e,"")}if(s.path==="")return s;throw n4(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ue){ue.path_=decodeURIComponent(ue.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",P=new RegExp(`^https?://${T}/${E}/b/${o}/o${A}`,"i"),j={bucket:1,path:3},Q=n===aw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",te=new RegExp(`^https?://${Q}/${o}/${U}`,"i"),ne=[{regex:m,indices:p,postModify:u},{regex:P,indices:j,postModify:g},{regex:te,indices:{bucket:1,path:2},postModify:g}];for(let ue=0;ue<ne.length;ue++){const Te=ne[ue],_e=Te.regex.exec(e);if(_e){const N=_e[Te.indices.bucket];let R=_e[Te.indices.path];R||(R=""),s=new si(N,R),Te.postModify(s);break}}if(s==null)throw t4(e);return s}}class r4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function s4(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...U){g||(g=!0,e.apply(null,U))}function T(U){o=setTimeout(()=>{o=null,i(P,p())},U)}function A(){u&&clearTimeout(u)}function P(U,...te){if(g){A();return}if(U){A(),E.call(null,U,...te);return}if(p()||h){A(),E.call(null,U,...te);return}s<64&&(s*=2);let ne;m===1?(m=2,ne=0):ne=(s+Math.random())*1e3,T(ne)}let j=!1;function Q(U){j||(j=!0,A(),!g&&(o!==null?(U||(m=2),clearTimeout(o),T(0)):U||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,Q(!0)},n),Q}function a4(i){i(!1)}function o4(i){return i!==void 0}function iT(i,e,n,s){if(s<e)throw nT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw nT(`Invalid value for '${i}'. Expected ${n} or less.`)}function l4(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var tf;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(tf||(tf={}));function u4(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class c4{constructor(e,n,s,o,u,h,m,p,g,E,T,A=!0,P=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=A,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,Q)=>{this.resolve_=j,this.reject_=Q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new vh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===tf.NO_ERROR,p=u.getStatus();if(!m||u4(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===tf.ABORT;s(!1,new vh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new vh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());o4(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=JO();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?ow():e4();h(p)}else{const p=ZO();h(p)}};this.canceled_?n(!1,new vh(!1,null,!0)):this.backoffId_=s4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&a4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function h4(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function f4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function d4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function m4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function p4(i,e,n,s,o,u,h=!0,m=!1){const p=l4(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return d4(E,e),h4(E,n),f4(E,u),m4(E,s),new c4(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function g4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function y4(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class nf{constructor(e,n){this._service=e,n instanceof si?this._location=n:this._location=si.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new nf(e,n)}get root(){const e=new si(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return y4(this._location.path)}get storage(){return this._service}get parent(){const e=g4(this._location.path);if(e===null)return null;const n=new si(this._location.bucket,e);return new nf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw i4(e)}}function rT(i,e){const n=e?.[XO];return n==null?null:si.makeFromBucketSpec(n,i)}function _4(i,e,n,s={}){i.host=`${e}:${n}`;const o=ya(e);o&&(Bp(`https://${i.host}/b`),qp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:jT(u,i.app.options.projectId))}class v4{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=aw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$O,this._maxUploadRetryTime=WO,this._requests=new Set,o!=null?this._bucket=si.makeFromBucketSpec(o,this._host):this._bucket=rT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=si.makeFromBucketSpec(this._url,e):this._bucket=rT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nf(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new r4(ow());{const h=p4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const sT="@firebase/storage",aT="0.14.0";const lw="storage";function E4(i=Gp(),e){i=Tt(i);const s=uf(i,lw).getImmediate({identifier:e}),o=PT("storage");return o&&T4(s,...o),s}function T4(i,e,n,s={}){_4(i,e,n,s)}function b4(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new v4(n,s,o,e,_a)}function S4(){ca(new ps(lw,b4,"PUBLIC").setMultipleInstances(!0)),Pi(sT,aT,""),Pi(sT,aT,"esm2020")}S4();const w4={apiKey:"AIzaSyBb4pQLPGSHudHFpazB0nYdRvi4N8yOVKw",authDomain:"mindstack-a4690.firebaseapp.com",projectId:"mindstack-a4690",storageBucket:"mindstack-a4690.firebasestorage.app",messagingSenderId:"376916122885",appId:"1:376916122885:web:22ae7a76543c27f90f2b6c"},jg=qT(w4),aa=xI(jg),ot=VO(jg);E4(jg);const uw=z.createContext(void 0);function A4({children:i}){const[e,n]=z.useState(null),[s,o]=z.useState(null),[u,h]=z.useState(!0),m=async(P,j)=>{const Q=Vi(ot,"users",P.uid),U={uid:P.uid,email:P.email||"",displayName:j,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${P.uid}`,role:"user",bio:"",createdAt:We.now(),achievements:{solved:0,helpful:0,contributions:0}};return await QO(Q,U),U},p=async P=>{try{const j=Vi(ot,"users",P);return(await Mp(j)).data()||null}catch(j){return console.error("Error fetching user profile:",j),null}},g=async(P,j,Q)=>{const{user:U}=await pb(aa,P,j),te=await m(U,Q);o(te)},E=async(P,j)=>{const{user:Q}=await gb(aa,P,j),U=await p(Q.uid);o(U)},T=async()=>{o(null),await yb(aa)};z.useEffect(()=>g2(aa,async j=>{try{if(j){n(j);const Q=await p(j.uid);o(Q)}else n(null),o(null)}finally{h(!1)}}),[]);const A={currentUser:e,userProfile:s,loading:u,signup:g,login:E,logout:T,isAdmin:s?.role==="admin"};return S.jsx(uw.Provider,{value:A,children:i})}function Mf(){const i=z.useContext(uw);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}var cw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oT=cs.createContext&&cs.createContext(cw),R4=["attr","size","title"];function x4(i,e){if(i==null)return{};var n=C4(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function C4(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function rf(){return rf=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},rf.apply(this,arguments)}function lT(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function sf(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lT(Object(n),!0).forEach(function(s){I4(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function I4(i,e,n){return e=N4(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function N4(i){var e=D4(i,"string");return typeof e=="symbol"?e:e+""}function D4(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function hw(i){return i&&i.map((e,n)=>cs.createElement(e.tag,sf({key:n},e.attr),hw(e.child)))}function on(i){return e=>cs.createElement(O4,rf({attr:sf({},i.attr)},e),hw(i.child))}function O4(i){var e=n=>{var{attr:s,size:o,title:u}=i,h=x4(i,R4),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),cs.createElement("svg",rf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:p,style:sf(sf({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&cs.createElement("title",null,u),i.children)};return oT!==void 0?cs.createElement(oT.Consumer,null,n=>e(n)):e(cw)}function M4(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(i)}function V4(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(i)}function k4(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(i)}function P4(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(i)}function fw(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(i)}function L4(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(i)}function U4(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(i)}function j4(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(i)}function z4(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(i)}function B4(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(i)}function uT(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(i)}function q4(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(i)}function ip(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(i)}function H4(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(i)}function F4(i){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(i)}function G4(){const{currentUser:i,userProfile:e,isAdmin:n}=Mf(),s=Oo(),[o,u]=z.useState(""),[h,m]=z.useState(!1),p=T=>{T.preventDefault(),o.trim()&&(s(`/search?q=${encodeURIComponent(o)}`),u(""),m(!1))},g=async()=>{try{await yb(aa),s("/")}catch(T){console.error("Logout error:",T)}},E=T=>T.split(" ").map(A=>A[0]).join("").toUpperCase().slice(0,2);return S.jsx("nav",{className:"bg-gray-900 border-b border-gray-800 sticky top-0 z-50",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[S.jsxs("div",{className:"flex justify-between items-center h-16",children:[S.jsx(it,{to:"/",className:"flex-shrink-0",children:S.jsx("span",{className:"text-2xl font-bold text-orange-400",children:"MindStack"})}),S.jsx("form",{onSubmit:p,className:"hidden md:flex flex-1 mx-8",children:S.jsxs("div",{className:"relative w-full max-w-sm",children:[S.jsx("input",{type:"text",value:o,onChange:T=>u(T.target.value),placeholder:"Search questions...",className:"w-full pl-10 pr-4 py-2 rounded bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 text-white"}),S.jsx(uT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]})}),S.jsx("div",{className:"hidden md:flex items-center gap-4",children:i?S.jsxs(S.Fragment,{children:[S.jsx(it,{to:"/ask",className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-semibold text-sm transition",children:"Ask Question"}),S.jsxs("div",{className:"relative group",children:[S.jsx("button",{className:"flex items-center gap-2 focus:outline-none",children:S.jsx("div",{className:"w-9 h-9 rounded-full bg-orange-500 flex items-center justify-center text-white font-semibold",children:e?.avatar?S.jsx("img",{src:e.avatar,alt:e.displayName,className:"w-9 h-9 rounded-full"}):E(e?.displayName||i?.email||"User")})}),S.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-gray-800 border border-gray-700 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[S.jsx("div",{className:"px-4 py-2 text-sm font-semibold text-white",children:e?.displayName||i?.email}),S.jsx("div",{className:"px-4 py-1 text-xs text-gray-400",children:i?.email}),S.jsx("div",{className:"border-t border-gray-700 my-1"}),S.jsx(it,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"Profile"}),S.jsx(it,{to:"/favorites",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"Favorites"}),S.jsx(it,{to:"/chat",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"Messages"}),n&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"border-t border-gray-700 my-1"}),S.jsx(it,{to:"/admin",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"Admin Dashboard"})]}),S.jsx("div",{className:"border-t border-gray-700 my-1"}),S.jsx("button",{onClick:g,className:"block w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"Logout"})]})]})]}):S.jsxs(S.Fragment,{children:[S.jsx(it,{to:"/login",className:"px-4 py-2 rounded bg-gray-700 hover:bg-gray-600 text-white",children:"Log In"}),S.jsx(it,{to:"/signup",className:"px-4 py-2 rounded bg-orange-500 hover:bg-orange-600 text-white",children:"Sign Up"})]})}),S.jsx("button",{onClick:()=>m(!h),className:"md:hidden p-2 text-white hover:bg-gray-800 rounded-lg",children:h?S.jsx(F4,{size:24}):S.jsx(j4,{size:24})})]}),h&&S.jsxs("div",{className:"md:hidden pb-4 space-y-3",children:[S.jsxs("form",{onSubmit:p,className:"relative",children:[S.jsx("input",{type:"text",value:o,onChange:T=>u(T.target.value),placeholder:"Search questions...",className:"w-full pl-10 pr-4 py-2 rounded bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 text-white"}),S.jsx(uT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]}),i?S.jsxs(S.Fragment,{children:[S.jsx(it,{to:"/ask",className:"block w-full px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-center",onClick:()=>m(!1),children:"Ask Question"}),S.jsx(it,{to:"/profile",className:"block w-full px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-center",onClick:()=>m(!1),children:"Profile"}),S.jsx(it,{to:"/favorites",className:"block w-full px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-center",onClick:()=>m(!1),children:"Favorites"}),S.jsx(it,{to:"/chat",className:"block w-full px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-center",onClick:()=>m(!1),children:"Messages"}),n&&S.jsx(it,{to:"/admin",className:"block w-full px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-center",onClick:()=>m(!1),children:"Admin Dashboard"}),S.jsx("button",{onClick:()=>{g(),m(!1)},className:"w-full px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-center",children:"Logout"})]}):S.jsxs(S.Fragment,{children:[S.jsx(it,{to:"/login",className:"block w-full px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-center",onClick:()=>m(!1),children:"Log In"}),S.jsx(it,{to:"/signup",className:"block w-full px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-center",onClick:()=>m(!1),children:"Sign Up"})]})]})]})})}function Q4(){return S.jsx("footer",{className:"bg-gray-900 border-t border-gray-800 mt-20",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 text-center text-gray-400",children:[S.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"OsPheii Forum"}),S.jsx("p",{children:"Developer Knowledge Hub  Ask  Share  Solve"}),S.jsxs("p",{className:"mt-4 text-sm",children:[" ",new Date().getFullYear()," OsPheii. All rights reserved."]})]})})}const Eh=43200,cT=1440,hT=Symbol.for("constructDateFrom");function zg(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&hT in i?i[hT](e):i instanceof Date?new i.constructor(e):new Date(e)}function bs(i,e){return zg(i,i)}let Y4={};function K4(){return Y4}function fT(i){const e=bs(i),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+i-+n}function Bg(i,...e){const n=zg.bind(null,i||e.find(s=>typeof s=="object"));return e.map(n)}function Mh(i,e){const n=+bs(i)-+bs(e);return n<0?-1:n>0?1:n}function X4(i){return zg(i,Date.now())}function $4(i,e,n){const[s,o]=Bg(n?.in,i,e),u=s.getFullYear()-o.getFullYear(),h=s.getMonth()-o.getMonth();return u*12+h}function W4(i){return e=>{const s=(i?Math[i]:Math.trunc)(e);return s===0?0:s}}function J4(i,e){return+bs(i)-+bs(e)}function Z4(i,e){const n=bs(i);return n.setHours(23,59,59,999),n}function eM(i,e){const n=bs(i),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function tM(i,e){const n=bs(i);return+Z4(n)==+eM(n)}function nM(i,e,n){const[s,o,u]=Bg(n?.in,i,i,e),h=Mh(o,u),m=Math.abs($4(o,u));if(m<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-h*m);let p=Mh(o,u)===-h;tM(s)&&m===1&&Mh(s,u)===1&&(p=!1);const g=h*(m-+p);return g===0?0:g}function iM(i,e,n){const s=J4(i,e)/1e3;return W4(n?.roundingMethod)(s)}const rM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sM=(i,e,n)=>{let s;const o=rM[i];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function rp(i){return(e={})=>{const n=e.width?String(e.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const aM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uM={date:rp({formats:aM,defaultWidth:"full"}),time:rp({formats:oM,defaultWidth:"full"}),dateTime:rp({formats:lM,defaultWidth:"full"})},cM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hM=(i,e,n,s)=>cM[i];function Yl(i){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&i.formattingValues){const h=i.defaultFormattingWidth||i.defaultWidth,m=n?.width?String(n.width):h;o=i.formattingValues[m]||i.formattingValues[h]}else{const h=i.defaultWidth,m=n?.width?String(n.width):i.defaultWidth;o=i.values[m]||i.values[h]}const u=i.argumentCallback?i.argumentCallback(e):e;return o[u]}}const fM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_M=(i,e)=>{const n=Number(i),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},vM={ordinalNumber:_M,era:Yl({values:fM,defaultWidth:"wide"}),quarter:Yl({values:dM,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Yl({values:mM,defaultWidth:"wide"}),day:Yl({values:pM,defaultWidth:"wide"}),dayPeriod:Yl({values:gM,defaultWidth:"wide",formattingValues:yM,defaultFormattingWidth:"wide"})};function Kl(i){return(e,n={})=>{const s=n.width,o=s&&i.matchPatterns[s]||i.matchPatterns[i.defaultMatchWidth],u=e.match(o);if(!u)return null;const h=u[0],m=s&&i.parsePatterns[s]||i.parsePatterns[i.defaultParseWidth],p=Array.isArray(m)?TM(m,T=>T.test(h)):EM(m,T=>T.test(h));let g;g=i.valueCallback?i.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const E=e.slice(h.length);return{value:g,rest:E}}}function EM(i,e){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&e(i[n]))return n}function TM(i,e){for(let n=0;n<i.length;n++)if(e(i[n]))return n}function bM(i){return(e,n={})=>{const s=e.match(i.matchPattern);if(!s)return null;const o=s[0],u=e.match(i.parsePattern);if(!u)return null;let h=i.valueCallback?i.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const m=e.slice(o.length);return{value:h,rest:m}}}const SM=/^(\d+)(th|st|nd|rd)?/i,wM=/\d+/i,AM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},RM={any:[/^b/i,/^(a|c)/i]},xM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CM={any:[/1/i,/2/i,/3/i,/4/i]},IM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},MM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},VM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kM={ordinalNumber:bM({matchPattern:SM,parsePattern:wM,valueCallback:i=>parseInt(i,10)}),era:Kl({matchPatterns:AM,defaultMatchWidth:"wide",parsePatterns:RM,defaultParseWidth:"any"}),quarter:Kl({matchPatterns:xM,defaultMatchWidth:"wide",parsePatterns:CM,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Kl({matchPatterns:IM,defaultMatchWidth:"wide",parsePatterns:NM,defaultParseWidth:"any"}),day:Kl({matchPatterns:DM,defaultMatchWidth:"wide",parsePatterns:OM,defaultParseWidth:"any"}),dayPeriod:Kl({matchPatterns:MM,defaultMatchWidth:"any",parsePatterns:VM,defaultParseWidth:"any"})},PM={code:"en-US",formatDistance:sM,formatLong:uM,formatRelative:hM,localize:vM,match:kM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LM(i,e,n){const s=K4(),o=n?.locale??s.locale??PM,u=2520,h=Mh(i,e);if(isNaN(h))throw new RangeError("Invalid time value");const m=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:h}),[p,g]=Bg(n?.in,...h>0?[e,i]:[i,e]),E=iM(g,p),T=(fT(g)-fT(p))/1e3,A=Math.round((E-T)/60);let P;if(A<2)return n?.includeSeconds?E<5?o.formatDistance("lessThanXSeconds",5,m):E<10?o.formatDistance("lessThanXSeconds",10,m):E<20?o.formatDistance("lessThanXSeconds",20,m):E<40?o.formatDistance("halfAMinute",0,m):E<60?o.formatDistance("lessThanXMinutes",1,m):o.formatDistance("xMinutes",1,m):A===0?o.formatDistance("lessThanXMinutes",1,m):o.formatDistance("xMinutes",A,m);if(A<45)return o.formatDistance("xMinutes",A,m);if(A<90)return o.formatDistance("aboutXHours",1,m);if(A<cT){const j=Math.round(A/60);return o.formatDistance("aboutXHours",j,m)}else{if(A<u)return o.formatDistance("xDays",1,m);if(A<Eh){const j=Math.round(A/cT);return o.formatDistance("xDays",j,m)}else if(A<Eh*2)return P=Math.round(A/Eh),o.formatDistance("aboutXMonths",P,m)}if(P=nM(g,p),P<12){const j=Math.round(A/Eh);return o.formatDistance("xMonths",j,m)}else{const j=P%12,Q=Math.trunc(P/12);return j<3?o.formatDistance("aboutXYears",Q,m):j<9?o.formatDistance("overXYears",Q,m):o.formatDistance("almostXYears",Q+1,m)}}function Eu(i,e){return LM(i,X4(i),e)}function dw({id:i,title:e,description:n,author:s,tags:o,createdAt:u,viewCount:h,answerCount:m,status:p}){const g=u?.toDate?Eu(u.toDate(),{addSuffix:!0}):"Recently",E={open:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"};return S.jsx(it,{to:`/question/${i}`,className:"block",children:S.jsxs("div",{className:"bg-gray-900 p-4 rounded-xl hover:shadow-lg transition-shadow cursor-pointer border border-gray-800",children:[S.jsxs("div",{className:"flex items-start justify-between mb-3",children:[S.jsx("h3",{className:"text-lg font-semibold text-white hover:text-orange-400 line-clamp-2 flex-1",children:e}),S.jsx("span",{className:`ml-2 flex-shrink-0 px-2 py-1 rounded-full text-xs font-semibold ${E[p]}`,children:p})]}),S.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-4",children:n}),S.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[o.slice(0,3).map(T=>S.jsx("span",{className:"px-2 py-1 bg-gray-800 text-gray-300 rounded-full text-xs border border-gray-700",children:T},T)),o.length>3&&S.jsxs("span",{className:"px-2 py-1 bg-gray-800 text-gray-300 rounded-full text-xs border border-gray-700",children:["+",o.length-3]})]}),S.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(z4,{className:"w-4 h-4"}),S.jsxs("span",{children:[m," answer",m!==1?"s":""]})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(fw,{className:"w-4 h-4"}),S.jsxs("span",{children:[h," views"]})]})]}),S.jsxs("div",{className:"text-xs",children:["by ",S.jsx("span",{className:"font-semibold text-gray-300",children:s})," ",g]})]})]})})}function UM(){const{user:i}=Mf(),[e,n]=z.useState([]),[s,o]=z.useState(!0),[u,h]=z.useState("newest");return z.useEffect(()=>{(async()=>{try{o(!0);const p=en(ot,"questions");let g;u==="newest"?g=Mi(p,lu("createdAt","desc"),Zm(20)):u==="views"?g=Mi(p,lu("viewCount","desc"),Zm(20)):g=Mi(p,lu("answers","desc"),Zm(20));const T=(await ii(g)).docs.map(A=>({id:A.id,...A.data()}));n(T)}catch(p){console.error("Error fetching questions:",p)}finally{o(!1)}})()},[u]),S.jsx("div",{className:"min-h-screen bg-gray-950",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 gap-4",children:[S.jsxs("div",{children:[S.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Welcome",i?`, ${i.displayName||i.email}`:"","!"]}),S.jsx("p",{className:"text-gray-400",children:"Browse and find solutions from the community"})]}),i?S.jsx(it,{to:"/ask",children:S.jsxs("button",{className:"bg-orange-500 hover:bg-orange-600 text-white font-semibold px-6 py-3 rounded-lg flex items-center gap-2 transition",children:[S.jsx("span",{children:"Ask a Question"}),S.jsx(V4,{size:18})]})}):S.jsx(it,{to:"/signup",children:S.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white font-semibold px-6 py-3 rounded-lg transition",children:"Join the Community"})})]}),S.jsx("div",{className:"flex gap-2 mb-6 border-b border-gray-800 pb-4",children:["newest","views","answers"].map(m=>S.jsx("button",{onClick:()=>h(m),className:`px-4 py-2 rounded-lg font-medium transition ${u===m?"bg-orange-500 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-300"}`,children:m.charAt(0).toUpperCase()+m.slice(1)},m))}),s?S.jsx("div",{className:"space-y-4",children:[...Array(5)].map((m,p)=>S.jsx("div",{className:"h-32 bg-gray-800/50 rounded-lg animate-pulse"},p))}):e.length===0?S.jsxs("div",{className:"text-center py-12 bg-gray-900 rounded-xl border border-gray-800",children:[S.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"No questions yet"}),i?S.jsx(it,{to:"/ask",children:S.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Ask the first question"})}):S.jsx("p",{className:"text-gray-400",children:"Please log in to ask questions and interact with the community."})]}):S.jsx("div",{className:"space-y-4",children:e.map(m=>S.jsx(dw,{id:m.id,title:m.title,description:m.description,author:m.authorName,tags:m.tags||[],createdAt:m.createdAt,viewCount:m.viewCount||0,answerCount:m.answers||0,status:m.status||"open"},m.id))})]})})}function jM(){const[i,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[h,m]=z.useState(!1),p=Oo(),g=async E=>{E.preventDefault(),u(""),m(!0);try{await gb(aa,i,n),p("/")}catch(T){u(T.message)}finally{m(!1)}};return S.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:S.jsxs("div",{className:"bg-gray-900 p-8 rounded-xl w-96 shadow-xl border border-gray-800",children:[S.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-white",children:"Login to OsPheii"}),o&&S.jsx("div",{className:"bg-red-500 text-white p-3 rounded mb-4",children:o}),S.jsxs("form",{onSubmit:g,children:[S.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:E=>e(E.target.value),required:!0,className:"w-full p-3 mb-4 rounded bg-gray-800 text-white border border-gray-700 focus:border-orange-500 focus:outline-none"}),S.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:E=>s(E.target.value),required:!0,className:"w-full p-3 mb-6 rounded bg-gray-800 text-white border border-gray-700 focus:border-orange-500 focus:outline-none"}),S.jsx("button",{type:"submit",disabled:h,className:"w-full py-3 rounded bg-orange-500 hover:bg-orange-600 text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Logging in...":"Log In"})]}),S.jsxs("p",{className:"text-center mt-4 text-gray-400",children:["Don't have an account?"," ",S.jsx(it,{to:"/signup",className:"text-orange-400 hover:text-orange-300",children:"Sign up"})]})]})})}function zM(){const[i,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[h,m]=z.useState(""),[p,g]=z.useState(!1),E=Oo(),T=async A=>{A.preventDefault(),m(""),g(!0);try{const P=await pb(aa,n,o);await d2(P.user,{displayName:i}),E("/")}catch(P){m(P.message)}finally{g(!1)}};return S.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:S.jsxs("div",{className:"bg-gray-900 p-8 rounded-xl w-96 shadow-xl border border-gray-800",children:[S.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-white",children:"Create Account"}),h&&S.jsx("div",{className:"bg-red-500 text-white p-3 rounded mb-4",children:h}),S.jsxs("form",{onSubmit:T,children:[S.jsx("input",{type:"text",placeholder:"Username",value:i,onChange:A=>e(A.target.value),required:!0,className:"w-full p-3 mb-4 rounded bg-gray-800 text-white border border-gray-700 focus:border-orange-500 focus:outline-none"}),S.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:A=>s(A.target.value),required:!0,className:"w-full p-3 mb-4 rounded bg-gray-800 text-white border border-gray-700 focus:border-orange-500 focus:outline-none"}),S.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:A=>u(A.target.value),required:!0,minLength:"6",className:"w-full p-3 mb-6 rounded bg-gray-800 text-white border border-gray-700 focus:border-orange-500 focus:outline-none"}),S.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 rounded bg-green-500 hover:bg-green-600 text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Creating Account...":"Sign Up"})]}),S.jsxs("p",{className:"text-center mt-4 text-gray-400",children:["Already have an account?"," ",S.jsx(it,{to:"/login",className:"text-orange-400 hover:text-orange-300",children:"Log in"})]})]})})}function BM(){const[i]=CR(),e=i.get("q")||"",[n,s]=z.useState([]),[o,u]=z.useState(!0);return z.useEffect(()=>{(async()=>{if(!e.trim()){s([]),u(!1);return}try{u(!0);const m=en(ot,"questions"),g=(await ii(m)).docs.map(A=>({id:A.id,...A.data()})),E=e.toLowerCase(),T=g.filter(A=>A.title?.toLowerCase().includes(E)||A.description?.toLowerCase().includes(E)||A.tags?.some(P=>P.toLowerCase().includes(E)));s(T)}catch(m){console.error("Error searching:",m)}finally{u(!1)}})()},[e]),S.jsx("div",{className:"min-h-screen bg-gray-950",children:S.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[S.jsx("h1",{className:"text-3xl font-bold mb-2 text-white",children:"Search Results"}),S.jsx("p",{className:"text-gray-400 mb-8",children:o?"Searching...":`Found ${n.length} result${n.length!==1?"s":""} for "${e}"`}),o?S.jsx("div",{className:"space-y-4",children:[...Array(5)].map((h,m)=>S.jsx("div",{className:"h-32 bg-gray-800/50 rounded-lg animate-pulse"},m))}):n.length===0?S.jsxs("div",{className:"bg-gray-900 p-12 text-center rounded-xl border border-gray-800",children:[S.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"No questions found matching your search"}),S.jsx("p",{className:"text-gray-400 mb-6",children:"Try different keywords or"}),S.jsx(it,{to:"/ask",className:"inline-block px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg transition-colors",children:"Ask a Question"})]}):S.jsx("div",{className:"space-y-4",children:n.map(h=>S.jsx(dw,{id:h.id,title:h.title,description:h.description,author:h.authorName,tags:h.tags||[],createdAt:h.createdAt,viewCount:h.viewCount||0,answerCount:h.answers||0,status:h.status||"open"},h.id))})]})})}function qM(){const{id:i}=L1();Oo();const{currentUser:e,userProfile:n}=Mf(),[s,o]=z.useState(null),[u,h]=z.useState([]),[m,p]=z.useState(!0),[g,E]=z.useState(""),[T,A]=z.useState(""),[P,j]=z.useState(!1),[Q,U]=z.useState(new Set),[te,ie]=z.useState(new Set),[ne,ue]=z.useState("");z.useEffect(()=>{(async()=>{if(i)try{p(!0);const C=Vi(ot,"questions",i),x=await Mp(C);if(x.exists()){const D={id:x.id,...x.data()};o(D),await tu(C,{viewCount:_h(1)});const k=en(ot,"answers"),I=Mi(k,fo("questionId","==",i)),Ce=(await ii(I)).docs.map(G=>({id:G.id,...G.data()}));if(Ce.sort((G,re)=>(re.lampCount||0)-(G.lampCount||0)),h(Ce),e){const G=new Set,re=new Set;Ce.forEach(M=>{M.userLamps&&M.userLamps[e.uid]&&G.add(M.id)});const de=en(ot,"favorites"),De=Mi(de,fo("userId","==",e.uid));(await ii(De)).docs.forEach(M=>{re.add(M.data().answerId)}),U(G),ie(re)}}}catch(C){console.error("Error fetching question:",C),ue("Failed to load question")}finally{p(!1)}})()},[i,e]);const Te=async R=>{if(R.preventDefault(),!e){alert("Please log in to post an answer");return}if(!g.trim()){ue("Answer cannot be empty");return}j(!0),ue("");try{const C=en(ot,"answers");await tT(C,{questionId:i,authorId:e.uid,authorName:n?.displayName||e.email,content:g.trim(),code:T.trim()||"",createdAt:We.now(),updatedAt:We.now(),comments:0,lampCount:0,userLamps:{}});const x=Vi(ot,"questions",i);await tu(x,{answers:_h(1)}),E(""),A("");const D=en(ot,"answers"),k=Mi(D,fo("questionId","==",i)),Ve=(await ii(k)).docs.map(Ce=>({id:Ce.id,...Ce.data()}));Ve.sort((Ce,G)=>(G.lampCount||0)-(Ce.lampCount||0)),h(Ve)}catch(C){console.error("Error posting answer:",C),ue("Failed to post answer")}finally{j(!1)}},_e=async R=>{if(!e){alert("Please log in to add a lamp");return}try{const C=Vi(ot,"answers",R),D=(await Mp(C)).data();if(Q.has(R)){const G={...D?.userLamps};delete G[e.uid],await tu(C,{userLamps:G,lampCount:_h(-1)}),U(re=>{const de=new Set(re);return de.delete(R),de})}else await tu(C,{[`userLamps.${e.uid}`]:!0,lampCount:_h(1)}),U(G=>new Set(G).add(R));const k=en(ot,"answers"),I=Mi(k,fo("questionId","==",i)),Ce=(await ii(I)).docs.map(G=>({id:G.id,...G.data()}));Ce.sort((G,re)=>(re.lampCount||0)-(G.lampCount||0)),h(Ce)}catch(C){console.error("Error updating lamp:",C)}},N=async R=>{if(!e){alert("Please log in to save favorites");return}try{if(te.has(R)){const C=en(ot,"favorites"),x=Mi(C,fo("userId","==",e.uid),fo("answerId","==",R));(await ii(x)).docs.forEach(async k=>{await k.ref.delete()}),ie(k=>{const I=new Set(k);return I.delete(R),I})}else{const C=en(ot,"favorites");await tT(C,{userId:e.uid,answerId:R,addedAt:We.now()}),ie(x=>new Set(x).add(R))}}catch(C){console.error("Error updating favorite:",C)}};return m?S.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-950",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),S.jsx("p",{className:"text-gray-400",children:"Loading..."})]})}):s?S.jsx("div",{className:"min-h-screen bg-gray-950 text-white",children:S.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[S.jsxs(it,{to:"/",className:"inline-flex items-center gap-2 text-orange-400 hover:text-orange-300 mb-6",children:[S.jsx(M4,{size:18}),"Back to Questions"]}),S.jsxs("div",{className:"bg-gray-900 p-8 rounded-xl border border-gray-800 mb-8",children:[S.jsxs("div",{className:"flex items-start justify-between mb-4",children:[S.jsx("h1",{className:"text-3xl font-bold text-white flex-1",children:s.title}),S.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${s.status==="open"?"bg-blue-100 text-blue-800":s.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status})]}),S.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.tags?.map(R=>S.jsx("span",{className:"px-2 py-1 bg-gray-800 text-gray-300 rounded-full text-xs border border-gray-700",children:R},R))}),S.jsxs("div",{className:"text-sm text-gray-400 mb-6",children:["Asked by ",S.jsx("span",{className:"font-semibold text-gray-300",children:s.authorName})," "," ",Eu(s.createdAt.toDate(),{addSuffix:!0}),"  ",s.viewCount," views"]}),S.jsxs("div",{className:"prose prose-invert max-w-none mb-6",children:[S.jsx("p",{className:"whitespace-pre-wrap text-gray-300",children:s.description}),s.code&&S.jsx("div",{className:"bg-gray-800 p-4 rounded-lg font-mono text-sm overflow-x-auto mt-4 text-gray-300",children:S.jsx("pre",{children:s.code})})]})]}),S.jsxs("div",{className:"mb-8",children:[S.jsxs("h2",{className:"text-2xl font-bold mb-6 text-white",children:[u.length," Answers"]}),S.jsx("div",{className:"space-y-6",children:u.map(R=>S.jsx("div",{className:"bg-gray-900 p-6 rounded-xl border border-gray-800",children:S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsxs("button",{onClick:()=>_e(R.id),className:`flex flex-col items-center gap-1 px-2 py-2 rounded transition ${Q.has(R.id)?"bg-orange-500 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-300"}`,title:"Mark as helpful",children:[S.jsx(q4,{size:20}),S.jsx("span",{className:"text-xs font-semibold",children:R.lampCount||0})]}),S.jsx("button",{onClick:()=>N(R.id),className:`flex flex-col items-center gap-1 px-2 py-2 rounded transition ${te.has(R.id)?"bg-red-500 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-300"}`,title:"Save to favorites",children:S.jsx(U4,{size:20})})]}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"prose prose-invert max-w-none mb-4",children:[S.jsx("p",{className:"whitespace-pre-wrap text-gray-300",children:R.content}),R.code&&S.jsx("div",{className:"bg-gray-800 p-4 rounded-lg font-mono text-sm overflow-x-auto mt-4",children:S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsx("pre",{className:"flex-1 text-gray-300",children:R.code}),S.jsx("button",{onClick:()=>{navigator.clipboard.writeText(R.code),alert("Code copied!")},className:"ml-2 p-2 bg-orange-500 hover:bg-orange-600 text-white rounded flex-shrink-0",title:"Copy code",children:S.jsx(P4,{size:16})})]})})]}),S.jsxs("div",{className:"text-sm text-gray-400",children:["Answered by ",S.jsx("span",{className:"font-semibold text-gray-300",children:R.authorName})," "," ",Eu(R.createdAt.toDate(),{addSuffix:!0})]})]})]})},R.id))})]}),e?S.jsxs("div",{className:"bg-gray-900 p-8 rounded-xl border border-gray-800",children:[S.jsx("h2",{className:"text-xl font-bold mb-6 text-white",children:"Your Answer"}),ne&&S.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:ne}),S.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-semibold mb-2 text-gray-300",children:"Solution"}),S.jsx("textarea",{value:g,onChange:R=>E(R.target.value),placeholder:"Share your solution...",className:"w-full min-h-32 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",disabled:P})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-semibold mb-2 text-gray-300",children:"Code (Optional)"}),S.jsx("textarea",{value:T,onChange:R=>A(R.target.value),placeholder:"Paste your code here...",className:"w-full min-h-24 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",disabled:P})]}),S.jsx("button",{type:"submit",className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",disabled:P,children:P?"Posting...":"Post Answer"})]})]}):S.jsxs("div",{className:"bg-gray-900 p-8 rounded-xl border border-gray-800 text-center",children:[S.jsx("p",{className:"text-gray-400 mb-4",children:"Sign in to post an answer"}),S.jsx(it,{to:"/login",className:"inline-block px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg",children:"Log In"})]})]})}):S.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-950",children:S.jsxs("div",{className:"text-center",children:[S.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"Question not found"}),S.jsx(it,{to:"/",className:"inline-block px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg",children:"Back to Questions"})]})})}function HM(){const{userProfile:i,isAdmin:e}=Mf(),[n,s]=z.useState({totalUsers:0,totalQuestions:0,totalAnswers:0,totalMessages:0}),[o,u]=z.useState([]),[h,m]=z.useState([]),[p,g]=z.useState([]),[E,T]=z.useState([]),[A,P]=z.useState(!0),[j,Q]=z.useState(null),[U,te]=z.useState(!1),[ie,ne]=z.useState(null),[ue,Te]=z.useState("activity");z.useEffect(()=>{const x=async()=>{try{P(!0);const k=(await ii(en(ot,"users"))).docs.map(ge=>({id:ge.id,...ge.data()}));u(k);const Ve=(await ii(Mi(en(ot,"questions"),lu("createdAt","desc")))).docs.map(ge=>({id:ge.id,...ge.data()}));m(Ve);const G=(await ii(Mi(en(ot,"answers"),lu("createdAt","desc")))).docs.map(ge=>({id:ge.id,...ge.data()}));g(G);const de=(await ii(en(ot,"messages"))).docs.map(ge=>ge.data());s({totalUsers:k.length,totalQuestions:Ve.length,totalAnswers:G.length,totalMessages:de.length});const De=[];Ve.slice(0,5).forEach(ge=>{De.push({id:ge.id,type:"question",title:ge.title||"Untitled",author:ge.authorName||"Anonymous",timestamp:ge.createdAt})}),G.slice(0,5).forEach(ge=>{De.push({id:ge.id,type:"answer",title:(ge.content||"").substring(0,50)+"...",author:ge.authorName||"Anonymous",timestamp:ge.createdAt})}),De.sort((ge,M)=>{const J=ge.timestamp?.seconds||0;return(M.timestamp?.seconds||0)-J}),T(De)}catch(D){console.error("Error fetching admin data:",D)}finally{P(!1)}};if(e&&x(),e){const D=tp(en(ot,"questions"),()=>{x()}),k=tp(en(ot,"answers"),()=>{x()}),I=tp(en(ot,"users"),()=>{x()});return()=>{D(),k(),I()}}},[e]);const _e=async x=>{try{await ep(Vi(ot,"questions",x)),m(D=>D.filter(k=>k.id!==x)),ne(null)}catch(D){console.error("Error deleting question:",D)}},N=async x=>{try{await ep(Vi(ot,"answers",x)),g(D=>D.filter(k=>k.id!==x)),ne(null)}catch(D){console.error("Error deleting answer:",D)}},R=async x=>{try{await ep(Vi(ot,"users",x)),u(D=>D.filter(k=>k.id!==x)),ne(null),te(!1)}catch(D){console.error("Error deleting user:",D)}},C=async(x,D)=>{try{await tu(Vi(ot,"users",x),{role:D}),u(k=>k.map(I=>I.id===x?{...I,role:D}:I))}catch(k){console.error("Error changing user role:",k)}};return e?A?S.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-950",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),S.jsx("p",{className:"text-gray-400",children:"Loading dashboard..."})]})}):S.jsx("div",{className:"min-h-screen bg-gray-950 text-white",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[S.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Admin Dashboard"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[S.jsx("div",{className:"bg-gradient-to-br from-blue-900/50 to-blue-800/50 border border-blue-700 p-6 rounded-xl",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-blue-300 mb-1",children:"Total Users"}),S.jsx("p",{className:"text-3xl font-bold text-blue-400",children:n.totalUsers})]}),S.jsx(H4,{className:"w-12 h-12 text-blue-700"})]})}),S.jsx("div",{className:"bg-gradient-to-br from-orange-900/50 to-orange-800/50 border border-orange-700 p-6 rounded-xl",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-orange-300 mb-1",children:"Total Questions"}),S.jsx("p",{className:"text-3xl font-bold text-orange-400",children:n.totalQuestions})]}),S.jsx(L4,{className:"w-12 h-12 text-orange-700"})]})}),S.jsx("div",{className:"bg-gradient-to-br from-green-900/50 to-green-800/50 border border-green-700 p-6 rounded-xl",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-green-300 mb-1",children:"Total Answers"}),S.jsx("p",{className:"text-3xl font-bold text-green-400",children:n.totalAnswers})]}),S.jsx(B4,{className:"w-12 h-12 text-green-700"})]})}),S.jsx("div",{className:"bg-gradient-to-br from-purple-900/50 to-purple-800/50 border border-purple-700 p-6 rounded-xl",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-purple-300 mb-1",children:"Total Messages"}),S.jsx("p",{className:"text-3xl font-bold text-purple-400",children:n.totalMessages})]}),S.jsx(k4,{className:"w-12 h-12 text-purple-700"})]})})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("div",{className:"flex gap-2 border-b border-gray-800 pb-4",children:["activity","users","questions","answers"].map(x=>S.jsx("button",{onClick:()=>Te(x),className:`px-4 py-2 rounded-lg font-medium transition ${ue===x?"bg-orange-500 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-300"}`,children:x.charAt(0).toUpperCase()+x.slice(1)},x))}),ue==="activity"&&S.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-xl",children:[S.jsx("h2",{className:"text-xl font-bold mb-4",children:"Recent Activity"}),S.jsx("div",{className:"space-y-3",children:E.length===0?S.jsx("p",{className:"text-gray-400",children:"No recent activity"}):E.map(x=>S.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:S.jsxs("div",{className:"flex-1",children:[S.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold mb-2 ${x.type==="question"?"bg-orange-500/20 text-orange-400":x.type==="answer"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"}`,children:x.type}),S.jsx("p",{className:"font-semibold truncate text-white",children:x.title}),S.jsxs("p",{className:"text-sm text-gray-400",children:["by ",x.author," "," ",x.timestamp?.toDate?Eu(x.timestamp.toDate(),{addSuffix:!0}):"Recently"]})]})},x.id))})]}),ue==="users"&&S.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-xl overflow-x-auto",children:[S.jsx("h2",{className:"text-xl font-bold mb-4",children:"User Management"}),S.jsxs("table",{className:"w-full text-sm",children:[S.jsx("thead",{className:"border-b border-gray-800",children:S.jsxs("tr",{children:[S.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Name"}),S.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Email"}),S.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Role"}),S.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Joined"}),S.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Actions"})]})}),S.jsx("tbody",{children:o.map(x=>S.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50 transition",children:[S.jsx("td",{className:"py-3 text-white",children:x.displayName}),S.jsx("td",{className:"py-3 text-gray-300",children:x.email}),S.jsx("td",{className:"py-3",children:S.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${x.role==="admin"?"bg-orange-500/20 text-orange-400":"bg-gray-700 text-gray-300"}`,children:x.role})}),S.jsx("td",{className:"py-3 text-xs text-gray-400",children:x.createdAt?.toDate?Eu(x.createdAt.toDate(),{addSuffix:!0}):"Unknown"}),S.jsxs("td",{className:"py-3 flex gap-2",children:[S.jsx("button",{className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-gray-300",onClick:()=>{Q(x),te(!0)},children:S.jsx(fw,{size:16})}),S.jsx("button",{className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-red-400",onClick:()=>ne({type:"user",id:x.id}),children:S.jsx(ip,{size:16})})]})]},x.id))})]})]}),ue==="questions"&&S.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-xl",children:[S.jsx("h2",{className:"text-xl font-bold mb-4",children:"Questions Moderation"}),S.jsx("div",{className:"space-y-3",children:h.slice(0,10).map(x=>S.jsxs("div",{className:"flex items-start justify-between p-4 border border-gray-800 rounded-lg hover:bg-gray-800/50 transition",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"font-semibold text-white",children:x.title}),S.jsxs("p",{className:"text-sm text-gray-400",children:["by ",x.authorName,"  ",x.answers||0," answers "," ",x.viewCount||0," views"]})]}),S.jsx("button",{className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-red-400",onClick:()=>ne({type:"question",id:x.id}),children:S.jsx(ip,{size:16})})]},x.id))})]}),ue==="answers"&&S.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-xl",children:[S.jsx("h2",{className:"text-xl font-bold mb-4",children:"Answers Moderation"}),S.jsx("div",{className:"space-y-3",children:p.slice(0,10).map(x=>S.jsxs("div",{className:"flex items-start justify-between p-4 border border-gray-800 rounded-lg hover:bg-gray-800/50 transition",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"font-semibold line-clamp-2 text-white",children:x.content}),S.jsxs("p",{className:"text-sm text-gray-400",children:["by ",x.authorName,"  ",x.lampCount||0," lamps"]})]}),S.jsx("button",{className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-red-400",onClick:()=>ne({type:"answer",id:x.id}),children:S.jsx(ip,{size:16})})]},x.id))})]})]}),U&&j&&S.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 max-w-md w-full mx-4",children:[S.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:j.displayName}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-semibold text-gray-300",children:"Email"}),S.jsx("p",{className:"text-sm text-gray-400",children:j.email})]}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-semibold text-gray-300",children:"Role"}),S.jsxs("div",{className:"flex gap-2 mt-2",children:[S.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition ${j.role==="user"?"bg-orange-500 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,onClick:()=>C(j.id,"user"),children:"User"}),S.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition ${j.role==="admin"?"bg-orange-500 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,onClick:()=>C(j.id,"admin"),children:"Admin"})]})]}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-semibold text-gray-300",children:"Stats"}),S.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-sm",children:[S.jsxs("div",{className:"bg-gray-800 p-2 rounded",children:[S.jsx("p",{className:"font-semibold text-white",children:j.achievements?.solved||0}),S.jsx("p",{className:"text-xs text-gray-400",children:"Questions"})]}),S.jsxs("div",{className:"bg-gray-800 p-2 rounded",children:[S.jsx("p",{className:"font-semibold text-white",children:j.achievements?.contributions||0}),S.jsx("p",{className:"text-xs text-gray-400",children:"Answers"})]}),S.jsxs("div",{className:"bg-gray-800 p-2 rounded",children:[S.jsx("p",{className:"font-semibold text-white",children:j.achievements?.helpful||0}),S.jsx("p",{className:"text-xs text-gray-400",children:"Lamps"})]})]})]}),S.jsxs("div",{className:"flex gap-2 pt-4",children:[S.jsx("button",{onClick:()=>te(!1),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white font-semibold py-2 rounded-lg",children:"Close"}),S.jsx("button",{onClick:()=>{ne({type:"user",id:j.id}),te(!1)},className:"flex-1 bg-gray-800 hover:bg-gray-700 text-red-400 font-semibold py-2 rounded-lg",children:"Delete"})]})]})]})}),ie&&S.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 max-w-md w-full mx-4",children:[S.jsx("h3",{className:"text-xl font-bold mb-2 text-white",children:"Confirm Delete"}),S.jsxs("p",{className:"text-gray-400 mb-6",children:["Are you sure you want to delete this ",ie.type,"? This action cannot be undone."]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{className:"flex-1 bg-gray-800 hover:bg-gray-700 text-white font-semibold py-2 rounded-lg",onClick:()=>ne(null),children:"Cancel"}),S.jsx("button",{className:"flex-1 bg-red-500/20 hover:bg-red-500/30 text-red-400 font-semibold py-2 rounded-lg border border-red-500/30",onClick:()=>{ie.type==="user"?R(ie.id):ie.type==="question"?_e(ie.id):ie.type==="answer"&&N(ie.id)},children:"Delete"})]})]})})]})}):S.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-950",children:S.jsxs("div",{className:"text-center",children:[S.jsx("p",{className:"text-gray-400 text-lg",children:"Access Denied"}),S.jsx("p",{className:"text-gray-500",children:"You do not have permission to access this page."})]})})}function FM(){return S.jsx(SR,{children:S.jsxs(A4,{children:[S.jsx(G4,{}),S.jsx("main",{className:"min-h-screen bg-gray-950 text-white p-6",children:S.jsxs(J1,{children:[S.jsx(ia,{path:"/",element:S.jsx(UM,{})}),S.jsx(ia,{path:"/login",element:S.jsx(jM,{})}),S.jsx(ia,{path:"/signup",element:S.jsx(zM,{})}),S.jsx(ia,{path:"/search",element:S.jsx(BM,{})}),S.jsx(ia,{path:"/question/:id",element:S.jsx(qM,{})}),S.jsx(ia,{path:"/admin",element:S.jsx(HM,{})})]})}),S.jsx(Q4,{})]})})}e1.createRoot(document.getElementById("root")).render(S.jsx(cs.StrictMode,{children:S.jsx(FM,{})}));

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Sb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var km={exports:{}},Ql={};var y0;function iA(){if(y0)return Ql;y0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=n,Ql.jsxs=n,Ql}var _0;function rA(){return _0||(_0=1,km.exports=iA()),km.exports}var b=rA(),Pm={exports:{}},Se={};var v0;function sA(){if(v0)return Se;v0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,z={};function ie(M,Z,oe){this.props=M,this.context=Z,this.refs=z,this.updater=oe||j}ie.prototype.isReactComponent={},ie.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},ie.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=ie.prototype;function J(M,Z,oe){this.props=M,this.context=Z,this.refs=z,this.updater=oe||j}var ae=J.prototype=new ne;ae.constructor=J,G(ae,ie.prototype),ae.isPureReactComponent=!0;var ge=Array.isArray;function ve(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(M,Z,oe){var ce=oe.ref;return{$$typeof:i,type:M,key:Z,ref:ce!==void 0?ce:null,props:oe}}function R(M,Z){return C(M.type,Z,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function k(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return Z[oe]})}var I=/\/+/g;function Ve(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Z.toString(36)}function Ce(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ve,ve):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,Z,oe,ce,Te){var Ie=typeof M;(Ie==="undefined"||Ie==="boolean")&&(M=null);var Be=!1;if(M===null)Be=!0;else switch(Ie){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(M.$$typeof){case i:case e:Be=!0;break;case E:return Be=M._init,Q(Be(M._payload),Z,oe,ce,Te)}}if(Be)return Te=Te(M),Be=ce===""?"."+Ve(M,0):ce,ge(Te)?(oe="",Be!=null&&(oe=Be.replace(I,"$&/")+"/"),Q(Te,Z,oe,"",function(Ns){return Ns})):Te!=null&&(D(Te)&&(Te=R(Te,oe+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+Be)),Z.push(Te)),1;Be=0;var Vt=ce===""?".":ce+":";if(ge(M))for(var lt=0;lt<M.length;lt++)ce=M[lt],Ie=Vt+Ve(ce,lt),Be+=Q(ce,Z,oe,Ie,Te);else if(lt=P(M),typeof lt=="function")for(M=lt.call(M),lt=0;!(ce=M.next()).done;)ce=ce.value,Ie=Vt+Ve(ce,lt++),Be+=Q(ce,Z,oe,Ie,Te);else if(Ie==="object"){if(typeof M.then=="function")return Q(Ce(M),Z,oe,ce,Te);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Be}function re(M,Z,oe){if(M==null)return M;var ce=[],Te=0;return Q(M,ce,"","",function(Ie){return Z.call(oe,Ie,Te++)}),ce}function de(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var De=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ye={map:re,forEach:function(M,Z,oe){re(M,function(){Z.apply(this,arguments)},oe)},count:function(M){var Z=0;return re(M,function(){Z++}),Z},toArray:function(M){return re(M,function(Z){return Z})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Se.Activity=T,Se.Children=ye,Se.Component=ie,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=J,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(M,Z,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=G({},M.props),Te=M.key;if(Z!=null)for(Ie in Z.key!==void 0&&(Te=""+Z.key),Z)!x.call(Z,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Z.ref===void 0||(ce[Ie]=Z[Ie]);var Ie=arguments.length-2;if(Ie===1)ce.children=oe;else if(1<Ie){for(var Be=Array(Ie),Vt=0;Vt<Ie;Vt++)Be[Vt]=arguments[Vt+2];ce.children=Be}return C(M.type,Te,ce)},Se.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Se.createElement=function(M,Z,oe){var ce,Te={},Ie=null;if(Z!=null)for(ce in Z.key!==void 0&&(Ie=""+Z.key),Z)x.call(Z,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=Z[ce]);var Be=arguments.length-2;if(Be===1)Te.children=oe;else if(1<Be){for(var Vt=Array(Be),lt=0;lt<Be;lt++)Vt[lt]=arguments[lt+2];Te.children=Vt}if(M&&M.defaultProps)for(ce in Be=M.defaultProps,Be)Te[ce]===void 0&&(Te[ce]=Be[ce]);return C(M,Ie,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:m,render:M}},Se.isValidElement=D,Se.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:de}},Se.memo=function(M,Z){return{$$typeof:g,type:M,compare:Z===void 0?null:Z}},Se.startTransition=function(M){var Z=N.T,oe={};N.T=oe;try{var ce=M(),Te=N.S;Te!==null&&Te(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ve,De)}catch(Ie){De(Ie)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),N.T=Z}},Se.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Se.use=function(M){return N.H.use(M)},Se.useActionState=function(M,Z,oe){return N.H.useActionState(M,Z,oe)},Se.useCallback=function(M,Z){return N.H.useCallback(M,Z)},Se.useContext=function(M){return N.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,Z){return N.H.useDeferredValue(M,Z)},Se.useEffect=function(M,Z){return N.H.useEffect(M,Z)},Se.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Se.useId=function(){return N.H.useId()},Se.useImperativeHandle=function(M,Z,oe){return N.H.useImperativeHandle(M,Z,oe)},Se.useInsertionEffect=function(M,Z){return N.H.useInsertionEffect(M,Z)},Se.useLayoutEffect=function(M,Z){return N.H.useLayoutEffect(M,Z)},Se.useMemo=function(M,Z){return N.H.useMemo(M,Z)},Se.useOptimistic=function(M,Z){return N.H.useOptimistic(M,Z)},Se.useReducer=function(M,Z,oe){return N.H.useReducer(M,Z,oe)},Se.useRef=function(M){return N.H.useRef(M)},Se.useState=function(M){return N.H.useState(M)},Se.useSyncExternalStore=function(M,Z,oe){return N.H.useSyncExternalStore(M,Z,oe)},Se.useTransition=function(){return N.H.useTransition()},Se.version="19.2.4",Se}var E0;function zp(){return E0||(E0=1,Pm.exports=sA()),Pm.exports}var L=zp();const ds=Sb(L);var Lm={exports:{}},Kl={},Um={exports:{}},jm={};var b0;function aA(){return b0||(b0=1,(function(i){function e(Q,re){var de=Q.length;Q.push(re);e:for(;0<de;){var De=de-1>>>1,ye=Q[De];if(0<o(ye,re))Q[De]=re,Q[de]=ye,de=De;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var re=Q[0],de=Q.pop();if(de!==re){Q[0]=de;e:for(var De=0,ye=Q.length,M=ye>>>1;De<M;){var Z=2*(De+1)-1,oe=Q[Z],ce=Z+1,Te=Q[ce];if(0>o(oe,de))ce<ye&&0>o(Te,oe)?(Q[De]=Te,Q[ce]=de,De=ce):(Q[De]=oe,Q[Z]=de,De=Z);else if(ce<ye&&0>o(Te,de))Q[De]=Te,Q[ce]=de,De=ce;else break e}}return re}function o(Q,re){var de=Q.sortIndex-re.sortIndex;return de!==0?de:Q.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,A=3,P=!1,j=!1,G=!1,z=!1,ie=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ae(Q){for(var re=n(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=Q)s(g),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(g)}}function ge(Q){if(G=!1,ae(Q),!j)if(n(p)!==null)j=!0,ve||(ve=!0,k());else{var re=n(g);re!==null&&Ce(ge,re.startTime-Q)}}var ve=!1,N=-1,x=5,C=-1;function R(){return z?!0:!(i.unstable_now()-C<x)}function D(){if(z=!1,ve){var Q=i.unstable_now();C=Q;var re=!0;try{e:{j=!1,G&&(G=!1,ne(N),N=-1),P=!0;var de=A;try{t:{for(ae(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&R());){var De=T.callback;if(typeof De=="function"){T.callback=null,A=T.priorityLevel;var ye=De(T.expirationTime<=Q);if(Q=i.unstable_now(),typeof ye=="function"){T.callback=ye,ae(Q),re=!0;break t}T===n(p)&&s(p),ae(Q)}else s(p);T=n(p)}if(T!==null)re=!0;else{var M=n(g);M!==null&&Ce(ge,M.startTime-Q),re=!1}}break e}finally{T=null,A=de,P=!1}re=void 0}}finally{re?k():ve=!1}}}var k;if(typeof J=="function")k=function(){J(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ve=I.port2;I.port1.onmessage=D,k=function(){Ve.postMessage(null)}}else k=function(){ie(D,0)};function Ce(Q,re){N=ie(function(){Q(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var re=3;break;default:re=A}var de=A;A=re;try{return Q()}finally{A=de}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(Q,re){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=A;A=Q;try{return re()}finally{A=de}},i.unstable_scheduleCallback=function(Q,re,de){var De=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?De+de:De):de=De,Q){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=de+ye,Q={id:E++,callback:re,priorityLevel:Q,startTime:de,expirationTime:ye,sortIndex:-1},de>De?(Q.sortIndex=de,e(g,Q),n(p)===null&&Q===n(g)&&(G?(ne(N),N=-1):G=!0,Ce(ge,de-De))):(Q.sortIndex=ye,e(p,Q),j||P||(j=!0,ve||(ve=!0,k()))),Q},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(Q){var re=A;return function(){var de=A;A=re;try{return Q.apply(this,arguments)}finally{A=de}}}})(jm)),jm}var T0;function oA(){return T0||(T0=1,Um.exports=aA()),Um.exports}var zm={exports:{}},Zt={};var w0;function lA(){if(w0)return Zt;w0=1;var i=zp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Zt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.4",Zt}var S0;function uA(){if(S0)return zm.exports;S0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),zm.exports=lA(),zm.exports}var A0;function cA(){if(A0)return Kl;A0=1;var i=oA(),e=zp(),n=uA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,l=d;break}if(w===l){_=!0,l=f,a=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===a){_=!0,a=d,l=f;break}if(w===l){_=!0,l=d,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case ie:return"Profiler";case z:return"StrictMode";case ge:return"Suspense";case ve:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case J:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case ae:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:Ve(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return Ve(t(r))}catch{}}return null}var Ce=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},De=[],ye=-1;function M(t){return{current:t}}function Z(t){0>ye||(t.current=De[ye],De[ye]=null,ye--)}function oe(t,r){ye++,De[ye]=t.current,t.current=r}var ce=M(null),Te=M(null),Ie=M(null),Be=M(null);function Vt(t,r){switch(oe(Ie,r),oe(Te,t),oe(ce,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?zv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=zv(r),t=Bv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ce),oe(ce,t)}function lt(){Z(ce),Z(Te),Z(Ie)}function Ns(t){t.memoizedState!==null&&oe(Be,t);var r=ce.current,a=Bv(r,t.type);r!==a&&(oe(Te,t),oe(ce,a))}function Aa(t){Te.current===t&&(Z(ce),Z(Te)),Be.current===t&&(Z(Be),ql._currentValue=de)}var xa,Ra;function mi(t){if(xa===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);xa=r&&r[1]||"",Ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xa+t+Ra}var qo=!1;function Ds(t,r){if(!t||qo)return"";qo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var H=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){H=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){H=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var O=_.split(`
`),F=w.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===F.length)for(l=O.length-1,f=F.length-1;1<=l&&0<=f&&O[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==F[f]){var $=`
`+O[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=f);break}}}finally{qo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?mi(a):""}function Fo(t,r){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return t.child!==r&&r!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Ds(t.type,!1);case 11:return Ds(t.type.render,!1);case 1:return Ds(t.type,!0);case 31:return mi("Activity");default:return""}}function Ho(t){try{var r="",a=null;do r+=Fo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,kt=i.unstable_scheduleCallback,Cr=i.unstable_cancelCallback,Lf=i.unstable_shouldYield,ju=i.unstable_requestPaint,sn=i.unstable_now,Os=i.unstable_getCurrentPriorityLevel,Go=i.unstable_ImmediatePriority,Qo=i.unstable_UserBlockingPriority,Ir=i.unstable_NormalPriority,Uf=i.unstable_LowPriority,zu=i.unstable_IdlePriority,Bu=i.log,qu=i.unstable_setDisableYieldValue,Xn=null,Ht=null;function Dn(t){if(typeof Bu=="function"&&qu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Xn,t)}catch{}}var gt=Math.clz32?Math.clz32:Hu,Fu=Math.log,Ca=Math.LN2;function Hu(t){return t>>>=0,t===0?32:31-(Fu(t)/Ca|0)|0}var pi=256,Ms=262144,wt=4194304;function gi(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yi(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=gi(l):(_&=w,_!==0?f=gi(_):a||(a=w&~t,a!==0&&(f=gi(a))))):(w=l&~d,w!==0?f=gi(w):_!==0?f=gi(_):a||(a=l&~t,a!==0&&(f=gi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Wn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function jf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function _i(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Vs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-gt(a),ee=1<<$;w[$]=0,O[$]=-1;var H=F[$];if(H!==null)for(F[$]=null,$=0;$<H.length;$++){var Y=H[$];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&ks(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function ks(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-gt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ko(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-gt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Yo(t,r){var a=r&-r;return a=(a&42)!==0?1:Ps(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:c0(t.type))}function Jn(t,r){var a=re.p;try{return re.p=t,r()}finally{re.p=a}}var Zn=Math.random().toString(36).slice(2),St="__reactFiber$"+Zn,Ut="__reactProps$"+Zn,vi="__reactContainer$"+Zn,Ia="__reactEvents$"+Zn,Bf="__reactListeners$"+Zn,Ku="__reactHandles$"+Zn,Yu="__reactResources$"+Zn,Ei="__reactMarker$"+Zn;function Na(t){delete t[St],delete t[Ut],delete t[Ia],delete t[Bf],delete t[Ku]}function bi(t){var r=t[St];if(r)return r;for(var a=t.parentNode;a;){if(r=a[vi]||a[St]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Yv(t);t!==null;){if(a=t[St])return a;t=Yv(t)}return r}t=a,a=t.parentNode}return null}function On(t){if(t=t[St]||t[vi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function vn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ti(t){var r=t[Yu];return r||(r=t[Yu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function At(t){t[Ei]=!0}var $o=new Set,Xo={};function wi(t,r){Si(t,r),Si(t+"Capture",r)}function Si(t,r){for(Xo[t]=r,t=0;t<r.length;t++)$o.add(r[t])}var Wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},Zo={};function $u(t){return Tt.call(Zo,t)?!0:Tt.call(Jo,t)?!1:Wo.test(t)?Zo[t]=!0:(Jo[t]=!0,!1)}function Da(t,r,a){if($u(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function En(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function xt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function el(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ye(t){if(!t._valueTracker){var r=Nr(t)?"checked":"value";t._valueTracker=el(t,r,""+t[r])}}function Ls(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Nr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Us=/[\n"\\]/g;function ln(t){return t.replace(Us,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Oa(t,r,a,l,f,d,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+jt(r)):t.value!==""+jt(r)&&(t.value=""+jt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?tl(t,_,jt(r)):a!=null?tl(t,_,jt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+jt(w):t.removeAttribute("name")}function Xu(t,r,a,l,f,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ye(t);return}a=a!=null?""+jt(a):"",r=r!=null?""+jt(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function tl(t,r,a){r==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Dr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Wu(t,r,a){if(r!=null&&(r=""+jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+jt(a):""}function Or(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=jt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function un(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Ju.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function il(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&nl(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&nl(t,d,r[d])}function Ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(t){return Mr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var rl=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vr=null,xi=null;function js(t){var r=On(t);if(r&&(t=r.stateNode)){var a=t[Ut]||null;e:switch(t=r.stateNode,r.type){case"input":if(Oa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Ut]||null;if(!f)throw Error(s(90));Oa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ls(l)}break e;case"textarea":Wu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Dr(t,!!a.multiple,r,!1)}}}var ka=!1;function kr(t,r,a){if(ka)return t(r,a);ka=!0;try{var l=t(r);return l}finally{if(ka=!1,(Vr!==null||xi!==null)&&(Qc(),Vr&&(r=Vr,t=xi,xi=Vr=null,js(r),t)))for(r=0;r<t.length;r++)js(t[r])}}function ti(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(Vn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){zs=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{zs=!1}var Ri=null,sl=null,Bs=null;function al(){if(Bs)return Bs;var t,r=sl,a=r.length,l,f="value"in Ri?Ri.value:Ri.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Bs=f.slice(t,1<l?1-l:void 0)}function qs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ni(){return!1}function Gt(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$i:ni,this.isPropagationStopped=ni,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),r}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Gt(Xi),Pr=T({},Xi,{view:0,detail:0}),ol=Gt(Pr),Lr,Pa,Ii,La=T({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ur,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Lr=t.screenX-Ii.screenX,Pa=t.screenY-Ii.screenY):Pa=Lr=0,Ii=t),Lr)},movementY:function(t){return"movementY"in t?t.movementY:Pa}}),ll=Gt(La),Fs=T({},La,{dataTransfer:0}),ec=Gt(Fs),tc=T({},Pr,{relatedTarget:0}),Hs=Gt(tc),ul=T({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),nc=Gt(ul),Ua=T({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ic=Gt(Ua),rc=T({},Xi,{data:0}),Ni=Gt(rc),sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=oc[t])?!!r[t]:!1}function Ur(){return lc}var an=T({},Pr,{key:function(t){if(t.key){var r=sc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ac[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ur,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uc=Gt(an),cc=T({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Gt(cc),c=T({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ur}),y=Gt(c),v=T({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Gt(v),B=T({},La,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Gt(B),se=T({},Xi,{newState:0,oldState:0}),xe=Gt(se),yt=[9,13,27,32],Ge=Vn&&"CompositionEvent"in window,ut=null;Vn&&"documentMode"in document&&(ut=document.documentMode);var kn=Vn&&"TextEvent"in window&&!ut,Di=Vn&&(!Ge||ut&&8<ut&&11>=ut),ii=" ",ri=!1;function Gs(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var za=!1;function Rw(t,r){switch(t){case"compositionend":return ja(r);case"keypress":return r.which!==32?null:(ri=!0,ii);case"textInput":return t=r.data,t===ii&&ri?null:t;default:return null}}function Cw(t,r){if(za)return t==="compositionend"||!Ge&&Gs(t,r)?(t=al(),Bs=sl=Ri=null,za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Di&&r.locale!=="ko"?null:r.data;default:return null}}var Iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Iw[t.type]:r==="textarea"}function Jg(t,r,a,l){Vr?xi?xi.push(l):xi=[l]:Vr=l,r=Zc(r,"onChange"),0<r.length&&(a=new Ci("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var cl=null,hl=null;function Nw(t){Vv(t,0)}function hc(t){var r=vn(t);if(Ls(r))return t}function Zg(t,r){if(t==="change")return r}var ey=!1;if(Vn){var qf;if(Vn){var Ff="oninput"in document;if(!Ff){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),Ff=typeof ty.oninput=="function"}qf=Ff}else qf=!1;ey=qf&&(!document.documentMode||9<document.documentMode)}function ny(){cl&&(cl.detachEvent("onpropertychange",iy),hl=cl=null)}function iy(t){if(t.propertyName==="value"&&hc(hl)){var r=[];Jg(r,hl,t,Mn(t)),kr(Nw,r)}}function Dw(t,r,a){t==="focusin"?(ny(),cl=r,hl=a,cl.attachEvent("onpropertychange",iy)):t==="focusout"&&ny()}function Ow(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hc(hl)}function Mw(t,r){if(t==="click")return hc(r)}function Vw(t,r){if(t==="input"||t==="change")return hc(r)}function kw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var bn=typeof Object.is=="function"?Object.is:kw;function fl(t,r){if(bn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Tt.call(r,f)||!bn(t[f],r[f]))return!1}return!0}function ry(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sy(t,r){var a=ry(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ry(a)}}function ay(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ay(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function oy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ai(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ai(t.document)}return r}function Hf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Pw=Vn&&"documentMode"in document&&11>=document.documentMode,Ba=null,Gf=null,dl=null,Qf=!1;function ly(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qf||Ba==null||Ba!==Ai(l)||(l=Ba,"selectionStart"in l&&Hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Zc(Gf,"onSelect"),0<l.length&&(r=new Ci("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ba)))}function Qs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var qa={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},Kf={},uy={};Vn&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Ks(t){if(Kf[t])return Kf[t];if(!qa[t])return t;var r=qa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in uy)return Kf[t]=r[a];return t}var cy=Ks("animationend"),hy=Ks("animationiteration"),fy=Ks("animationstart"),Lw=Ks("transitionrun"),Uw=Ks("transitionstart"),jw=Ks("transitioncancel"),dy=Ks("transitionend"),my=new Map,Yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yf.push("scrollEnd");function si(t,r){my.set(t,r),wi(r,[t])}var fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],Fa=0,$f=0;function dc(){for(var t=Fa,r=$f=Fa=0;r<t;){var a=Pn[r];Pn[r++]=null;var l=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var d=Pn[r];if(Pn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&py(a,f,d)}}function mc(t,r,a,l){Pn[Fa++]=t,Pn[Fa++]=r,Pn[Fa++]=a,Pn[Fa++]=l,$f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xf(t,r,a,l){return mc(t,r,a,l),pc(t)}function Ys(t,r){return mc(t,null,null,r),pc(t)}function py(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-gt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function pc(t){if(50<kl)throw kl=0,sm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ha={};function zw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,r,a,l){return new zw(t,r,a,l)}function Wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,r){var a=t.alternate;return a===null?(a=Tn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function gc(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")Wf(t)&&(_=1);else if(typeof t=="string")_=GS(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Tn(31,a,r,f),t.elementType=C,t.lanes=d,t;case G:return $s(a.children,f,d,r);case z:_=8,f|=24;break;case ie:return t=Tn(12,a,r,f|2),t.elementType=ie,t.lanes=d,t;case ge:return t=Tn(13,a,r,f),t.elementType=ge,t.lanes=d,t;case ve:return t=Tn(19,a,r,f),t.elementType=ve,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:_=10;break e;case ne:_=9;break e;case ae:_=11;break e;case N:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Tn(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function $s(t,r,a,l){return t=Tn(7,t,l,r),t.lanes=a,t}function Jf(t,r,a){return t=Tn(6,t,null,r),t.lanes=a,t}function yy(t){var r=Tn(18,null,null,0);return r.stateNode=t,r}function Zf(t,r,a){return r=Tn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var _y=new WeakMap;function Ln(t,r){if(typeof t=="object"&&t!==null){var a=_y.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Ho(r)},_y.set(t,r),r)}return{value:t,source:r,stack:Ho(r)}}var Ga=[],Qa=0,yc=null,ml=0,Un=[],jn=0,jr=null,Oi=1,Mi="";function Zi(t,r){Ga[Qa++]=ml,Ga[Qa++]=yc,yc=t,ml=r}function vy(t,r,a){Un[jn++]=Oi,Un[jn++]=Mi,Un[jn++]=jr,jr=t;var l=Oi;t=Mi;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var d=32-gt(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Oi=1<<32-gt(r)+f|a<<f|l,Mi=d+t}else Oi=1<<d|a<<f|l,Mi=t}function ed(t){t.return!==null&&(Zi(t,1),vy(t,1,0))}function td(t){for(;t===yc;)yc=Ga[--Qa],Ga[Qa]=null,ml=Ga[--Qa],Ga[Qa]=null;for(;t===jr;)jr=Un[--jn],Un[jn]=null,Mi=Un[--jn],Un[jn]=null,Oi=Un[--jn],Un[jn]=null}function Ey(t,r){Un[jn++]=Oi,Un[jn++]=Mi,Un[jn++]=jr,Oi=r.id,Mi=r.overflow,jr=t}var Qt=null,at=null,ze=!1,zr=null,zn=!1,nd=Error(s(519));function Br(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(Ln(r,t)),nd}function by(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[St]=t,r[Ut]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Me(Ll[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Xu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Or(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Uv(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=ei),r=!0):r=!1,r||Br(t,!0)}function Ty(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Qt=Qt.return}}function Ka(t){if(t!==Qt)return!1;if(!ze)return Ty(t),ze=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Em(t.type,t.memoizedProps)),a=!a),a&&at&&Br(t),Ty(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=Kv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=Kv(t)}else r===27?(r=at,ts(t.type)?(t=Am,Am=null,at=t):at=r):at=Qt?qn(t.stateNode.nextSibling):null;return!0}function Xs(){at=Qt=null,ze=!1}function id(){var t=zr;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),zr=null),t}function pl(t){zr===null?zr=[t]:zr.push(t)}var rd=M(null),Ws=null,er=null;function qr(t,r,a){oe(rd,r._currentValue),r._currentValue=a}function tr(t){t._currentValue=rd.current,Z(rd)}function sd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ad(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var O=0;O<r.length;O++)if(w.context===r[O]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),sd(d.return,a,t),l||(_=null);break e}d=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),sd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ya(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;bn(f.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(f===Be.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}f=f.return}t!==null&&ad(r,t,a,l),r.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){Ws=t,er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return wy(Ws,t)}function vc(t,r){return Ws===null&&Js(t),wy(t,r)}function wy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},er===null){if(t===null)throw Error(s(308));er=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else er=er.next=r;return a}var Bw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},qw=i.unstable_scheduleCallback,Fw=i.unstable_NormalPriority,Rt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new Bw,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&qw(Fw,function(){t.controller.abort()})}var yl=null,ld=0,$a=0,Xa=null;function Hw(t,r){if(yl===null){var a=yl=[];ld=0,$a=hm(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ld++,r.then(Sy,Sy),r}function Sy(){if(--ld===0&&yl!==null){Xa!==null&&(Xa.status="fulfilled");var t=yl;yl=null,$a=0,Xa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Gw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ay=Q.S;Q.S=function(t,r){lv=sn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Hw(t,r),Ay!==null&&Ay(t,r)};var Zs=M(null);function ud(){var t=Zs.current;return t!==null?t:rt.pooledCache}function Ec(t,r){r===null?oe(Zs,Zs.current):oe(Zs,r.pool)}function xy(){var t=ud();return t===null?null:{parent:Rt._currentValue,pool:t}}var Wa=Error(s(460)),cd=Error(s(474)),bc=Error(s(542)),Tc={then:function(){}};function Ry(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ei,ei),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ny(t),t;default:if(typeof r.status=="string")r.then(ei,ei);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ny(t),t}throw ta=r,Wa}}function ea(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Wa):a}}var ta=null;function Iy(){if(ta===null)throw Error(s(459));var t=ta;return ta=null,t}function Ny(t){if(t===Wa||t===bc)throw Error(s(483))}var Ja=null,_l=0;function wc(t){var r=_l;return _l+=1,Ja===null&&(Ja=[]),Cy(Ja,t,r)}function vl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Sc(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Dy(t){function r(U,V){if(t){var q=U.deletions;q===null?(U.deletions=[V],U.flags|=16):q.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)r(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function f(U,V){return U=Ji(U,V),U.index=0,U.sibling=null,U}function d(U,V,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<V?(U.flags|=67108866,V):q):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function w(U,V,q,X){return V===null||V.tag!==6?(V=Jf(q,U.mode,X),V.return=U,V):(V=f(V,q),V.return=U,V)}function O(U,V,q,X){var me=q.type;return me===G?$(U,V,q.props.children,X,q.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&ea(me)===V.type)?(V=f(V,q.props),vl(V,q),V.return=U,V):(V=gc(q.type,q.key,q.props,null,U.mode,X),vl(V,q),V.return=U,V)}function F(U,V,q,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=Zf(q,U.mode,X),V.return=U,V):(V=f(V,q.children||[]),V.return=U,V)}function $(U,V,q,X,me){return V===null||V.tag!==7?(V=$s(q,U.mode,X,me),V.return=U,V):(V=f(V,q),V.return=U,V)}function ee(U,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Jf(""+V,U.mode,q),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case P:return q=gc(V.type,V.key,V.props,null,U.mode,q),vl(q,V),q.return=U,q;case j:return V=Zf(V,U.mode,q),V.return=U,V;case x:return V=ea(V),ee(U,V,q)}if(Ce(V)||k(V))return V=$s(V,U.mode,q,null),V.return=U,V;if(typeof V.then=="function")return ee(U,wc(V),q);if(V.$$typeof===J)return ee(U,vc(U,V),q);Sc(U,V)}return null}function H(U,V,q,X){var me=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return me!==null?null:w(U,V,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case P:return q.key===me?O(U,V,q,X):null;case j:return q.key===me?F(U,V,q,X):null;case x:return q=ea(q),H(U,V,q,X)}if(Ce(q)||k(q))return me!==null?null:$(U,V,q,X,null);if(typeof q.then=="function")return H(U,V,wc(q),X);if(q.$$typeof===J)return H(U,V,vc(U,q),X);Sc(U,q)}return null}function Y(U,V,q,X,me){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(q)||null,w(V,U,""+X,me);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return U=U.get(X.key===null?q:X.key)||null,O(V,U,X,me);case j:return U=U.get(X.key===null?q:X.key)||null,F(V,U,X,me);case x:return X=ea(X),Y(U,V,q,X,me)}if(Ce(X)||k(X))return U=U.get(q)||null,$(V,U,X,me,null);if(typeof X.then=="function")return Y(U,V,q,wc(X),me);if(X.$$typeof===J)return Y(U,V,q,vc(V,X),me);Sc(V,X)}return null}function he(U,V,q,X){for(var me=null,Fe=null,fe=V,Ne=V=0,Pe=null;fe!==null&&Ne<q.length;Ne++){fe.index>Ne?(Pe=fe,fe=null):Pe=fe.sibling;var He=H(U,fe,q[Ne],X);if(He===null){fe===null&&(fe=Pe);break}t&&fe&&He.alternate===null&&r(U,fe),V=d(He,V,Ne),Fe===null?me=He:Fe.sibling=He,Fe=He,fe=Pe}if(Ne===q.length)return a(U,fe),ze&&Zi(U,Ne),me;if(fe===null){for(;Ne<q.length;Ne++)fe=ee(U,q[Ne],X),fe!==null&&(V=d(fe,V,Ne),Fe===null?me=fe:Fe.sibling=fe,Fe=fe);return ze&&Zi(U,Ne),me}for(fe=l(fe);Ne<q.length;Ne++)Pe=Y(fe,U,Ne,q[Ne],X),Pe!==null&&(t&&Pe.alternate!==null&&fe.delete(Pe.key===null?Ne:Pe.key),V=d(Pe,V,Ne),Fe===null?me=Pe:Fe.sibling=Pe,Fe=Pe);return t&&fe.forEach(function(as){return r(U,as)}),ze&&Zi(U,Ne),me}function _e(U,V,q,X){if(q==null)throw Error(s(151));for(var me=null,Fe=null,fe=V,Ne=V=0,Pe=null,He=q.next();fe!==null&&!He.done;Ne++,He=q.next()){fe.index>Ne?(Pe=fe,fe=null):Pe=fe.sibling;var as=H(U,fe,He.value,X);if(as===null){fe===null&&(fe=Pe);break}t&&fe&&as.alternate===null&&r(U,fe),V=d(as,V,Ne),Fe===null?me=as:Fe.sibling=as,Fe=as,fe=Pe}if(He.done)return a(U,fe),ze&&Zi(U,Ne),me;if(fe===null){for(;!He.done;Ne++,He=q.next())He=ee(U,He.value,X),He!==null&&(V=d(He,V,Ne),Fe===null?me=He:Fe.sibling=He,Fe=He);return ze&&Zi(U,Ne),me}for(fe=l(fe);!He.done;Ne++,He=q.next())He=Y(fe,U,Ne,He.value,X),He!==null&&(t&&He.alternate!==null&&fe.delete(He.key===null?Ne:He.key),V=d(He,V,Ne),Fe===null?me=He:Fe.sibling=He,Fe=He);return t&&fe.forEach(function(nA){return r(U,nA)}),ze&&Zi(U,Ne),me}function nt(U,V,q,X){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case P:e:{for(var me=q.key;V!==null;){if(V.key===me){if(me=q.type,me===G){if(V.tag===7){a(U,V.sibling),X=f(V,q.props.children),X.return=U,U=X;break e}}else if(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&ea(me)===V.type){a(U,V.sibling),X=f(V,q.props),vl(X,q),X.return=U,U=X;break e}a(U,V);break}else r(U,V);V=V.sibling}q.type===G?(X=$s(q.props.children,U.mode,X,q.key),X.return=U,U=X):(X=gc(q.type,q.key,q.props,null,U.mode,X),vl(X,q),X.return=U,U=X)}return _(U);case j:e:{for(me=q.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(U,V.sibling),X=f(V,q.children||[]),X.return=U,U=X;break e}else{a(U,V);break}else r(U,V);V=V.sibling}X=Zf(q,U.mode,X),X.return=U,U=X}return _(U);case x:return q=ea(q),nt(U,V,q,X)}if(Ce(q))return he(U,V,q,X);if(k(q)){if(me=k(q),typeof me!="function")throw Error(s(150));return q=me.call(q),_e(U,V,q,X)}if(typeof q.then=="function")return nt(U,V,wc(q),X);if(q.$$typeof===J)return nt(U,V,vc(U,q),X);Sc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(U,V.sibling),X=f(V,q),X.return=U,U=X):(a(U,V),X=Jf(q,U.mode,X),X.return=U,U=X),_(U)):a(U,V)}return function(U,V,q,X){try{_l=0;var me=nt(U,V,q,X);return Ja=null,me}catch(fe){if(fe===Wa||fe===bc)throw fe;var Fe=Tn(29,fe,null,U.mode);return Fe.lanes=X,Fe.return=U,Fe}}}var na=Dy(!0),Oy=Dy(!1),Fr=!1;function hd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=pc(t),py(t,null,a),r}return mc(t,l,r,a),pc(t)}function El(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Ko(t,a)}}function dd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var md=!1;function bl(){if(md){var t=Xa;if(t!==null)throw t}}function Tl(t,r,a,l){md=!1;var f=t.updateQueue;Fr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,F=O.next;O.next=null,_===null?d=F:_.next=F,_=O;var $=t.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==_&&(w===null?$.firstBaseUpdate=F:w.next=F,$.lastBaseUpdate=O))}if(d!==null){var ee=f.baseState;_=0,$=F=O=null,w=d;do{var H=w.lane&-536870913,Y=H!==w.lane;if(Y?(ke&H)===H:(l&H)===H){H!==0&&H===$a&&(md=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=t,_e=w;H=r;var nt=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){ee=he.call(nt,ee,H);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,H=typeof he=="function"?he.call(nt,ee,H):he,H==null)break e;ee=T({},ee,H);break e;case 2:Fr=!0}}H=w.callback,H!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(F=$=Y,O=ee):$=$.next=Y,_|=H;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);$===null&&(O=ee),f.baseState=O,f.firstBaseUpdate=F,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),Xr|=_,t.lanes=_,t.memoizedState=ee}}function My(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Vy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)My(a[t],r)}var Za=M(null),Ac=M(0);function ky(t,r){t=cr,oe(Ac,t),oe(Za,r),cr=t|r.baseLanes}function pd(){oe(Ac,cr),oe(Za,Za.current)}function gd(){cr=Ac.current,Z(Za),Z(Ac)}var wn=M(null),Bn=null;function Qr(t){var r=t.alternate;oe(_t,_t.current&1),oe(wn,t),Bn===null&&(r===null||Za.current!==null||r.memoizedState!==null)&&(Bn=t)}function yd(t){oe(_t,_t.current),oe(wn,t),Bn===null&&(Bn=t)}function Py(t){t.tag===22?(oe(_t,_t.current),oe(wn,t),Bn===null&&(Bn=t)):Kr()}function Kr(){oe(_t,_t.current),oe(wn,wn.current)}function Sn(t){Z(wn),Bn===t&&(Bn=null),Z(_t)}var _t=M(0);function xc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wm(a)||Sm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var nr=0,Re=null,et=null,Ct=null,Rc=!1,eo=!1,ia=!1,Cc=0,wl=0,to=null,Qw=0;function dt(){throw Error(s(321))}function _d(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!bn(t[a],r[a]))return!1;return!0}function vd(t,r,a,l,f,d){return nr=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?v_:Vd,ia=!1,d=a(l,f),ia=!1,eo&&(d=Uy(r,a,l,f)),Ly(t),d}function Ly(t){Q.H=xl;var r=et!==null&&et.next!==null;if(nr=0,Ct=et=Re=null,Rc=!1,wl=0,to=null,r)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&_c(t)&&(It=!0))}function Uy(t,r,a,l){Re=t;var f=0;do{if(eo&&(to=null),wl=0,eo=!1,25<=f)throw Error(s(301));if(f+=1,Ct=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=E_,d=r(a,l)}while(eo);return d}function Kw(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?Sl(r):r,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Re.flags|=1024),r}function Ed(){var t=Cc!==0;return Cc=0,t}function bd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Td(t){if(Rc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Rc=!1}nr=0,Ct=et=Re=null,eo=!1,wl=Cc=0,to=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function vt(){if(et===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var r=Ct===null?Re.memoizedState:Ct.next;if(r!==null)Ct=r,et=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var r=wl;return wl+=1,to===null&&(to=[]),t=Cy(to,t,r),r=Re,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?v_:Vd),t}function Nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===J)return Kt(t)}throw Error(s(438,String(t)))}function wd(t){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ic(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=R;return r.index++,a}function ir(t,r){return typeof r=="function"?r(t):r}function Dc(t){var r=vt();return Sd(r,et,t)}function Sd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var w=_=null,O=null,F=r,$=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(ke&ee)===ee:(nr&ee)===ee){var H=F.revertLane;if(H===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===$a&&($=!0);else if((nr&H)===H){F=F.next,H===$a&&($=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(w=O=ee,_=d):O=O.next=ee,Re.lanes|=H,Xr|=H;ee=F.action,ia&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else H={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(w=O=H,_=d):O=O.next=H,Re.lanes|=ee,Xr|=ee;F=F.next}while(F!==null&&F!==r);if(O===null?_=d:O.next=w,!bn(d,t.memoizedState)&&(It=!0,$&&(a=Xa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ad(t){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);bn(d,r.memoizedState)||(It=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function jy(t,r,a){var l=Re,f=vt(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!bn((et||f).memoizedState,a);if(_&&(f.memoizedState=a,It=!0),f=f.queue,Cd(qy.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,no(9,{destroy:void 0},By.bind(null,l,f,a,r),null),rt===null)throw Error(s(349));d||(nr&127)!==0||zy(l,r,a)}return a}function zy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=Ic(),Re.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function By(t,r,a,l){r.value=a,r.getSnapshot=l,Fy(r)&&Hy(t)}function qy(t,r,a){return a(function(){Fy(r)&&Hy(t)})}function Fy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!bn(t,a)}catch{return!0}}function Hy(t){var r=Ys(t,2);r!==null&&mn(r,t,2)}function xd(t){var r=on();if(typeof t=="function"){var a=t;if(t=a(),ia){Dn(!0);try{a()}finally{Dn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:t},r}function Gy(t,r,a,l){return t.baseState=a,Sd(t,et,typeof l=="function"?l:ir)}function Yw(t,r,a,l,f){if(Vc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Qy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Qy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=Q.T,_={};Q.T=_;try{var w=a(f,l),O=Q.S;O!==null&&O(_,w),Ky(t,r,w)}catch(F){Rd(t,r,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(f,l),Ky(t,r,d)}catch(F){Rd(t,r,F)}}function Ky(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Yy(t,r,l)},function(l){return Rd(t,r,l)}):Yy(t,r,a)}function Yy(t,r,a){r.status="fulfilled",r.value=a,$y(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Qy(t,a)))}function Rd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,$y(r),r=r.next;while(r!==l)}t.action=null}function $y(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Xy(t,r){return r}function Wy(t,r){if(ze){var a=rt.formState;if(a!==null){e:{var l=Re;if(ze){if(at){t:{for(var f=at,d=zn;f.nodeType!==8;){if(!d){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){at=qn(f.nextSibling),l=f.data==="F!";break e}}Br(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:r},a.queue=l,a=g_.bind(null,Re,l),l.dispatch=a,l=xd(!1),d=Md.bind(null,Re,!1,l.queue),l=on(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=Yw.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Jy(t){var r=vt();return Zy(r,et,t)}function Zy(t,r,a){if(r=Sd(t,r,Xy)[0],t=Dc(ir)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Sl(r)}catch(_){throw _===Wa?bc:_}else l=r;r=vt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,no(9,{destroy:void 0},$w.bind(null,f,a),null)),[l,d,t]}function $w(t,r){t.action=r}function e_(t){var r=vt(),a=et;if(a!==null)return Zy(r,a,t);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function no(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Ic(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function t_(){return vt().memoizedState}function Oc(t,r,a,l){var f=on();Re.flags|=t,f.memoizedState=no(1|r,{destroy:void 0},a,l===void 0?null:l)}function Mc(t,r,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;et!==null&&l!==null&&_d(l,et.memoizedState.deps)?f.memoizedState=no(r,d,a,l):(Re.flags|=t,f.memoizedState=no(1|r,d,a,l))}function n_(t,r){Oc(8390656,8,t,r)}function Cd(t,r){Mc(2048,8,t,r)}function Xw(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=Ic(),Re.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function i_(t){var r=vt().memoizedState;return Xw({ref:r,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function r_(t,r){return Mc(4,2,t,r)}function s_(t,r){return Mc(4,4,t,r)}function a_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function o_(t,r,a){a=a!=null?a.concat([t]):null,Mc(4,4,a_.bind(null,r,t),a)}function Id(){}function l_(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&_d(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function u_(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&_d(r,l[1]))return l[0];if(l=t(),ia){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,r],l}function Nd(t,r,a){return a===void 0||(nr&1073741824)!==0&&(ke&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=cv(),Re.lanes|=t,Xr|=t,a)}function c_(t,r,a,l){return bn(a,r)?a:Za.current!==null?(t=Nd(t,a,l),bn(t,r)||(It=!0),t):(nr&42)===0||(nr&1073741824)!==0&&(ke&261930)===0?(It=!0,t.memoizedState=a):(t=cv(),Re.lanes|=t,Xr|=t,r)}function h_(t,r,a,l,f){var d=re.p;re.p=d!==0&&8>d?d:8;var _=Q.T,w={};Q.T=w,Md(t,!1,r,a);try{var O=f(),F=Q.S;if(F!==null&&F(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=Gw(O,l);Al(t,r,$,Rn(t))}else Al(t,r,l,Rn(t))}catch(ee){Al(t,r,{then:function(){},status:"rejected",reason:ee},Rn())}finally{re.p=d,_!==null&&w.types!==null&&(_.types=w.types),Q.T=_}}function Ww(){}function Dd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=f_(t).queue;h_(t,f,r,de,a===null?Ww:function(){return d_(t),a(l)})}function f_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:de},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function d_(t){var r=f_(t);r.next===null&&(r=t.alternate.memoizedState),Al(t,r.next.queue,{},Rn())}function Od(){return Kt(ql)}function m_(){return vt().memoizedState}function p_(){return vt().memoizedState}function Jw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Rn();t=Hr(a);var l=Gr(r,t,a);l!==null&&(mn(l,r,a),El(l,r,a)),r={cache:od()},t.payload=r;return}r=r.return}}function Zw(t,r,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vc(t)?y_(r,a):(a=Xf(t,r,a,l),a!==null&&(mn(a,t,l),__(a,r,l)))}function g_(t,r,a){var l=Rn();Al(t,r,a,l)}function Al(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vc(t))y_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,w=d(_,a);if(f.hasEagerState=!0,f.eagerState=w,bn(w,_))return mc(t,r,f,0),rt===null&&dc(),!1}catch{}if(a=Xf(t,r,f,l),a!==null)return mn(a,t,l),__(a,r,l),!0}return!1}function Md(t,r,a,l){if(l={lane:2,revertLane:hm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vc(t)){if(r)throw Error(s(479))}else r=Xf(t,a,l,2),r!==null&&mn(r,t,2)}function Vc(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function y_(t,r){eo=Rc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function __(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Ko(t,a)}}var xl={readContext:Kt,use:Nc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};xl.useEffectEvent=dt;var v_={readContext:Kt,use:Nc,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:n_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Oc(4194308,4,a_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Oc(4194308,4,t,r)},useInsertionEffect:function(t,r){Oc(4,2,t,r)},useMemo:function(t,r){var a=on();r=r===void 0?null:r;var l=t();if(ia){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=on();if(a!==void 0){var f=a(r);if(ia){Dn(!0);try{a(r)}finally{Dn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Zw.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=xd(t);var r=t.queue,a=g_.bind(null,Re,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Id,useDeferredValue:function(t,r){var a=on();return Nd(a,t,r)},useTransition:function(){var t=xd(!1);return t=h_.bind(null,Re,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Re,f=on();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),rt===null)throw Error(s(349));(ke&127)!==0||zy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,n_(qy.bind(null,l,d,t),[t]),l.flags|=2048,no(9,{destroy:void 0},By.bind(null,l,d,a,r),null),a},useId:function(){var t=on(),r=rt.identifierPrefix;if(ze){var a=Mi,l=Oi;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Cc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Qw++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Od,useFormState:Wy,useActionState:Wy,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Md.bind(null,Re,!0,a),a.dispatch=r,[t,r]},useMemoCache:wd,useCacheRefresh:function(){return on().memoizedState=Jw.bind(null,Re)},useEffectEvent:function(t){var r=on(),a={impl:t};return r.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Vd={readContext:Kt,use:Nc,useCallback:l_,useContext:Kt,useEffect:Cd,useImperativeHandle:o_,useInsertionEffect:r_,useLayoutEffect:s_,useMemo:u_,useReducer:Dc,useRef:t_,useState:function(){return Dc(ir)},useDebugValue:Id,useDeferredValue:function(t,r){var a=vt();return c_(a,et.memoizedState,t,r)},useTransition:function(){var t=Dc(ir)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:Sl(t),r]},useSyncExternalStore:jy,useId:m_,useHostTransitionStatus:Od,useFormState:Jy,useActionState:Jy,useOptimistic:function(t,r){var a=vt();return Gy(a,et,t,r)},useMemoCache:wd,useCacheRefresh:p_};Vd.useEffectEvent=i_;var E_={readContext:Kt,use:Nc,useCallback:l_,useContext:Kt,useEffect:Cd,useImperativeHandle:o_,useInsertionEffect:r_,useLayoutEffect:s_,useMemo:u_,useReducer:Ad,useRef:t_,useState:function(){return Ad(ir)},useDebugValue:Id,useDeferredValue:function(t,r){var a=vt();return et===null?Nd(a,t,r):c_(a,et.memoizedState,t,r)},useTransition:function(){var t=Ad(ir)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:Sl(t),r]},useSyncExternalStore:jy,useId:m_,useHostTransitionStatus:Od,useFormState:e_,useActionState:e_,useOptimistic:function(t,r){var a=vt();return et!==null?Gy(a,et,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wd,useCacheRefresh:p_};E_.useEffectEvent=i_;function kd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Rn(),f=Hr(l);f.payload=r,a!=null&&(f.callback=a),r=Gr(t,f,l),r!==null&&(mn(r,t,l),El(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Rn(),f=Hr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Gr(t,f,l),r!==null&&(mn(r,t,l),El(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Rn(),l=Hr(a);l.tag=2,r!=null&&(l.callback=r),r=Gr(t,l,a),r!==null&&(mn(r,t,a),El(r,t,a))}};function b_(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!fl(a,l)||!fl(f,d):!0}function T_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Pd.enqueueReplaceState(r,r.state,null)}function ra(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function w_(t){fc(t)}function S_(t){console.error(t)}function A_(t){fc(t)}function kc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function x_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ld(t,r,a){return a=Hr(a),a.tag=3,a.payload={element:null},a.callback=function(){kc(t,r)},a}function R_(t){return t=Hr(t),t.tag=3,t}function C_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){x_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){x_(r,a,l),typeof f!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function eS(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ya(r,a,f,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?Kc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Tc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),lm(t,l,f)),!1;case 22:return a.flags|=65536,l===Tc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),lm(t,l,f)),!1}throw Error(s(435,a.tag))}return lm(t,l,f),Kc(),!1}if(ze)return r=wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==nd&&(t=Error(s(422),{cause:l}),pl(Ln(t,a)))):(l!==nd&&(r=Error(s(423),{cause:l}),pl(Ln(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Ln(l,a),f=Ld(t.stateNode,l,f),dd(t,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),Vl===null?Vl=[d]:Vl.push(d),mt!==4&&(mt=2),r===null)return!0;l=Ln(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Ld(a.stateNode,l,t),dd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Wr===null||!Wr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=R_(f),C_(f,t,a,l),dd(a,f),!1}a=a.return}while(a!==null);return!1}var Ud=Error(s(461)),It=!1;function Yt(t,r,a,l){r.child=t===null?Oy(r,null,a,l):na(r,t.child,a,l)}function I_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Js(r),l=vd(t,r,a,_,d,f),w=Ed(),t!==null&&!It?(bd(t,r,f),rr(t,r,f)):(ze&&w&&ed(r),r.flags|=1,Yt(t,r,l,f),r.child)}function N_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Wf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,D_(t,r,d,l,f)):(t=gc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Qd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(_,l)&&t.ref===r.ref)return rr(t,r,f)}return r.flags|=1,t=Ji(d,l),t.ref=r.ref,t.return=r,r.child=t}function D_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(fl(d,l)&&t.ref===r.ref)if(It=!1,r.pendingProps=l=d,Qd(t,f))(t.flags&131072)!==0&&(It=!0);else return r.lanes=t.lanes,rr(t,r,f)}return jd(t,r,a,l,f)}function O_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return M_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ec(r,d!==null?d.cachePool:null),d!==null?ky(r,d):pd(),Py(r);else return l=r.lanes=536870912,M_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Ec(r,d.cachePool),ky(r,d),Kr(),r.memoizedState=null):(t!==null&&Ec(r,null),pd(),Kr());return Yt(t,r,f,a),r.child}function Rl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function M_(t,r,a,l,f){var d=ud();return d=d===null?null:{parent:Rt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&Ec(r,null),pd(),Py(r),t!==null&&Ya(t,r,l,!0),r.childLanes=f,null}function Pc(t,r){return r=Uc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function V_(t,r,a){return na(r,t.child,null,a),t=Pc(r,r.pendingProps),t.flags|=2,Sn(r),r.memoizedState=null,t}function tS(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Pc(r,l),r.lanes=536870912,Rl(null,t);if(yd(r),(t=at)?(t=Qv(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:jr!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=yy(t),a.return=r,r.child=a,Qt=r,at=null)):t=null,t===null)throw Br(r);return r.lanes=536870912,null}return Pc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(yd(r),f)if(r.flags&256)r.flags&=-257,r=V_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(It||Ya(t,r,a,!1),f=(a&t.childLanes)!==0,It||f){if(l=rt,l!==null&&(_=Yo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ys(t,_),mn(l,t,_),Ud;Kc(),r=V_(t,r,a)}else t=d.treeContext,at=qn(_.nextSibling),Qt=r,ze=!0,zr=null,zn=!1,t!==null&&Ey(r,t),r=Pc(r,l),r.flags|=4096;return r}return t=Ji(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Lc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function jd(t,r,a,l,f){return Js(r),a=vd(t,r,a,l,void 0,f),l=Ed(),t!==null&&!It?(bd(t,r,f),rr(t,r,f)):(ze&&l&&ed(r),r.flags|=1,Yt(t,r,a,f),r.child)}function k_(t,r,a,l,f,d){return Js(r),r.updateQueue=null,a=Uy(r,l,a,f),Ly(t),l=Ed(),t!==null&&!It?(bd(t,r,d),rr(t,r,d)):(ze&&l&&ed(r),r.flags|=1,Yt(t,r,a,d),r.child)}function P_(t,r,a,l,f){if(Js(r),r.stateNode===null){var d=Ha,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Pd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},hd(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Ha,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(kd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Pd.enqueueReplaceState(d,d.state,null),Tl(r,l,d,f),bl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var w=r.memoizedProps,O=ra(a,w);d.props=O;var F=d.context,$=a.contextType;_=Ha,typeof $=="object"&&$!==null&&(_=Kt($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||F!==_)&&T_(r,d,l,_),Fr=!1;var H=r.memoizedState;d.state=H,Tl(r,l,d,f),bl(),F=r.memoizedState,w||H!==F||Fr?(typeof ee=="function"&&(kd(r,a,ee,l),F=r.memoizedState),(O=Fr||b_(r,a,O,l,H,F,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,fd(t,r),_=r.memoizedProps,$=ra(a,_),d.props=$,ee=r.pendingProps,H=d.context,F=a.contextType,O=Ha,typeof F=="object"&&F!==null&&(O=Kt(F)),w=a.getDerivedStateFromProps,(F=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||H!==O)&&T_(r,d,l,O),Fr=!1,H=r.memoizedState,d.state=H,Tl(r,l,d,f),bl();var Y=r.memoizedState;_!==ee||H!==Y||Fr||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof w=="function"&&(kd(r,a,w,l),Y=r.memoizedState),($=Fr||b_(r,a,$,l,H,Y,O)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=O,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Lc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=na(r,t.child,null,f),r.child=na(r,null,a,f)):Yt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=rr(t,r,f),t}function L_(t,r,a,l){return Xs(),r.flags|=256,Yt(t,r,a,l),r.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bd(t){return{baseLanes:t,cachePool:xy()}}function qd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=xn),t}function U_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(ze){if(f?Qr(r):Kr(),(t=at)?(t=Qv(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:jr!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=yy(t),a.return=r,r.child=a,Qt=r,at=null)):t=null,t===null)throw Br(r);return Sm(t)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Kr(),f=r.mode,w=Uc({mode:"hidden",children:w},f),l=$s(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=Bd(a),l.childLanes=qd(t,_,a),r.memoizedState=zd,Rl(null,l)):(Qr(r),Fd(r,w))}var O=t.memoizedState;if(O!==null&&(w=O.dehydrated,w!==null)){if(d)r.flags&256?(Qr(r),r.flags&=-257,r=Hd(t,r,a)):r.memoizedState!==null?(Kr(),r.child=t.child,r.flags|=128,r=null):(Kr(),w=l.fallback,f=r.mode,l=Uc({mode:"visible",children:l.children},f),w=$s(w,f,a,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,na(r,t.child,null,a),l=r.child,l.memoizedState=Bd(a),l.childLanes=qd(t,_,a),r.memoizedState=zd,r=Rl(null,l));else if(Qr(r),Sm(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,pl({value:l,source:null,stack:null}),r=Hd(t,r,a)}else if(It||Ya(t,r,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=rt,_!==null&&(l=Yo(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Ys(t,l),mn(_,t,l),Ud;wm(w)||Kc(),r=Hd(t,r,a)}else wm(w)?(r.flags|=192,r.child=t.child,r=null):(t=O.treeContext,at=qn(w.nextSibling),Qt=r,ze=!0,zr=null,zn=!1,t!==null&&Ey(r,t),r=Fd(r,l.children),r.flags|=4096);return r}return f?(Kr(),w=l.fallback,f=r.mode,O=t.child,F=O.sibling,l=Ji(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?w=Ji(F,w):(w=$s(w,f,a,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,Rl(null,l),l=r.child,w=t.child.memoizedState,w===null?w=Bd(a):(f=w.cachePool,f!==null?(O=Rt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=xy(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=qd(t,_,a),r.memoizedState=zd,Rl(t.child,l)):(Qr(r),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Fd(t,r){return r=Uc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Uc(t,r){return t=Tn(22,t,null,r),t.lanes=0,t}function Hd(t,r,a){return na(r,t.child,null,a),t=Fd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function j_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),sd(t.return,r,a)}function Gd(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function z_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=_t.current,w=(_&2)!==0;if(w?(_=_&1|2,r.flags|=128):_&=1,oe(_t,_),Yt(t,r,l,a),l=ze?ml:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j_(t,a,r);else if(t.tag===19)j_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&xc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Gd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&xc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Gd(r,!0,a,null,d,l);break;case"together":Gd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function rr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Xr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Ya(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Ji(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Qd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function nS(t,r,a){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),qr(r,Rt,t.memoizedState.cache),Xs();break;case 27:case 5:Ns(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:qr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,yd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Qr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?U_(t,r,a):(Qr(r),t=rr(t,r,a),t!==null?t.sibling:null);Qr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ya(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return z_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(_t,_t.current),l)break;return null;case 22:return r.lanes=0,O_(t,r,a,r.pendingProps);case 24:qr(r,Rt,t.memoizedState.cache)}return rr(t,r,a)}function B_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)It=!0;else{if(!Qd(t,a)&&(r.flags&128)===0)return It=!1,nS(t,r,a);It=(t.flags&131072)!==0}else It=!1,ze&&(r.flags&1048576)!==0&&vy(r,ml,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ea(r.elementType),r.type=t,typeof t=="function")Wf(t)?(l=ra(t,l),r.tag=1,r=P_(null,r,t,l,a)):(r.tag=0,r=jd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ae){r.tag=11,r=I_(null,r,t,l,a);break e}else if(f===N){r.tag=14,r=N_(null,r,t,l,a);break e}}throw r=Ve(t)||t,Error(s(306,r,""))}}return r;case 0:return jd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ra(l,r.pendingProps),P_(t,r,l,f,a);case 3:e:{if(Vt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,fd(t,r),Tl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,qr(r,Rt,l),l!==d.cache&&ad(r,[Rt],a,!0),bl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=L_(t,r,l,a);break e}else if(l!==f){f=Ln(Error(s(424)),r),pl(f),r=L_(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,at=qn(t.firstChild),Qt=r,ze=!0,zr=null,zn=!0,a=Oy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xs(),l===f){r=rr(t,r,a);break e}Yt(t,r,l,a)}r=r.child}return r;case 26:return Lc(t,r),t===null?(a=Jv(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,t=r.pendingProps,l=eh(Ie.current).createElement(a),l[St]=r,l[Ut]=t,$t(l,a,t),At(l),r.stateNode=l):r.memoizedState=Jv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ns(r),t===null&&ze&&(l=r.stateNode=$v(r.type,r.pendingProps,Ie.current),Qt=r,zn=!0,f=at,ts(r.type)?(Am=f,at=qn(l.firstChild)):at=f),Yt(t,r,r.pendingProps.children,a),Lc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ze&&((f=l=at)&&(l=OS(l,r.type,r.pendingProps,zn),l!==null?(r.stateNode=l,Qt=r,at=qn(l.firstChild),zn=!1,f=!0):f=!1),f||Br(r)),Ns(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Em(f,d)?l=null:_!==null&&Em(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=vd(t,r,Kw,null,null,a),ql._currentValue=f),Lc(t,r),Yt(t,r,l,a),r.child;case 6:return t===null&&ze&&((t=a=at)&&(a=MS(a,r.pendingProps,zn),a!==null?(r.stateNode=a,Qt=r,at=null,t=!0):t=!1),t||Br(r)),null;case 13:return U_(t,r,a);case 4:return Vt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=na(r,null,l,a):Yt(t,r,l,a),r.child;case 11:return I_(t,r,r.type,r.pendingProps,a);case 7:return Yt(t,r,r.pendingProps,a),r.child;case 8:return Yt(t,r,r.pendingProps.children,a),r.child;case 12:return Yt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,qr(r,r.type,l.value),Yt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Js(r),f=Kt(f),l=l(f),r.flags|=1,Yt(t,r,l,a),r.child;case 14:return N_(t,r,r.type,r.pendingProps,a);case 15:return D_(t,r,r.type,r.pendingProps,a);case 19:return z_(t,r,a);case 31:return tS(t,r,a);case 22:return O_(t,r,a,r.pendingProps);case 24:return Js(r),l=Kt(Rt),t===null?(f=ud(),f===null&&(f=rt,d=od(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},hd(r),qr(r,Rt,f)):((t.lanes&a)!==0&&(fd(t,r),Tl(r,null,null,a),bl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),qr(r,Rt,l)):(l=d.cache,qr(r,Rt,l),l!==f.cache&&ad(r,[Rt],a,!0))),Yt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function sr(t){t.flags|=4}function Kd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(mv())t.flags|=8192;else throw ta=Tc,cd}else t.flags&=-16777217}function q_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!i0(r))if(mv())t.flags|=8192;else throw ta=Tc,cd}function jc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Gu():536870912,t.lanes|=r,ao|=r)}function Cl(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function iS(t,r,a){var l=r.pendingProps;switch(td(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),tr(Rt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ka(r)?sr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,id())),ot(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(sr(r),d!==null?(ot(r),q_(r,d)):(ot(r),Kd(r,f,null,l,a))):d?d!==t.memoizedState?(sr(r),ot(r),q_(r,d)):(ot(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&sr(r),ot(r),Kd(r,f,t,l,a)),null;case 27:if(Aa(r),a=Ie.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&sr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}t=ce.current,Ka(r)?by(r):(t=$v(f,l,a),r.stateNode=t,sr(r))}return ot(r),null;case 5:if(Aa(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&sr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(d=ce.current,Ka(r))by(r);else{var _=eh(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[St]=r,d[Ut]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch($t(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sr(r)}}return ot(r),Kd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&sr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ie.current,Ka(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Qt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[St]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Uv(t.nodeValue,a)),t||Br(r,!0)}else t=eh(t).createTextNode(l),t[St]=r,r.stateNode=t}return ot(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ka(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=r}else Xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),t=!1}else a=id(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Sn(r),r):(Sn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ot(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ka(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=r}else Xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),f=!1}else f=id(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Sn(r),r):(Sn(r),null)}return Sn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),jc(r,r.updateQueue),ot(r),null);case 4:return lt(),t===null&&pm(r.stateNode.containerInfo),ot(r),null;case 10:return tr(r.type),ot(r),null;case 19:if(Z(_t),l=r.memoizedState,l===null)return ot(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Cl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=xc(t),d!==null){for(r.flags|=128,Cl(l,!1),t=d.updateQueue,r.updateQueue=t,jc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)gy(a,t),a=a.sibling;return oe(_t,_t.current&1|2),ze&&Zi(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&sn()>Hc&&(r.flags|=128,f=!0,Cl(l,!1),r.lanes=4194304)}else{if(!f)if(t=xc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,jc(r,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return ot(r),null}else 2*sn()-l.renderingStartTime>Hc&&a!==536870912&&(r.flags|=128,f=!0,Cl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=_t.current,oe(_t,f?a&1|2:a&1),ze&&Zi(r,l.treeForkCount),t):(ot(r),null);case 22:case 23:return Sn(r),gd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&jc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&Z(Zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),tr(Rt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function rS(t,r){switch(td(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return tr(Rt),lt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Aa(r),null;case 31:if(r.memoizedState!==null){if(Sn(r),r.alternate===null)throw Error(s(340));Xs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Sn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Xs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Z(_t),null;case 4:return lt(),null;case 10:return tr(r.type),null;case 22:case 23:return Sn(r),gd(),t!==null&&Z(Zs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return tr(Rt),null;case 25:return null;default:return null}}function F_(t,r){switch(td(r),r.tag){case 3:tr(Rt),lt();break;case 26:case 27:case 5:Aa(r);break;case 4:lt();break;case 31:r.memoizedState!==null&&Sn(r);break;case 13:Sn(r);break;case 19:Z(_t);break;case 10:tr(r.type);break;case 22:case 23:Sn(r),gd(),t!==null&&Z(Zs);break;case 24:tr(Rt)}}function Il(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(w){Xe(r,r.return,w)}}function Yr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=r;var O=a,F=w;try{F()}catch($){Xe(f,O,$)}}}l=l.next}while(l!==d)}}catch($){Xe(r,r.return,$)}}function H_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Vy(r,a)}catch(l){Xe(t,t.return,l)}}}function G_(t,r,a){a.props=ra(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,r,l)}}function Nl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Xe(t,r,f)}}function Vi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,r,f)}else a.current=null}function Q_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function Yd(t,r,a){try{var l=t.stateNode;xS(l,t.type,a,r),l[Ut]=r}catch(f){Xe(t,t.return,f)}}function K_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ts(t.type)||t.tag===4}function $d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||K_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ts(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ei));else if(l!==4&&(l===27&&ts(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Xd(t,r,a),t=t.sibling;t!==null;)Xd(t,r,a),t=t.sibling}function zc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ts(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(zc(t,r,a),t=t.sibling;t!==null;)zc(t,r,a),t=t.sibling}function Y_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);$t(r,l,a),r[St]=t,r[Ut]=a}catch(d){Xe(t,t.return,d)}}var ar=!1,Nt=!1,Wd=!1,$_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function sS(t,r){if(t=t.containerInfo,_m=oh,t=oy(t),Hf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,w=-1,O=-1,F=0,$=0,ee=t,H=null;t:for(;;){for(var Y;ee!==a||f!==0&&ee.nodeType!==3||(w=_+f),ee!==d||l!==0&&ee.nodeType!==3||(O=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)H=ee,ee=Y;for(;;){if(ee===t)break t;if(H===a&&++F===f&&(w=_),H===d&&++$===l&&(O=_),(Y=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=Y}a=w===-1||O===-1?null:{start:w,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(vm={focusedElem:t,selectionRange:a},oh=!1,zt=r;zt!==null;)if(r=zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,zt=t;else for(;zt!==null;){switch(r=zt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=ra(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Tm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Tm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,zt=t;break}zt=r.return}}function X_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:lr(t,a),l&4&&Il(5,a);break;case 1:if(lr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var f=ra(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&H_(a),l&512&&Nl(a,a.return);break;case 3:if(lr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Vy(t,r)}catch(_){Xe(a,a.return,_)}}break;case 27:r===null&&l&4&&Y_(a);case 26:case 5:lr(t,a),r===null&&l&4&&Q_(a),l&512&&Nl(a,a.return);break;case 12:lr(t,a);break;case 31:lr(t,a),l&4&&Z_(t,a);break;case 13:lr(t,a),l&4&&ev(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mS.bind(null,a),VS(t,a))));break;case 22:if(l=a.memoizedState!==null||ar,!l){r=r!==null&&r.memoizedState!==null||Nt,f=ar;var d=Nt;ar=l,(Nt=r)&&!d?ur(t,a,(a.subtreeFlags&8772)!==0):lr(t,a),ar=f,Nt=d}break;case 30:break;default:lr(t,a)}}function W_(t){var r=t.alternate;r!==null&&(t.alternate=null,W_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Na(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,cn=!1;function or(t,r,a){for(a=a.child;a!==null;)J_(t,r,a),a=a.sibling}function J_(t,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Nt||Vi(a,r),or(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Vi(a,r);var l=ct,f=cn;ts(a.type)&&(ct=a.stateNode,cn=!1),or(t,r,a),jl(a.stateNode),ct=l,cn=f;break;case 5:Nt||Vi(a,r);case 6:if(l=ct,f=cn,ct=null,or(t,r,a),ct=l,cn=f,ct!==null)if(cn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Xe(a,r,d)}else try{ct.removeChild(a.stateNode)}catch(d){Xe(a,r,d)}break;case 18:ct!==null&&(cn?(t=ct,Hv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),po(t)):Hv(ct,a.stateNode));break;case 4:l=ct,f=cn,ct=a.stateNode.containerInfo,cn=!0,or(t,r,a),ct=l,cn=f;break;case 0:case 11:case 14:case 15:Yr(2,a,r),Nt||Yr(4,a,r),or(t,r,a);break;case 1:Nt||(Vi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&G_(a,r,l)),or(t,r,a);break;case 21:or(t,r,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,or(t,r,a),Nt=l;break;default:or(t,r,a)}}function Z_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{po(t)}catch(a){Xe(r,r.return,a)}}}function ev(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{po(t)}catch(a){Xe(r,r.return,a)}}function aS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new $_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new $_),r;default:throw Error(s(435,t.tag))}}function Bc(t,r){var a=aS(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=pS.bind(null,t,l);l.then(f,f)}})}function hn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(ts(w.type)){ct=w.stateNode,cn=!1;break e}break;case 5:ct=w.stateNode,cn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,cn=!0;break e}w=w.return}if(ct===null)throw Error(s(160));J_(d,_,f),ct=null,cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)tv(r,t),r=r.sibling}var ai=null;function tv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(r,t),fn(t),l&4&&(Yr(3,t,t.return),Il(3,t),Yr(5,t,t.return));break;case 1:hn(r,t),fn(t),l&512&&(Nt||a===null||Vi(a,a.return)),l&64&&ar&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ai;if(hn(r,t),fn(t),l&512&&(Nt||a===null||Vi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ei]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$t(d,l,a),d[St]=t,At(d),l=d;break e;case"link":var _=t0("link","href",f).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;case"meta":if(_=t0("meta","content",f).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,At(d),l=d}t.stateNode=l}else n0(f,t.type,t.stateNode);else t.stateNode=e0(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?n0(f,t.type,t.stateNode):e0(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(r,t),fn(t),l&512&&(Nt||a===null||Vi(a,a.return)),a!==null&&l&4&&Yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(r,t),fn(t),l&512&&(Nt||a===null||Vi(a,a.return)),t.flags&32){f=t.stateNode;try{un(f,"")}catch(he){Xe(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Yd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Wd=!0);break;case 6:if(hn(r,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Xe(t,t.return,he)}}break;case 3:if(ih=null,f=ai,ai=th(r.containerInfo),hn(r,t),ai=f,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{po(r.containerInfo)}catch(he){Xe(t,t.return,he)}Wd&&(Wd=!1,nv(t));break;case 4:l=ai,ai=th(t.stateNode.containerInfo),hn(r,t),fn(t),ai=l;break;case 12:hn(r,t),fn(t);break;case 31:hn(r,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bc(t,l)));break;case 13:hn(r,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bc(t,l)));break;case 22:f=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=ar,$=Nt;if(ar=F||f,Nt=$||O,hn(r,t),Nt=$,ar=F,fn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||O||ar||Nt||sa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=O.stateNode;var ee=O.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(he){Xe(O,O.return,he)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(he){Xe(O,O.return,he)}}}else if(r.tag===18){if(a===null){O=r;try{var Y=O.stateNode;f?Gv(Y,!0):Gv(O.stateNode,!1)}catch(he){Xe(O,O.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bc(t,a))));break;case 19:hn(r,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bc(t,l)));break;case 30:break;case 21:break;default:hn(r,t),fn(t)}}function fn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(K_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=$d(t);zc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(un(_,""),a.flags&=-33);var w=$d(t);zc(t,w,_);break;case 3:case 4:var O=a.stateNode.containerInfo,F=$d(t);Xd(t,F,O);break;default:throw Error(s(161))}}catch($){Xe(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function nv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;nv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function lr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)X_(t,r.alternate,r),r=r.sibling}function sa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Yr(4,r,r.return),sa(r);break;case 1:Vi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&G_(r,r.return,a),sa(r);break;case 27:jl(r.stateNode);case 26:case 5:Vi(r,r.return),sa(r);break;case 22:r.memoizedState===null&&sa(r);break;case 30:sa(r);break;default:sa(r)}t=t.sibling}}function ur(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:ur(f,d,a),Il(4,d);break;case 1:if(ur(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Xe(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)My(O[f],w)}catch(F){Xe(l,l.return,F)}}a&&_&64&&H_(d),Nl(d,d.return);break;case 27:Y_(d);case 26:case 5:ur(f,d,a),a&&l===null&&_&4&&Q_(d),Nl(d,d.return);break;case 12:ur(f,d,a);break;case 31:ur(f,d,a),a&&_&4&&Z_(f,d);break;case 13:ur(f,d,a),a&&_&4&&ev(f,d);break;case 22:d.memoizedState===null&&ur(f,d,a),Nl(d,d.return);break;case 30:break;default:ur(f,d,a)}r=r.sibling}}function Jd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gl(a))}function Zd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&gl(t))}function oi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)iv(t,r,a,l),r=r.sibling}function iv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:oi(t,r,a,l),f&2048&&Il(9,r);break;case 1:oi(t,r,a,l);break;case 3:oi(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&gl(t)));break;case 12:if(f&2048){oi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Xe(r,r.return,O)}}else oi(t,r,a,l);break;case 31:oi(t,r,a,l);break;case 13:oi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?oi(t,r,a,l):Dl(t,r):d._visibility&2?oi(t,r,a,l):(d._visibility|=2,io(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Jd(_,r);break;case 24:oi(t,r,a,l),f&2048&&Zd(r.alternate,r);break;default:oi(t,r,a,l)}}function io(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,w=a,O=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:io(d,_,w,O,f),Il(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?io(d,_,w,O,f):Dl(d,_):($._visibility|=2,io(d,_,w,O,f)),f&&F&2048&&Jd(_.alternate,_);break;case 24:io(d,_,w,O,f),f&&F&2048&&Zd(_.alternate,_);break;default:io(d,_,w,O,f)}r=r.sibling}}function Dl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Dl(a,l),f&2048&&Jd(l.alternate,l);break;case 24:Dl(a,l),f&2048&&Zd(l.alternate,l);break;default:Dl(a,l)}r=r.sibling}}var Ol=8192;function ro(t,r,a){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)rv(t,r,a),t=t.sibling}function rv(t,r,a){switch(t.tag){case 26:ro(t,r,a),t.flags&Ol&&t.memoizedState!==null&&QS(a,ai,t.memoizedState,t.memoizedProps);break;case 5:ro(t,r,a);break;case 3:case 4:var l=ai;ai=th(t.stateNode.containerInfo),ro(t,r,a),ai=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,ro(t,r,a),Ol=l):ro(t,r,a));break;default:ro(t,r,a)}}function sv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ml(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,ov(l,t)}sv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)av(t),t=t.sibling}function av(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&Yr(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,qc(t)):Ml(t);break;default:Ml(t)}}function qc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,ov(l,t)}sv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Yr(8,r,r.return),qc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,qc(r));break;default:qc(r)}t=t.sibling}}function ov(t,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Yr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,d=l.return;if(W_(l),l===a){zt=null;break e}if(f!==null){f.return=d,zt=f;break e}zt=d}}}var oS={getCacheForType:function(t){var r=Kt(Rt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Kt(Rt).controller.signal}},lS=typeof WeakMap=="function"?WeakMap:Map,Qe=0,rt=null,Oe=null,ke=0,$e=0,An=null,$r=!1,so=!1,em=!1,cr=0,mt=0,Xr=0,aa=0,tm=0,xn=0,ao=0,Vl=null,dn=null,nm=!1,Fc=0,lv=0,Hc=1/0,Gc=null,Wr=null,Pt=0,Jr=null,oo=null,hr=0,im=0,rm=null,uv=null,kl=0,sm=null;function Rn(){return(Qe&2)!==0&&ke!==0?ke&-ke:Q.T!==null?hm():Qu()}function cv(){if(xn===0)if((ke&536870912)===0||ze){var t=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),xn=t}else xn=536870912;return t=wn.current,t!==null&&(t.flags|=32),xn}function mn(t,r,a){(t===rt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(lo(t,0),Zr(t,ke,xn,!1)),Vs(t,a),((Qe&2)===0||t!==rt)&&(t===rt&&((Qe&2)===0&&(aa|=a),mt===4&&Zr(t,ke,xn,!1)),ki(t))}function hv(t,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Wn(t,r),f=l?hS(t,r):om(t,r,!0),d=l;do{if(f===0){so&&!l&&Zr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!uS(a)){f=om(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var w=t;f=Vl;var O=w.current.memoizedState.isDehydrated;if(O&&(lo(w,_).flags|=256),_=om(w,_,!1),_!==2){if(em&&!O){w.errorRecoveryDisabledLanes|=d,aa|=d,f=4;break e}d=dn,dn=f,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){lo(t,0),Zr(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Zr(l,r,xn,!$r);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Fc+300-sn(),10<f)){if(Zr(l,r,xn,!$r),yi(l,0,!0)!==0)break e;hr=r,l.timeoutHandle=qv(fv.bind(null,l,a,dn,Gc,nm,r,xn,aa,ao,$r,d,"Throttled",-0,0),f);break e}fv(l,a,dn,Gc,nm,r,xn,aa,ao,$r,d,null,-0,0)}}break}while(!0);ki(t)}function fv(t,r,a,l,f,d,_,w,O,F,$,ee,H,Y){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},rv(r,d,ee);var he=(d&62914560)===d?Fc-sn():(d&4194048)===d?lv-sn():0;if(he=KS(ee,he),he!==null){hr=d,t.cancelPendingCommit=he(Ev.bind(null,t,r,d,a,l,f,_,w,O,$,ee,null,H,Y)),Zr(t,d,_,!F);return}}Ev(t,r,d,a,l,f,_,w,O)}function uS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!bn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zr(t,r,a,l){r&=~tm,r&=~aa,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-gt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&ks(t,a,r)}function Qc(){return(Qe&6)===0?(Pl(0),!1):!0}function am(){if(Oe!==null){if($e===0)var t=Oe.return;else t=Oe,er=Ws=null,Td(t),Ja=null,_l=0,t=Oe;for(;t!==null;)F_(t.alternate,t),t=t.return;Oe=null}}function lo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,IS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hr=0,am(),rt=t,Oe=a=Ji(t.current,null),ke=r,$e=0,An=null,$r=!1,so=Wn(t,r),em=!1,ao=xn=tm=aa=Xr=mt=0,dn=Vl=null,nm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-gt(l),d=1<<f;r|=t[f],l&=~d}return cr=r,dc(),a}function dv(t,r){Re=null,Q.H=xl,r===Wa||r===bc?(r=Iy(),$e=3):r===cd?(r=Iy(),$e=4):$e=r===Ud?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Oe===null&&(mt=1,kc(t,Ln(r,t.current)))}function mv(){var t=wn.current;return t===null?!0:(ke&4194048)===ke?Bn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Bn:!1}function pv(){var t=Q.H;return Q.H=xl,t===null?xl:t}function gv(){var t=Q.A;return Q.A=oS,t}function Kc(){mt=4,$r||(ke&4194048)!==ke&&wn.current!==null||(so=!0),(Xr&134217727)===0&&(aa&134217727)===0||rt===null||Zr(rt,ke,xn,!1)}function om(t,r,a){var l=Qe;Qe|=2;var f=pv(),d=gv();(rt!==t||ke!==r)&&(Gc=null,lo(t,r)),r=!1;var _=mt;e:do try{if($e!==0&&Oe!==null){var w=Oe,O=An;switch($e){case 8:am(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(r=!0);var F=$e;if($e=0,An=null,uo(t,w,O,F),a&&so){_=0;break e}break;default:F=$e,$e=0,An=null,uo(t,w,O,F)}}cS(),_=mt;break}catch($){dv(t,$)}while(!0);return r&&t.shellSuspendCounter++,er=Ws=null,Qe=l,Q.H=f,Q.A=d,Oe===null&&(rt=null,ke=0,dc()),_}function cS(){for(;Oe!==null;)yv(Oe)}function hS(t,r){var a=Qe;Qe|=2;var l=pv(),f=gv();rt!==t||ke!==r?(Gc=null,Hc=sn()+500,lo(t,r)):so=Wn(t,r);e:do try{if($e!==0&&Oe!==null){r=Oe;var d=An;t:switch($e){case 1:$e=0,An=null,uo(t,r,d,1);break;case 2:case 9:if(Ry(d)){$e=0,An=null,_v(r);break}r=function(){$e!==2&&$e!==9||rt!==t||($e=7),ki(t)},d.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Ry(d)?($e=0,An=null,_v(r)):($e=0,An=null,uo(t,r,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var w=Oe;if(_?i0(_):w.stateNode.complete){$e=0,An=null;var O=w.sibling;if(O!==null)Oe=O;else{var F=w.return;F!==null?(Oe=F,Yc(F)):Oe=null}break t}}$e=0,An=null,uo(t,r,d,5);break;case 6:$e=0,An=null,uo(t,r,d,6);break;case 8:am(),mt=6;break e;default:throw Error(s(462))}}fS();break}catch($){dv(t,$)}while(!0);return er=Ws=null,Q.H=l,Q.A=f,Qe=a,Oe!==null?0:(rt=null,ke=0,dc(),mt)}function fS(){for(;Oe!==null&&!Lf();)yv(Oe)}function yv(t){var r=B_(t.alternate,t,cr);t.memoizedProps=t.pendingProps,r===null?Yc(t):Oe=r}function _v(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=k_(a,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=k_(a,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:Td(r);default:F_(a,r),r=Oe=gy(r,cr),r=B_(a,r,cr)}t.memoizedProps=t.pendingProps,r===null?Yc(t):Oe=r}function uo(t,r,a,l){er=Ws=null,Td(r),Ja=null,_l=0;var f=r.return;try{if(eS(t,f,r,a,ke)){mt=1,kc(t,Ln(a,t.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;mt=1,kc(t,Ln(a,t.current)),Oe=null;return}r.flags&32768?(ze||l===1?t=!0:so||(ke&536870912)!==0?t=!1:($r=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vv(r,t)):Yc(r)}function Yc(t){var r=t;do{if((r.flags&32768)!==0){vv(r,$r);return}t=r.return;var a=iS(r.alternate,r,cr);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);mt===0&&(mt=5)}function vv(t,r){do{var a=rS(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);mt=6,Oe=null}function Ev(t,r,a,l,f,d,_,w,O){t.cancelPendingCommit=null;do $c();while(Pt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=$f,zf(t,a,d,_,w,O),t===rt&&(Oe=rt=null,ke=0),oo=r,Jr=t,hr=a,im=d,rm=f,uv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gS(Ir,function(){return Av(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=re.p,re.p=2,_=Qe,Qe|=4;try{sS(t,r,a)}finally{Qe=_,re.p=f,Q.T=l}}Pt=1,bv(),Tv(),wv()}}function bv(){if(Pt===1){Pt=0;var t=Jr,r=oo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=re.p;re.p=2;var f=Qe;Qe|=4;try{tv(r,t);var d=vm,_=oy(t.containerInfo),w=d.focusedElem,O=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&ay(w.ownerDocument.documentElement,w)){if(O!==null&&Hf(w)){var F=O.start,$=O.end;if($===void 0&&($=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min($,w.value.length);else{var ee=w.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var Y=H.getSelection(),he=w.textContent.length,_e=Math.min(O.start,he),nt=O.end===void 0?_e:Math.min(O.end,he);!Y.extend&&_e>nt&&(_=nt,nt=_e,_e=_);var U=sy(w,_e),V=sy(w,nt);if(U&&V&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var q=ee.createRange();q.setStart(U.node,U.offset),Y.removeAllRanges(),_e>nt?(Y.addRange(q),Y.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),Y.addRange(q))}}}}for(ee=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var X=ee[w];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}oh=!!_m,vm=_m=null}finally{Qe=f,re.p=l,Q.T=a}}t.current=r,Pt=2}}function Tv(){if(Pt===2){Pt=0;var t=Jr,r=oo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=re.p;re.p=2;var f=Qe;Qe|=4;try{X_(t,r.alternate,r)}finally{Qe=f,re.p=l,Q.T=a}}Pt=3}}function wv(){if(Pt===4||Pt===3){Pt=0,ju();var t=Jr,r=oo,a=hr,l=uv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,oo=Jr=null,Sv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Wr=null),Yi(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Xn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,f=re.p,re.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{Q.T=r,re.p=f}}(hr&3)!==0&&$c(),ki(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===sm?kl++:(kl=0,sm=t):kl=0,Pl(0)}}function Sv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,gl(r)))}function $c(){return bv(),Tv(),wv(),Av()}function Av(){if(Pt!==5)return!1;var t=Jr,r=im;im=0;var a=Yi(hr),l=Q.T,f=re.p;try{re.p=32>a?32:a,Q.T=null,a=rm,rm=null;var d=Jr,_=hr;if(Pt=0,oo=Jr=null,hr=0,(Qe&6)!==0)throw Error(s(331));var w=Qe;if(Qe|=4,av(d.current),iv(d,d.current,_,a),Qe=w,Pl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{re.p=f,Q.T=l,Sv(t,r)}}function xv(t,r,a){r=Ln(a,r),r=Ld(t.stateNode,r,2),t=Gr(t,r,2),t!==null&&(Vs(t,2),ki(t))}function Xe(t,r,a){if(t.tag===3)xv(t,t,a);else for(;r!==null;){if(r.tag===3){xv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wr===null||!Wr.has(l))){t=Ln(a,t),a=R_(2),l=Gr(r,a,2),l!==null&&(C_(a,l,r,t),Vs(l,2),ki(l));break}}r=r.return}}function lm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new lS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(em=!0,f.add(a),t=dS.bind(null,t,r,a),r.then(t,t))}function dS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(ke&a)===a&&(mt===4||mt===3&&(ke&62914560)===ke&&300>sn()-Fc?(Qe&2)===0&&lo(t,0):tm|=a,ao===ke&&(ao=0)),ki(t)}function Rv(t,r){r===0&&(r=Gu()),t=Ys(t,r),t!==null&&(Vs(t,r),ki(t))}function mS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Rv(t,a)}function pS(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Rv(t,a)}function gS(t,r){return kt(t,r)}var Xc=null,co=null,um=!1,Wc=!1,cm=!1,es=0;function ki(t){t!==co&&t.next===null&&(co===null?Xc=co=t:co=co.next=t),Wc=!0,um||(um=!0,_S())}function Pl(t,r){if(!cm&&Wc){cm=!0;do for(var a=!1,l=Xc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=f&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Dv(l,d))}else d=ke,d=yi(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,Dv(l,d));l=l.next}while(a);cm=!1}}function yS(){Cv()}function Cv(){Wc=um=!1;var t=0;es!==0&&CS()&&(t=es);for(var r=sn(),a=null,l=Xc;l!==null;){var f=l.next,d=Iv(l,r);d===0?(l.next=null,a===null?Xc=f:a.next=f,f===null&&(co=a)):(a=l,(t!==0||(d&3)!==0)&&(Wc=!0)),l=f}Pt!==0&&Pt!==5||Pl(t),es!==0&&(es=0)}function Iv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),w=1<<_,O=f[_];O===-1?((w&a)===0||(w&l)!==0)&&(f[_]=jf(w,r)):O<=r&&(t.expiredLanes|=w),d&=~w}if(r=rt,a=ke,a=yi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Cr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Cr(l),Yi(a)){case 2:case 8:a=Qo;break;case 32:a=Ir;break;case 268435456:a=zu;break;default:a=Ir}return l=Nv.bind(null,t),a=kt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Cr(l),t.callbackPriority=2,t.callbackNode=null,2}function Nv(t,r){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if($c()&&t.callbackNode!==a)return null;var l=ke;return l=yi(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(hv(t,l,r),Iv(t,sn()),t.callbackNode!=null&&t.callbackNode===a?Nv.bind(null,t):null)}function Dv(t,r){if($c())return null;hv(t,r,!0)}function _S(){NS(function(){(Qe&6)!==0?kt(Go,yS):Cv()})}function hm(){if(es===0){var t=$a;t===0&&(t=pi,pi<<=1,(pi&261888)===0&&(pi=256)),es=t}return es}function Ov(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Va(""+t)}function Mv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function vS(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Ov((f[Ut]||null).action),_=l.submitter;_&&(r=(r=_[Ut]||null)?Ov(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var w=new Ci("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(es!==0){var O=_?Mv(f,_):new FormData(f);Dd(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(w.preventDefault(),O=_?Mv(f,_):new FormData(f),Dd(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var fm=0;fm<Yf.length;fm++){var dm=Yf[fm],ES=dm.toLowerCase(),bS=dm[0].toUpperCase()+dm.slice(1);si(ES,"on"+bS)}si(cy,"onAnimationEnd"),si(hy,"onAnimationIteration"),si(fy,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(Lw,"onTransitionRun"),si(Uw,"onTransitionStart"),si(jw,"onTransitionCancel"),si(dy,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Vv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var w=l[_],O=w.instance,F=w.currentTarget;if(w=w.listener,O!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=F;try{d(f)}catch($){fc($)}f.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(w=l[_],O=w.instance,F=w.currentTarget,w=w.listener,O!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=F;try{d(f)}catch($){fc($)}f.currentTarget=null,d=O}}}}function Me(t,r){var a=r[Ia];a===void 0&&(a=r[Ia]=new Set);var l=t+"__bubble";a.has(l)||(kv(r,t,2,!1),a.add(l))}function mm(t,r,a){var l=0;r&&(l|=4),kv(a,t,l,r)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function pm(t){if(!t[Jc]){t[Jc]=!0,$o.forEach(function(a){a!=="selectionchange"&&(TS.has(a)||mm(a,!1,t),mm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Jc]||(r[Jc]=!0,mm("selectionchange",!1,r))}}function kv(t,r,a,l){switch(c0(r)){case 2:var f=XS;break;case 8:f=WS;break;default:f=Nm}a=f.bind(null,r,a,t),f=void 0,!zs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function gm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=bi(w),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}w=w.parentNode}}l=l.return}kr(function(){var F=d,$=Mn(a),ee=[];e:{var H=my.get(t);if(H!==void 0){var Y=Ci,he=t;switch(t){case"keypress":if(qs(a)===0)break e;case"keydown":case"keyup":Y=uc;break;case"focusin":he="focus",Y=Hs;break;case"focusout":he="blur",Y=Hs;break;case"beforeblur":case"afterblur":Y=Hs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case cy:case hy:case fy:Y=nc;break;case dy:Y=S;break;case"scroll":case"scrollend":Y=ol;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Wi;break;case"toggle":case"beforetoggle":Y=xe}var _e=(r&4)!==0,nt=!_e&&(t==="scroll"||t==="scrollend"),U=_e?H!==null?H+"Capture":null:H;_e=[];for(var V=F,q;V!==null;){var X=V;if(q=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||q===null||U===null||(X=ti(V,U),X!=null&&_e.push(Ul(V,X,q))),nt)break;V=V.return}0<_e.length&&(H=new Y(H,he,null,a,$),ee.push({event:H,listeners:_e}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",H&&a!==rl&&(he=a.relatedTarget||a.fromElement)&&(bi(he)||he[vi]))break e;if((Y||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(he=a.relatedTarget||a.toElement,Y=F,he=he?bi(he):null,he!==null&&(nt=u(he),_e=he.tag,he!==nt||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(Y=null,he=F),Y!==he)){if(_e=ll,X="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Wi,X="onPointerLeave",U="onPointerEnter",V="pointer"),nt=Y==null?H:vn(Y),q=he==null?H:vn(he),H=new _e(X,V+"leave",Y,a,$),H.target=nt,H.relatedTarget=q,X=null,bi($)===F&&(_e=new _e(U,V+"enter",he,a,$),_e.target=q,_e.relatedTarget=nt,X=_e),nt=X,Y&&he)t:{for(_e=wS,U=Y,V=he,q=0,X=U;X;X=_e(X))q++;X=0;for(var me=V;me;me=_e(me))X++;for(;0<q-X;)U=_e(U),q--;for(;0<X-q;)V=_e(V),X--;for(;q--;){if(U===V||V!==null&&U===V.alternate){_e=U;break t}U=_e(U),V=_e(V)}_e=null}else _e=null;Y!==null&&Pv(ee,H,Y,_e,!1),he!==null&&nt!==null&&Pv(ee,nt,he,_e,!0)}}e:{if(H=F?vn(F):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Fe=Zg;else if(Wg(H))if(ey)Fe=Vw;else{Fe=Ow;var fe=Dw}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Ma(F.elementType)&&(Fe=Zg):Fe=Mw;if(Fe&&(Fe=Fe(t,F))){Jg(ee,Fe,a,$);break e}fe&&fe(t,H,F),t==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&tl(H,"number",H.value)}switch(fe=F?vn(F):window,t){case"focusin":(Wg(fe)||fe.contentEditable==="true")&&(Ba=fe,Gf=F,dl=null);break;case"focusout":dl=Gf=Ba=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,ly(ee,a,$);break;case"selectionchange":if(Pw)break;case"keydown":case"keyup":ly(ee,a,$)}var Ne;if(Ge)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else za?Gs(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Di&&a.locale!=="ko"&&(za||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&za&&(Ne=al()):(Ri=$,sl="value"in Ri?Ri.value:Ri.textContent,za=!0)),fe=Zc(F,Pe),0<fe.length&&(Pe=new Ni(Pe,t,null,a,$),ee.push({event:Pe,listeners:fe}),Ne?Pe.data=Ne:(Ne=ja(a),Ne!==null&&(Pe.data=Ne)))),(Ne=kn?Rw(t,a):Cw(t,a))&&(Pe=Zc(F,"onBeforeInput"),0<Pe.length&&(fe=new Ni("onBeforeInput","beforeinput",null,a,$),ee.push({event:fe,listeners:Pe}),fe.data=Ne)),vS(ee,t,F,a,$)}Vv(ee,r)})}function Ul(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Zc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ti(t,a),f!=null&&l.unshift(Ul(t,f,d)),f=ti(t,r),f!=null&&l.push(Ul(t,f,d))),t.tag===3)return l;t=t.return}return[]}function wS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pv(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var w=a,O=w.alternate,F=w.stateNode;if(w=w.tag,O!==null&&O===l)break;w!==5&&w!==26&&w!==27||F===null||(O=F,f?(F=ti(a,d),F!=null&&_.unshift(Ul(a,F,O))):f||(F=ti(a,d),F!=null&&_.push(Ul(a,F,O)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var SS=/\r\n?/g,AS=/\u0000|\uFFFD/g;function Lv(t){return(typeof t=="string"?t:""+t).replace(SS,`
`).replace(AS,"")}function Uv(t,r){return r=Lv(r),Lv(t)===r}function tt(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&un(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":il(t,l,d);break;case"data":if(r!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Va(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&tt(t,r,"name",f.name,f,null),tt(t,r,"formEncType",f.formEncType,f,null),tt(t,r,"formMethod",f.formMethod,f,null),tt(t,r,"formTarget",f.formTarget,f,null)):(tt(t,r,"encType",f.encType,f,null),tt(t,r,"method",f.method,f,null),tt(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Va(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ei);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Da(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zu.get(a)||a,Da(t,a,l))}}function ym(t,r,a,l,f,d){switch(a){case"style":il(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Da(t,a,l)}}}function $t(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(t,r,d,_,a,null)}}f&&tt(t,r,"srcSet",a.srcSet,a,null),l&&tt(t,r,"src",a.src,a,null);return;case"input":Me("invalid",t);var w=d=_=f=null,O=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":O=$;break;case"defaultChecked":F=$;break;case"value":d=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:tt(t,r,l,$,a,null)}}Xu(t,d,w,O,F,_,f,!1);return;case"select":Me("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:tt(t,r,f,w,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Dr(t,!!l,r,!1):a!=null&&Dr(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:tt(t,r,_,w,a,null)}Or(t,l,f,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,r,O,l,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Me(Ll[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(t,r,F,l,a,null)}return;default:if(Ma(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&ym(t,r,$,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&tt(t,r,w,l,a,null))}function xS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,w=null,O=null,F=null,$=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=ee;default:l.hasOwnProperty(Y)||tt(t,r,Y,null,l,ee)}}for(var H in l){var Y=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(Y!=null||ee!=null))switch(H){case"type":d=Y;break;case"name":f=Y;break;case"checked":F=Y;break;case"defaultChecked":$=Y;break;case"value":_=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==ee&&tt(t,r,H,Y,l,ee)}}Oa(t,_,w,O,F,$,d,f);return;case"select":Y=_=w=H=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(d)||tt(t,r,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":H=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==O&&tt(t,r,f,d,l,O)}r=w,a=_,l=Y,H!=null?Dr(t,!!a,H,!1):!!l!=!!a&&(r!=null?Dr(t,!!a,r,!0):Dr(t,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(t,r,w,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":H=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&tt(t,r,_,f,l,d)}Wu(t,H,Y);return;case"option":for(var he in a)H=a[he],a.hasOwnProperty(he)&&H!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:tt(t,r,he,null,l,H));for(O in l)H=l[O],Y=a[O],l.hasOwnProperty(O)&&H!==Y&&(H!=null||Y!=null)&&(O==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":tt(t,r,O,H,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&tt(t,r,_e,null,l,H);for(F in l)if(H=l[F],Y=a[F],l.hasOwnProperty(F)&&H!==Y&&(H!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:tt(t,r,F,H,l,Y)}return;default:if(Ma(r)){for(var nt in a)H=a[nt],a.hasOwnProperty(nt)&&H!==void 0&&!l.hasOwnProperty(nt)&&ym(t,r,nt,void 0,l,H);for($ in l)H=l[$],Y=a[$],!l.hasOwnProperty($)||H===Y||H===void 0&&Y===void 0||ym(t,r,$,H,l,Y);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&tt(t,r,U,null,l,H);for(ee in l)H=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||H===Y||H==null&&Y==null||tt(t,r,ee,H,l,Y)}function jv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,w=f.duration;if(d&&w&&jv(_)){for(_=0,w=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],F=O.startTime;if(F>w)break;var $=O.transferSize,ee=O.initiatorType;$&&jv(ee)&&(O=O.responseEnd,_+=$*(O<w?1:(w-F)/(O-F)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _m=null,vm=null;function eh(t){return t.nodeType===9?t:t.ownerDocument}function zv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Em(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bm=null;function CS(){var t=window.event;return t&&t.type==="popstate"?t===bm?!1:(bm=t,!0):(bm=null,!1)}var qv=typeof setTimeout=="function"?setTimeout:void 0,IS=typeof clearTimeout=="function"?clearTimeout:void 0,Fv=typeof Promise=="function"?Promise:void 0,NS=typeof queueMicrotask=="function"?queueMicrotask:typeof Fv<"u"?function(t){return Fv.resolve(null).then(t).catch(DS)}:qv;function DS(t){setTimeout(function(){throw t})}function ts(t){return t==="head"}function Hv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),po(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")jl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,jl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[Ei]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&jl(t.ownerDocument.body);a=f}while(a);po(r)}function Gv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Tm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tm(a),Na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function OS(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ei])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function MS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function Qv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=qn(t.nextSibling),t===null))return null;return t}function wm(t){return t.data==="$?"||t.data==="$~"}function Sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function VS(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Am=null;function Kv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return qn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Yv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function $v(t,r,a){switch(r=eh(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function jl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Na(t)}var Fn=new Map,Xv=new Set;function th(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fr=re.d;re.d={f:kS,r:PS,D:LS,C:US,L:jS,m:zS,X:qS,S:BS,M:FS};function kS(){var t=fr.f(),r=Qc();return t||r}function PS(t){var r=On(t);r!==null&&r.tag===5&&r.type==="form"?d_(r):fr.r(t)}var ho=typeof document>"u"?null:document;function Wv(t,r,a){var l=ho;if(l&&typeof r=="string"&&r){var f=ln(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Xv.has(f)||(Xv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),$t(r,"link",t),At(r),l.head.appendChild(r)))}}function LS(t){fr.D(t),Wv("dns-prefetch",t,null)}function US(t,r){fr.C(t,r),Wv("preconnect",t,r)}function jS(t,r,a){fr.L(t,r,a);var l=ho;if(l&&t&&r){var f='link[rel="preload"][as="'+ln(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ln(a.imageSizes)+'"]')):f+='[href="'+ln(t)+'"]';var d=f;switch(r){case"style":d=fo(t);break;case"script":d=mo(t)}Fn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Fn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(zl(d))||r==="script"&&l.querySelector(Bl(d))||(r=l.createElement("link"),$t(r,"link",t),At(r),l.head.appendChild(r)))}}function zS(t,r){fr.m(t,r);var a=ho;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=mo(t)}if(!Fn.has(d)&&(t=T({rel:"modulepreload",href:t},r),Fn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(d)))return}l=a.createElement("link"),$t(l,"link",t),At(l),a.head.appendChild(l)}}}function BS(t,r,a){fr.S(t,r,a);var l=ho;if(l&&t){var f=Ti(l).hoistableStyles,d=fo(t);r=r||"default";var _=f.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(zl(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Fn.get(d))&&xm(t,a);var O=_=l.createElement("link");At(O),$t(O,"link",t),O._p=new Promise(function(F,$){O.onload=F,O.onerror=$}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,nh(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(d,_)}}}function qS(t,r){fr.X(t,r);var a=ho;if(a&&t){var l=Ti(a).hoistableScripts,f=mo(t),d=l.get(f);d||(d=a.querySelector(Bl(f)),d||(t=T({src:t,async:!0},r),(r=Fn.get(f))&&Rm(t,r),d=a.createElement("script"),At(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function FS(t,r){fr.M(t,r);var a=ho;if(a&&t){var l=Ti(a).hoistableScripts,f=mo(t),d=l.get(f);d||(d=a.querySelector(Bl(f)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Fn.get(f))&&Rm(t,r),d=a.createElement("script"),At(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Jv(t,r,a,l){var f=(f=Ie.current)?th(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=fo(a.href),a=Ti(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fo(a.href);var d=Ti(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(zl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),d||HS(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=mo(a),a=Ti(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fo(t){return'href="'+ln(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function Zv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function HS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),At(r),t.head.appendChild(r))}function mo(t){return'[src="'+ln(t)+'"]'}function Bl(t){return"script[async]"+t}function e0(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return r.instance=l,At(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),$t(l,"style",f),nh(l,a.precedence,t),r.instance=l;case"stylesheet":f=fo(a.href);var d=t.querySelector(zl(f));if(d)return r.state.loading|=4,r.instance=d,At(d),d;l=Zv(a),(f=Fn.get(f))&&xm(l,f),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(w,O){_.onload=w,_.onerror=O}),$t(d,"link",l),r.state.loading|=4,nh(d,a.precedence,t),r.instance=d;case"script":return d=mo(a.src),(f=t.querySelector(Bl(d)))?(r.instance=f,At(f),f):(l=a,(f=Fn.get(d))&&(l=T({},a),Rm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),At(f),$t(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,nh(l,a.precedence,t));return r.instance}function nh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===r)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function xm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Rm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var ih=null;function t0(t,r,a){if(ih===null){var l=new Map,f=ih=new Map;f.set(a,l)}else f=ih,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ei]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function n0(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function GS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function i0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function QS(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=fo(l.href),d=r.querySelector(zl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=rh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=r.ownerDocument||r,l=Zv(l),(f=Fn.get(f))&&xm(l,f),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(w,O){_.onload=w,_.onerror=O}),$t(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=rh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Cm=0;function KS(t,r){return t.stylesheets&&t.count===0&&ah(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ah(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&Cm===0&&(Cm=62500*RS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ah(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Cm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function rh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ah(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sh=null;function ah(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sh=new Map,r.forEach(YS,t),sh=null,rh.call(t))}function YS(t,r){if(!(r.state.loading&4)){var a=sh.get(t);if(a)var l=a.get(null);else{a=new Map,sh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=rh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var ql={$$typeof:J,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function $S(t,r,a,l,f,d,_,w,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function r0(t,r,a,l,f,d,_,w,O,F,$,ee){return t=new $S(t,r,a,_,O,F,$,ee,w),r=1,d===!0&&(r|=24),d=Tn(3,null,null,r),t.current=d,d.stateNode=t,r=od(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},hd(d),t}function s0(t){return t?(t=Ha,t):Ha}function a0(t,r,a,l,f,d){f=s0(f),l.context===null?l.context=f:l.pendingContext=f,l=Hr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Gr(t,l,r),a!==null&&(mn(a,t,r),El(a,t,r))}function o0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Im(t,r){o0(t,r),(t=t.alternate)&&o0(t,r)}function l0(t){if(t.tag===13||t.tag===31){var r=Ys(t,67108864);r!==null&&mn(r,t,67108864),Im(t,67108864)}}function u0(t){if(t.tag===13||t.tag===31){var r=Rn();r=Ps(r);var a=Ys(t,r);a!==null&&mn(a,t,r),Im(t,r)}}var oh=!0;function XS(t,r,a,l){var f=Q.T;Q.T=null;var d=re.p;try{re.p=2,Nm(t,r,a,l)}finally{re.p=d,Q.T=f}}function WS(t,r,a,l){var f=Q.T;Q.T=null;var d=re.p;try{re.p=8,Nm(t,r,a,l)}finally{re.p=d,Q.T=f}}function Nm(t,r,a,l){if(oh){var f=Dm(l);if(f===null)gm(t,r,l,lh,a),h0(t,l);else if(ZS(f,t,r,a,l))l.stopPropagation();else if(h0(t,l),r&4&&-1<JS.indexOf(t)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=gi(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var O=1<<31-gt(_);w.entanglements[1]|=O,_&=~O}ki(d),(Qe&6)===0&&(Hc=sn()+500,Pl(0))}}break;case 31:case 13:w=Ys(d,2),w!==null&&mn(w,d,2),Qc(),Im(d,2)}if(d=Dm(l),d===null&&gm(t,r,l,lh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else gm(t,r,l,null,a)}}function Dm(t){return t=Mn(t),Om(t)}var lh=null;function Om(t){if(lh=null,t=bi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return lh=t,null}function c0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Os()){case Go:return 2;case Qo:return 8;case Ir:case Uf:return 32;case zu:return 268435456;default:return 32}default:return 32}}var Mm=!1,ns=null,is=null,rs=null,Fl=new Map,Hl=new Map,ss=[],JS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h0(t,r){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Fl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(r.pointerId)}}function Gl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=On(r),r!==null&&l0(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function ZS(t,r,a,l,f){switch(r){case"focusin":return ns=Gl(ns,t,r,a,l,f),!0;case"dragenter":return is=Gl(is,t,r,a,l,f),!0;case"mouseover":return rs=Gl(rs,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Fl.set(d,Gl(Fl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Hl.set(d,Gl(Hl.get(d)||null,t,r,a,l,f)),!0}return!1}function f0(t){var r=bi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Jn(t.priority,function(){u0(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Jn(t.priority,function(){u0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Dm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);rl=l,a.target.dispatchEvent(l),rl=null}else return r=On(a),r!==null&&l0(r),t.blockedOn=a,!1;r.shift()}return!0}function d0(t,r,a){uh(t)&&a.delete(r)}function eA(){Mm=!1,ns!==null&&uh(ns)&&(ns=null),is!==null&&uh(is)&&(is=null),rs!==null&&uh(rs)&&(rs=null),Fl.forEach(d0),Hl.forEach(d0)}function ch(t,r){t.blockedOn===r&&(t.blockedOn=null,Mm||(Mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,eA)))}var hh=null;function m0(t){hh!==t&&(hh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){hh===t&&(hh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Om(l||a)===null)continue;break}var d=On(a);d!==null&&(t.splice(r,3),r-=3,Dd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function po(t){function r(O){return ch(O,t)}ns!==null&&ch(ns,t),is!==null&&ch(is,t),rs!==null&&ch(rs,t),Fl.forEach(r),Hl.forEach(r);for(var a=0;a<ss.length;a++){var l=ss[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ss.length&&(a=ss[0],a.blockedOn===null);)f0(a),a.blockedOn===null&&ss.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ut]||null;if(typeof d=="function")_||m0(a);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ut]||null)w=_.formAction;else if(Om(f)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),m0(a)}}}function p0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Vm(t){this._internalRoot=t}fh.prototype.render=Vm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Rn();a0(a,l,t,r,null,null)},fh.prototype.unmount=Vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;a0(t.current,2,null,t,null,null),Qc(),r[vi]=null}};function fh(t){this._internalRoot=t}fh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Qu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ss.length&&r!==0&&r<ss[a].priority;a++);ss.splice(a,0,t),a===0&&f0(t)}};var g0=e.version;if(g0!=="19.2.4")throw Error(s(527,g0,"19.2.4"));re.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var tA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{Xn=dh.inject(tA),Ht=dh}catch{}}return Kl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=w_,d=S_,_=A_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=r0(t,1,!1,null,null,a,l,null,f,d,_,p0),t[vi]=r.current,pm(t),new Vm(r)},Kl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=w_,_=S_,w=A_,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=r0(t,1,!0,r,a??null,l,f,O,d,_,w,p0),r.context=s0(null),a=r.current,l=Rn(),l=Ps(l),f=Hr(l),f.callback=null,Gr(a,f,l),a=l,r.current.lanes=a,Vs(r,a),ki(r),t[vi]=r.current,pm(t),new fh(r)},Kl.version="19.2.4",Kl}var x0;function hA(){if(x0)return Lm.exports;x0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Lm.exports=cA(),Lm.exports}var fA=hA();const dA=Sb(fA);var R0="popstate";function C0(i){return typeof i=="object"&&i!=null&&"pathname"in i&&"search"in i&&"hash"in i&&"state"in i&&"key"in i}function mA(i={}){function e(s,o){let u=o.state?.masked,{pathname:h,search:m,hash:p}=u||s.location;return hp("",{pathname:h,search:m,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default",u?{pathname:s.location.pathname,search:s.location.search,hash:s.location.hash}:void 0)}function n(s,o){return typeof o=="string"?o:hu(o)}return gA(e,n,null,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Yn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pA(){return Math.random().toString(36).substring(2,10)}function I0(i,e){return{usr:i.state,key:i.key,idx:e,masked:i.unstable_mask?{pathname:i.pathname,search:i.search,hash:i.hash}:void 0}}function hp(i,e,n=null,s,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Oo(e):e,state:n,key:e&&e.key||s||pA(),unstable_mask:o}}function hu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Oo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function gA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let z=E(),ie=z==null?null:z-g;g=z,p&&p({action:m,location:G.location,delta:ie})}function A(z,ie){m="PUSH";let ne=C0(z)?z:hp(G.location,z,ie);g=E()+1;let J=I0(ne,g),ae=G.createHref(ne.unstable_mask||ne);try{h.pushState(J,"",ae)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(ae)}u&&p&&p({action:m,location:G.location,delta:1})}function P(z,ie){m="REPLACE";let ne=C0(z)?z:hp(G.location,z,ie);g=E();let J=I0(ne,g),ae=G.createHref(ne.unstable_mask||ne);h.replaceState(J,"",ae),u&&p&&p({action:m,location:G.location,delta:0})}function j(z){return yA(z)}let G={get action(){return m},get location(){return i(o,h)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(R0,T),p=z,()=>{o.removeEventListener(R0,T),p=null}},createHref(z){return e(o,z)},createURL:j,encodeLocation(z){let ie=j(z);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:A,replace:P,go(z){return h.go(z)}};return G}function yA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:hu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Ab(i,e,n="/"){return _A(i,e,n,!1)}function _A(i,e,n,s){let o=typeof e=="string"?Oo(e):e,u=Er(o.pathname||"/",n);if(u==null)return null;let h=xb(i);vA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=NA(u);m=CA(h[p],g,s)}return m}function xb(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ht(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=Li([s,E.relativePath]),A=n.concat(E);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),xb(h.children,e,A,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:xA(T,h.index),routesMeta:A})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of Rb(h.path))u(h,m,!0,p)}),e}function Rb(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=Rb(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function vA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:RA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var EA=/^:[\w-]+$/,bA=3,TA=2,wA=1,SA=10,AA=-2,N0=i=>i==="*";function xA(i,e){let n=i.split("/"),s=n.length;return n.some(N0)&&(s+=AA),e&&(s+=TA),n.filter(o=>!N0(o)).reduce((o,u)=>o+(EA.test(u)?bA:u===""?wA:SA),s)}function RA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function CA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=jh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=jh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Li([u,T.pathname]),pathnameBase:VA(Li([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=Li([u,T.pathnameBase]))}return h}function jh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=IA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let j=m[A]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const P=m[A];return T&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function IA(i,e=!1,n=!0){Yn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p,g,E)=>{if(s.push({paramName:m,isOptional:p!=null}),p){let T=E.charAt(g+h.length);return T&&T!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function NA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Er(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var DA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function OA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Oo(i):i,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=D0(n.substring(1),"/"):u=D0(n,e)):u=e,{pathname:u,search:kA(s),hash:PA(o)}}function D0(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Bm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bp(i){let e=MA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function cf(i,e,n,s=!1){let o;typeof i=="string"?o=Oo(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),Bm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Bm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Bm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=OA(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Li=i=>i.join("/").replace(/\/\/+/g,"/"),VA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),kA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,PA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,LA=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function UA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function jA(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Cb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ib(i,e){let n=i;if(typeof n!="string"||!DA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(Cb)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Er(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Yn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Nb=["POST","PUT","PATCH","DELETE"];new Set(Nb);var zA=["GET",...Nb];new Set(zA);var Mo=L.createContext(null);Mo.displayName="DataRouter";var hf=L.createContext(null);hf.displayName="DataRouterState";var BA=L.createContext(!1),Db=L.createContext({isTransitioning:!1});Db.displayName="ViewTransition";var qA=L.createContext(new Map);qA.displayName="Fetchers";var FA=L.createContext(null);FA.displayName="Await";var Nn=L.createContext(null);Nn.displayName="Navigation";var Su=L.createContext(null);Su.displayName="Location";var di=L.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var qp=L.createContext(null);qp.displayName="RouteError";var Ob="REACT_ROUTER_ERROR",HA="REDIRECT",GA="ROUTE_ERROR_RESPONSE";function QA(i){if(i.startsWith(`${Ob}:${HA}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function KA(i){if(i.startsWith(`${Ob}:${GA}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new LA(e.status,e.statusText,e.data)}catch{}}function YA(i,{relative:e}={}){ht(Vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Nn),{hash:o,pathname:u,search:h}=Au(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Li([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Vo(){return L.useContext(Su)!=null}function Gi(){return ht(Vo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Su).location}var Mb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vb(i){L.useContext(Nn).static||L.useLayoutEffect(i)}function Ea(){let{isDataRoute:i}=L.useContext(di);return i?lx():$A()}function $A(){ht(Vo(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(Mo),{basename:e,navigator:n}=L.useContext(Nn),{matches:s}=L.useContext(di),{pathname:o}=Gi(),u=JSON.stringify(Bp(s)),h=L.useRef(!1);return Vb(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(Yn(h.current,Mb),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=cf(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Li([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}L.createContext(null);function XA(){let{matches:i}=L.useContext(di),e=i[i.length-1];return e?e.params:{}}function Au(i,{relative:e}={}){let{matches:n}=L.useContext(di),{pathname:s}=Gi(),o=JSON.stringify(Bp(n));return L.useMemo(()=>cf(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function WA(i,e){return kb(i,e)}function kb(i,e,n){ht(Vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=L.useContext(Nn),{matches:o}=L.useContext(di),u=o[o.length-1],h=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let z=g&&g.path||"";Lb(m,!g||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let E=Gi(),T;if(e){let z=typeof e=="string"?Oo(e):e;ht(p==="/"||z.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${z.pathname}" was given in the \`location\` prop.`),T=z}else T=E;let A=T.pathname||"/",P=A;if(p!=="/"){let z=p.replace(/^\//,"").split("/");P="/"+A.replace(/^\//,"").split("/").slice(z.length).join("/")}let j=Ab(i,{pathname:P});Yn(g||j!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Yn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=nx(j&&j.map(z=>Object.assign({},z,{params:Object.assign({},h,z.params),pathname:Li([p,s.encodeLocation?s.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?p:Li([p,s.encodeLocation?s.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),o,n);return e&&G?L.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...T},navigationType:"POP"}},G):G}function JA(){let i=ox(),e=UA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var ZA=L.createElement(JA,null),Pb=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=KA(i.digest);n&&(i=n)}let e=i!==void 0?L.createElement(di.Provider,{value:this.props.routeContext},L.createElement(qp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?L.createElement(ex,{error:i},e):e}};Pb.contextType=BA;var qm=new WeakMap;function ex({children:i,error:e}){let{basename:n}=L.useContext(Nn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=QA(e.digest);if(s){let o=qm.get(e);if(o)throw o;let u=Ib(s.location,n);if(Cb&&!qm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw qm.set(e,h),h}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function tx({routeContext:i,match:e,children:n}){let s=L.useContext(Mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(di.Provider,{value:i},n)}function nx(i,e=[],n){let s=n?.state;if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let o=i,u=s?.errors;if(u!=null){let E=o.findIndex(T=>T.route.id&&u?.[T.route.id]!==void 0);ht(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,E+1))}let h=!1,m=-1;if(n&&s){h=s.renderFallback;for(let E=0;E<o.length;E++){let T=o[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(m=E),T.route.id){let{loaderData:A,errors:P}=s,j=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!P||P[T.route.id]===void 0);if(T.route.lazy||j){n.isStatic&&(h=!0),m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}}let p=n?.onError,g=s&&p?(E,T)=>{p(E,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:jA(s.matches),errorInfo:T})}:void 0;return o.reduceRight((E,T,A)=>{let P,j=!1,G=null,z=null;s&&(P=u&&T.route.id?u[T.route.id]:void 0,G=T.route.errorElement||ZA,h&&(m<0&&A===0?(Lb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,z=null):m===A&&(j=!0,z=T.route.hydrateFallbackElement||null)));let ie=e.concat(o.slice(0,A+1)),ne=()=>{let J;return P?J=G:j?J=z:T.route.Component?J=L.createElement(T.route.Component,null):T.route.element?J=T.route.element:J=E,L.createElement(tx,{match:T,routeContext:{outlet:E,matches:ie,isDataRoute:s!=null},children:J})};return s&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?L.createElement(Pb,{location:s.location,revalidation:s.revalidation,component:G,error:P,children:ne(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:g}):ne()},null)}function Fp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ix(i){let e=L.useContext(Mo);return ht(e,Fp(i)),e}function rx(i){let e=L.useContext(hf);return ht(e,Fp(i)),e}function sx(i){let e=L.useContext(di);return ht(e,Fp(i)),e}function Hp(i){let e=sx(i),n=e.matches[e.matches.length-1];return ht(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function ax(){return Hp("useRouteId")}function ox(){let i=L.useContext(qp),e=rx("useRouteError"),n=Hp("useRouteError");return i!==void 0?i:e.errors?.[n]}function lx(){let{router:i}=ix("useNavigate"),e=Hp("useNavigate"),n=L.useRef(!1);return Vb(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{Yn(n.current,Mb),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var O0={};function Lb(i,e,n){!e&&!O0[i]&&(O0[i]=!0,Yn(!1,n))}L.memo(ux);function ux({routes:i,future:e,state:n,isStatic:s,onError:o}){return kb(i,void 0,{state:n,isStatic:s,onError:o})}function cx({to:i,replace:e,state:n,relative:s}){ht(Vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Nn);Yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(di),{pathname:h}=Gi(),m=Ea(),p=cf(i,Bp(u),h,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function ls(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hx({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ht(!Vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Oo(n));let{pathname:g="/",search:E="",hash:T="",state:A=null,key:P="default",unstable_mask:j}=n,G=L.useMemo(()=>{let z=Er(g,m);return z==null?null:{location:{pathname:z,search:E,hash:T,state:A,key:P,unstable_mask:j},navigationType:s}},[m,g,E,T,A,P,s,j]);return Yn(G!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:L.createElement(Nn.Provider,{value:p},L.createElement(Su.Provider,{children:e,value:G}))}function fx({children:i,location:e}){return WA(fp(i),e)}function fp(i,e=[]){let n=[];return L.Children.forEach(i,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,fp(s.props.children,u));return}ht(s.type===ls,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=fp(s.props.children,u)),n.push(h)}),n}var xh="get",Rh="application/x-www-form-urlencoded";function ff(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function dx(i){return ff(i)&&i.tagName.toLowerCase()==="button"}function mx(i){return ff(i)&&i.tagName.toLowerCase()==="form"}function px(i){return ff(i)&&i.tagName.toLowerCase()==="input"}function gx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function yx(i,e){return i.button===0&&(!e||e==="_self")&&!gx(i)}function dp(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,n)=>{let s=i[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function _x(i,e){let n=dp(i);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var mh=null;function vx(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var Ex=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fm(i){return i!=null&&!Ex.has(i)?(Yn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rh}"`),null):i}function bx(i,e){let n,s,o,u,h;if(mx(i)){let m=i.getAttribute("action");s=m?Er(m,e):null,n=i.getAttribute("method")||xh,o=Fm(i.getAttribute("enctype"))||Rh,u=new FormData(i)}else if(dx(i)||px(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Er(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||xh,o=Fm(i.getAttribute("formenctype"))||Fm(m.getAttribute("enctype"))||Rh,u=new FormData(m,i),!vx()){let{name:g,type:E,value:T}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(ff(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xh,s=null,o=Rh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Tx(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Er(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function wx(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sx(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Ax(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await wx(u,n);return h.links?h.links():[]}return[]}));return Ix(s.flat(1).filter(Sx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function M0(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function xx(i,e,{includeHydrateFallback:n}={}){return Rx(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Rx(i){return[...new Set(i)]}function Cx(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Ix(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(Cx(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Ub(){let i=L.useContext(Mo);return Gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Nx(){let i=L.useContext(hf);return Gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Qp=L.createContext(void 0);Qp.displayName="FrameworkContext";function jb(){let i=L.useContext(Qp);return Gp(i,"You must render this element inside a <HydratedRouter> element"),i}function Dx(i,e){let n=L.useContext(Qp),[s,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,A=L.useRef(null);L.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let G=ie=>{ie.forEach(ne=>{h(ne.isIntersecting)})},z=new IntersectionObserver(G,{threshold:.5});return A.current&&z.observe(A.current),()=>{z.disconnect()}}},[i]),L.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let P=()=>{o(!0)},j=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Yl(m,P),onBlur:Yl(p,j),onMouseEnter:Yl(g,P),onMouseLeave:Yl(E,j),onTouchStart:Yl(T,P)}]:[!1,A,{}]}function Yl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Ox({page:i,...e}){let{router:n}=Ub(),s=L.useMemo(()=>Ab(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?L.createElement(Vx,{page:i,matches:s,...e}):null}function Mx(i){let{manifest:e,routeModules:n}=jb(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return Ax(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function Vx({page:i,matches:e,...n}){let s=Gi(),{future:o,manifest:u,routeModules:h}=jb(),{basename:m}=Ub(),{loaderData:p,matches:g}=Nx(),E=L.useMemo(()=>M0(i,e,g,u,s,"data"),[i,e,g,u,s]),T=L.useMemo(()=>M0(i,e,g,u,s,"assets"),[i,e,g,u,s]),A=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let G=new Set,z=!1;if(e.forEach(ne=>{let J=u.routes[ne.route.id];!J||!J.hasLoader||(!E.some(ae=>ae.route.id===ne.route.id)&&ne.route.id in p&&h[ne.route.id]?.shouldRevalidate||J.hasClientLoader?z=!0:G.add(ne.route.id))}),G.size===0)return[];let ie=Tx(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return z&&G.size>0&&ie.searchParams.set("_routes",e.filter(ne=>G.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[ie.pathname+ie.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,i,h]),P=L.useMemo(()=>xx(T,u),[T,u]),j=Mx(T);return L.createElement(L.Fragment,null,A.map(G=>L.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),P.map(G=>L.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),j.map(({key:G,link:z})=>L.createElement("link",{key:G,nonce:n.nonce,...z,crossOrigin:z.crossOrigin??n.crossOrigin})))}function kx(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Px=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Px&&(window.__reactRouterVersion="7.13.1")}catch{}function Lx({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=mA({window:s,v5Compat:!0}));let u=o.current,[h,m]=L.useState({action:u.action,location:u.location}),p=L.useCallback(g=>{n===!1?m(g):L.startTransition(()=>m(g))},[n]);return L.useLayoutEffect(()=>u.listen(p),[u,p]),L.createElement(hx,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var zb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,unstable_mask:m,state:p,target:g,to:E,preventScrollReset:T,viewTransition:A,unstable_defaultShouldRevalidate:P,...j},G){let{basename:z,navigator:ie,unstable_useTransitions:ne}=L.useContext(Nn),J=typeof E=="string"&&zb.test(E),ae=Ib(E,z);E=ae.to;let ge=YA(E,{relative:o}),ve=Gi(),N=null;if(m){let Ce=cf(m,[],ve.unstable_mask?ve.unstable_mask.pathname:"/",!0);z!=="/"&&(Ce.pathname=Ce.pathname==="/"?z:Li([z,Ce.pathname])),N=ie.createHref(Ce)}let[x,C,R]=Dx(s,j),D=Bx(E,{replace:h,unstable_mask:m,state:p,target:g,preventScrollReset:T,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:P,unstable_useTransitions:ne});function k(Ce){e&&e(Ce),Ce.defaultPrevented||D(Ce)}let I=!(ae.isExternal||u),Ve=L.createElement("a",{...j,...R,href:(I?N:void 0)||ae.absoluteURL||ge,onClick:I?k:e,ref:kx(G,C),target:g,"data-discover":!J&&n==="render"?"true":void 0});return x&&!J?L.createElement(L.Fragment,null,Ve,L.createElement(Ox,{page:ge})):Ve});it.displayName="Link";var Ux=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=Au(h,{relative:g.relative}),A=Gi(),P=L.useContext(hf),{navigator:j,basename:G}=L.useContext(Nn),z=P!=null&&Kx(T)&&m===!0,ie=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,ne=A.pathname,J=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),J=J?J.toLowerCase():null,ie=ie.toLowerCase()),J&&G&&(J=Er(J,G)||J);const ae=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let ge=ne===ie||!o&&ne.startsWith(ie)&&ne.charAt(ae)==="/",ve=J!=null&&(J===ie||!o&&J.startsWith(ie)&&J.charAt(ie.length)==="/"),N={isActive:ge,isPending:ve,isTransitioning:z},x=ge?e:void 0,C;typeof s=="function"?C=s(N):C=[s,ge?"active":null,ve?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let R=typeof u=="function"?u(N):u;return L.createElement(it,{...g,"aria-current":x,className:C,ref:E,style:R,to:h,viewTransition:m},typeof p=="function"?p(N):p)});Ux.displayName="NavLink";var jx=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=xh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...P},j)=>{let{unstable_useTransitions:G}=L.useContext(Nn),z=Gx(),ie=Qx(m,{relative:g}),ne=h.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&zb.test(m),ae=ge=>{if(p&&p(ge),ge.defaultPrevented)return;ge.preventDefault();let ve=ge.nativeEvent.submitter,N=ve?.getAttribute("formmethod")||h,x=()=>z(ve||ge.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A});G&&n!==!1?L.startTransition(()=>x()):x()};return L.createElement("form",{ref:j,method:ne,action:ie,onSubmit:s?p:ae,...P,"data-discover":!J&&i==="render"?"true":void 0})});jx.displayName="Form";function zx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bb(i){let e=L.useContext(Mo);return ht(e,zx(i)),e}function Bx(i,{target:e,replace:n,unstable_mask:s,state:o,preventScrollReset:u,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let E=Ea(),T=Gi(),A=Au(i,{relative:h});return L.useCallback(P=>{if(yx(P,e)){P.preventDefault();let j=n!==void 0?n:hu(T)===hu(A),G=()=>E(i,{replace:j,unstable_mask:s,state:o,preventScrollReset:u,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:p});g?L.startTransition(()=>G()):G()}},[T,E,A,n,s,o,e,i,u,h,m,p,g])}function qx(i){Yn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(dp(i)),n=L.useRef(!1),s=Gi(),o=L.useMemo(()=>_x(s.search,n.current?null:e.current),[s.search]),u=Ea(),h=L.useCallback((m,p)=>{const g=dp(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var Fx=0,Hx=()=>`__${String(++Fx)}__`;function Gx(){let{router:i}=Bb("useSubmit"),{basename:e}=L.useContext(Nn),n=ax(),s=i.fetch,o=i.navigate;return L.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=bx(u,e);if(h.navigate===!1){let A=h.fetcherKey||Hx();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function Qx(i,{relative:e}={}){let{basename:n}=L.useContext(Nn),s=L.useContext(di);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Au(i||".",{relative:e})},h=Gi();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Li([n,u.pathname])),hu(u)}function Kx(i,{relative:e}={}){let n=L.useContext(Db);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Bb("useViewTransitionState"),o=Au(i,{relative:e});if(!n.isTransitioning)return!1;let u=Er(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return jh(o.pathname,h)!=null||jh(o.pathname,u)!=null}const Yx=()=>{};var V0={};const qb=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$x=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Fb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,P=g&63;p||(P=64,h||(A=64)),s.push(n[E],n[T],n[A],n[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(qb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):$x(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new Xx;const A=u<<2|m>>4;if(s.push(A),g!==64){const P=m<<4&240|g>>2;if(s.push(P),T!==64){const j=g<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Xx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wx=function(i){const e=qb(i);return Fb.encodeByteArray(e,!0)},zh=function(i){return Wx(i).replace(/\./g,"")},Hb=function(i){try{return Fb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Jx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Zx=()=>Jx().__FIREBASE_DEFAULTS__,eR=()=>{if(typeof process>"u"||typeof V0>"u")return;const i=V0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},tR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Hb(i[1]);return e&&JSON.parse(e)},df=()=>{try{return Yx()||Zx()||eR()||tR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Gb=i=>df()?.emulatorHosts?.[i],Qb=i=>{const e=Gb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Kb=()=>df()?.config,Yb=i=>df()?.[`_${i}`];class nR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ba(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kp(i){return(await fetch(i,{credentials:"include"})).ok}function $b(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[zh(JSON.stringify(n)),zh(JSON.stringify(h)),""].join(".")}const ru={};function iR(){const i={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?i.emulator.push(e):i.prod.push(e);return i}function rR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let k0=!1;function Yp(i,e){if(typeof window>"u"||typeof document>"u"||!ba(window.location.host)||ru[i]===e||ru[i]||k0)return;ru[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=iR().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,P){A.setAttribute("width","24"),A.setAttribute("id",P),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{k0=!0,h()},A}function E(A,P){A.setAttribute("id",P),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=rR(s),P=n("text"),j=document.getElementById(P)||document.createElement("span"),G=n("learnmore"),z=document.getElementById(G)||document.createElement("a"),ie=n("preprendIcon"),ne=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const J=A.element;m(J),E(z,G);const ae=g();p(ne,ie),J.append(ne,j,z,ae),document.body.appendChild(J)}u?(j.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function aR(){const i=df()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function uR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cR(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function hR(){return!aR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fR(){try{return typeof indexedDB=="object"}catch{return!1}}function dR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const mR="FirebaseError";class Qi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=mR,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?pR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Qi(o,m,s)}}function pR(i,e){return i.replace(gR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const gR=/\{\$([^}]+)}/g;function yR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function fa(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(P0(u)&&P0(h)){if(!fa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function P0(i){return i!==null&&typeof i=="object"}function Ru(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Zl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function _R(i,e){const n=new vR(i,e);return n.subscribe.bind(n)}class vR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ER(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Hm),o.error===void 0&&(o.error=Hm),o.complete===void 0&&(o.complete=Hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ER(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Hm(){}function bt(i){return i&&i._delegate?i._delegate:i}class _s{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oa="[DEFAULT]";class bR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new nR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wR(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TR(i){return i===oa?void 0:i}function wR(i){return i.instantiationMode==="EAGER"}class SR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const AR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},xR=Le.INFO,RR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},CR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=RR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $p{constructor(e){this.name=e,this._logLevel=xR,this._logHandler=CR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const IR=(i,e)=>e.some(n=>i instanceof n);let L0,U0;function NR(){return L0||(L0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DR(){return U0||(U0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xb=new WeakMap,mp=new WeakMap,Wb=new WeakMap,Gm=new WeakMap,Xp=new WeakMap;function OR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(ms(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Xb.set(n,i)}).catch(()=>{}),Xp.set(e,i),e}function MR(i){if(mp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});mp.set(i,e)}let pp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return mp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Wb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function VR(i){pp=i(pp)}function kR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Qm(this),e,...n);return Wb.set(s,e.sort?e.sort():[e]),ms(s)}:DR().includes(i)?function(...e){return i.apply(Qm(this),e),ms(Xb.get(this))}:function(...e){return ms(i.apply(Qm(this),e))}}function PR(i){return typeof i=="function"?kR(i):(i instanceof IDBTransaction&&MR(i),IR(i,NR())?new Proxy(i,pp):i)}function ms(i){if(i instanceof IDBRequest)return OR(i);if(Gm.has(i))return Gm.get(i);const e=PR(i);return e!==i&&(Gm.set(i,e),Xp.set(e,i)),e}const Qm=i=>Xp.get(i);function LR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=ms(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ms(h.result),p.oldVersion,p.newVersion,ms(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const UR=["get","getKey","getAll","getAllKeys","count"],jR=["put","add","delete","clear"],Km=new Map;function j0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=jR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||UR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Km.set(e,u),u}VR(i=>({...i,get:(e,n,s)=>j0(e,n)||i.get(e,n,s),has:(e,n)=>!!j0(e,n)||i.has(e,n)}));class zR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function BR(i){return i.getComponent()?.type==="VERSION"}const gp="@firebase/app",z0="0.14.8";const br=new $p("@firebase/app"),qR="@firebase/app-compat",FR="@firebase/analytics-compat",HR="@firebase/analytics",GR="@firebase/app-check-compat",QR="@firebase/app-check",KR="@firebase/auth",YR="@firebase/auth-compat",$R="@firebase/database",XR="@firebase/data-connect",WR="@firebase/database-compat",JR="@firebase/functions",ZR="@firebase/functions-compat",e2="@firebase/installations",t2="@firebase/installations-compat",n2="@firebase/messaging",i2="@firebase/messaging-compat",r2="@firebase/performance",s2="@firebase/performance-compat",a2="@firebase/remote-config",o2="@firebase/remote-config-compat",l2="@firebase/storage",u2="@firebase/storage-compat",c2="@firebase/firestore",h2="@firebase/ai",f2="@firebase/firestore-compat",d2="firebase",m2="12.9.0";const yp="[DEFAULT]",p2={[gp]:"fire-core",[qR]:"fire-core-compat",[HR]:"fire-analytics",[FR]:"fire-analytics-compat",[QR]:"fire-app-check",[GR]:"fire-app-check-compat",[KR]:"fire-auth",[YR]:"fire-auth-compat",[$R]:"fire-rtdb",[XR]:"fire-data-connect",[WR]:"fire-rtdb-compat",[JR]:"fire-fn",[ZR]:"fire-fn-compat",[e2]:"fire-iid",[t2]:"fire-iid-compat",[n2]:"fire-fcm",[i2]:"fire-fcm-compat",[r2]:"fire-perf",[s2]:"fire-perf-compat",[a2]:"fire-rc",[o2]:"fire-rc-compat",[l2]:"fire-gcs",[u2]:"fire-gcs-compat",[c2]:"fire-fst",[f2]:"fire-fst-compat",[h2]:"fire-vertex","fire-js":"fire-js",[d2]:"fire-js-all"};const Bh=new Map,g2=new Map,_p=new Map;function B0(i,e){try{i.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function da(i){const e=i.name;if(_p.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,i);for(const n of Bh.values())B0(n,i);for(const n of g2.values())B0(n,i);return!0}function mf(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function gn(i){return i==null?!1:i.settings!==void 0}const y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new xu("app","Firebase",y2);class _2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}const Ta=m2;function Jb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:yp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ps.create("bad-app-name",{appName:String(o)});if(n||(n=Kb()),!n)throw ps.create("no-options");const u=Bh.get(o);if(u){if(fa(n,u.options)&&fa(s,u.config))return u;throw ps.create("duplicate-app",{appName:o})}const h=new SR(o);for(const p of _p.values())h.addComponent(p);const m=new _2(n,s,h);return Bh.set(o,m),m}function Wp(i=yp){const e=Bh.get(i);if(!e&&i===yp&&Kb())return Jb();if(!e)throw ps.create("no-app",{appName:i});return e}function Ui(i,e,n){let s=p2[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(h.join(" "));return}da(new _s(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const v2="firebase-heartbeat-database",E2=1,fu="firebase-heartbeat-store";let Ym=null;function Zb(){return Ym||(Ym=LR(v2,E2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ps.create("idb-open",{originalErrorMessage:i.message})})),Ym}async function b2(i){try{const n=(await Zb()).transaction(fu),s=await n.objectStore(fu).get(eT(i));return await n.done,s}catch(e){if(e instanceof Qi)br.warn(e.message);else{const n=ps.create("idb-get",{originalErrorMessage:e?.message});br.warn(n.message)}}}async function q0(i,e){try{const s=(await Zb()).transaction(fu,"readwrite");await s.objectStore(fu).put(e,eT(i)),await s.done}catch(n){if(n instanceof Qi)br.warn(n.message);else{const s=ps.create("idb-set",{originalErrorMessage:n?.message});br.warn(s.message)}}}function eT(i){return`${i.name}!${i.options.appId}`}const T2=1024,w2=30;class S2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new x2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=F0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>w2){const o=R2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){br.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=F0(),{heartbeatsToSend:n,unsentEntries:s}=A2(this._heartbeatsCache.heartbeats),o=zh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return br.warn(e),""}}}function F0(){return new Date().toISOString().substring(0,10)}function A2(i,e=T2){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),H0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),H0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class x2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fR()?dR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function H0(i){return zh(JSON.stringify({version:2,heartbeats:i})).length}function R2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function C2(i){da(new _s("platform-logger",e=>new zR(e),"PRIVATE")),da(new _s("heartbeat",e=>new S2(e),"PRIVATE")),Ui(gp,z0,i),Ui(gp,z0,"esm2020"),Ui("fire-js","")}C2("");function tT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I2=tT,nT=new xu("auth","Firebase",tT());const qh=new $p("@firebase/auth");function N2(i,...e){qh.logLevel<=Le.WARN&&qh.warn(`Auth (${Ta}): ${i}`,...e)}function Ch(i,...e){qh.logLevel<=Le.ERROR&&qh.error(`Auth (${Ta}): ${i}`,...e)}function $n(i,...e){throw Zp(i,...e)}function ci(i,...e){return Zp(i,...e)}function Jp(i,e,n){const s={...I2(),[e]:n};return new xu("auth","Firebase",s).create(e,{appName:i.name})}function _r(i){return Jp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D2(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&$n(i,"argument-error"),Jp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return nT.create(i,...e)}function Ee(i,e,...n){if(!i)throw Zp(e,...n)}function pr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ch(e),new Error(e)}function Tr(i,e){i||pr(e)}function vp(){return typeof self<"u"&&self.location?.href||""}function O2(){return G0()==="http:"||G0()==="https:"}function G0(){return typeof self<"u"&&self.location?.protocol||null}function M2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O2()||lR()||"connection"in navigator)?navigator.onLine:!0}function V2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tr(n>e,"Short delay should be less than long delay!"),this.isMobile=sR()||uR()}get(){return M2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function eg(i,e){Tr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class iT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const P2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L2=new Cu(3e4,6e4);function xs(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function xr(i,e,n,s,o={}){return rT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Ru({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return oR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&ba(i.emulatorConfig.host)&&(g.credentials="include"),iT.fetch()(await sT(i,i.config.apiHost,n,m),g)})}async function rT(i,e,n){i._canInitEmulator=!1;const s={...k2,...e};try{const o=new j2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ph(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ph(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw ph(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Jp(i,E,g);$n(i,E)}}catch(o){if(o instanceof Qi)throw o;$n(i,"network-request-failed",{message:String(o)})}}async function Iu(i,e,n,s,o={}){const u=await xr(i,e,n,s,o);return"mfaPendingCredential"in u&&$n(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function sT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?eg(i.config,o):`${i.config.apiScheme}://${o}`;return P2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function U2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ci(this.auth,"network-request-failed")),L2.get())})}}function ph(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ci(i,e,s);return o.customData._tokenResponse=n,o}function Q0(i){return i!==void 0&&i.enterprise!==void 0}class z2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return U2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B2(i,e){return xr(i,"GET","/v2/recaptchaConfig",xs(i,e))}async function q2(i,e){return xr(i,"POST","/v1/accounts:delete",e)}async function Fh(i,e){return xr(i,"POST","/v1/accounts:lookup",e)}function su(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F2(i,e=!1){const n=bt(i),s=await n.getIdToken(e),o=tg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:su($m(o.auth_time)),issuedAtTime:su($m(o.iat)),expirationTime:su($m(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function $m(i){return Number(i)*1e3}function tg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=Hb(n);return o?JSON.parse(o):(Ch("Failed to decode base64 JWT payload"),null)}catch(o){return Ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function K0(i){const e=tg(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function xo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Qi&&H2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function H2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class G2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hh(i){const e=i.auth,n=await i.getIdToken(),s=await xo(i,Fh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?aT(o.providerUserInfo):[],h=K2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function Q2(i){const e=bt(i);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function aT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Y2(i,e){const n=await rT(i,{},async()=>{const s=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await sT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&ba(i.emulatorConfig.host)&&(p.credentials="include"),iT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $2(i,e){return xr(i,"POST","/v2/accounts:revokeToken",xs(i,e))}class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=K0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Y2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new bo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return pr("not implemented")}}function os(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new G2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F2(this,e)}reload(){return Q2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(_r(this.auth));const e=await this.getIdToken();return await xo(this,q2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:P,providerData:j,stsTokenManager:G}=n;Ee(T&&G,e,"internal-error");const z=bo.fromJSON(this.name,G);Ee(typeof T=="string",e,"internal-error"),os(s,e.name),os(o,e.name),Ee(typeof A=="boolean",e,"internal-error"),Ee(typeof P=="boolean",e,"internal-error"),os(u,e.name),os(h,e.name),os(m,e.name),os(p,e.name),os(g,e.name),os(E,e.name);const ie=new li({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:P,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:z,createdAt:g,lastLoginAt:E});return j&&Array.isArray(j)&&(ie.providerData=j.map(ne=>({...ne}))),p&&(ie._redirectEventId=p),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new bo;o.updateFromServerResponse(n);const u=new li({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Hh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?aT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new bo;m.updateFromIdToken(s);const p=new li({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const Y0=new Map;function gr(i){Tr(i instanceof Function,"Expected a class definition");let e=Y0.get(i);return e?(Tr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Y0.set(i,e),e)}class oT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oT.type="NONE";const $0=oT;function Ih(i,e,n){return`firebase:${i}:${e}:${n}`}class To{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ih("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fh(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new To(gr($0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||gr($0);const h=Ih(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const A=await Fh(e,{idToken:E}).catch(()=>{});if(!A)break;T=await li._fromGetAccountInfoResponse(e,A,E)}else T=li._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new To(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new To(u,e,s))}}function X0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dT(e))return"Blackberry";if(mT(e))return"Webos";if(uT(e))return"Safari";if((e.includes("chrome/")||cT(e))&&!e.includes("edge/"))return"Chrome";if(fT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function lT(i=rn()){return/firefox\//i.test(i)}function uT(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cT(i=rn()){return/crios\//i.test(i)}function hT(i=rn()){return/iemobile/i.test(i)}function fT(i=rn()){return/android/i.test(i)}function dT(i=rn()){return/blackberry/i.test(i)}function mT(i=rn()){return/webos/i.test(i)}function ng(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function X2(i=rn()){return ng(i)&&!!window.navigator?.standalone}function W2(){return cR()&&document.documentMode===10}function pT(i=rn()){return ng(i)||fT(i)||mT(i)||dT(i)||/windows phone/i.test(i)||hT(i)}function gT(i,e=[]){let n;switch(i){case"Browser":n=X0(rn());break;case"Worker":n=`${X0(rn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${s}`}class J2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Z2(i,e={}){return xr(i,"GET","/v2/passwordPolicy",xs(i,e))}const eC=6;class tC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class nC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W0(this),this.idTokenSubscription=new W0(this),this.beforeStateQueue=new J2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await To.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fh(this,{idToken:e}),s=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(gn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gn(this.app))return Promise.reject(_r(this));const n=e?bt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gn(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z2(this),n=new tC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await $2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&N2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Rs(i){return bt(i)}class W0{constructor(e){this.auth=e,this.observer=null,this.addObserver=_R(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iC(i){pf=i}function yT(i){return pf.loadJS(i)}function rC(){return pf.recaptchaEnterpriseScript}function sC(){return pf.gapiScript}function aC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class oC{constructor(){this.enterprise=new lC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uC="recaptcha-enterprise",_T="NO_RECAPTCHA";class cC{constructor(e){this.type=uC,this.auth=Rs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{B2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new z2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;Q0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(_T)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&Q0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=rC();p.length!==0&&(p+=m),yT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function J0(i,e,n,s=!1,o=!1){const u=new cC(i);let h;if(o)h=_T;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function bp(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await J0(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await J0(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function hC(i,e){const n=mf(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(fa(u,e??{}))return o;$n(o,"already-initialized")}return n.initialize({options:e})}function fC(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(gr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function dC(i,e,n){const s=Rs(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=vT(e),{host:h,port:m}=mC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(fa(g,s.config.emulator)&&fa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ba(h)?(Kp(`${u}//${h}${p}`),Yp("Auth",!0)):pC()}function vT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function mC(i){const e=vT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Z0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Z0(h)}}}function Z0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function pC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function gC(i,e){return xr(i,"POST","/v1/accounts:signUp",e)}async function yC(i,e){return Iu(i,"POST","/v1/accounts:signInWithPassword",xs(i,e))}async function _C(i,e){return Iu(i,"POST","/v1/accounts:signInWithEmailLink",xs(i,e))}async function vC(i,e){return Iu(i,"POST","/v1/accounts:signInWithEmailLink",xs(i,e))}class du extends ig{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new du(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new du(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,n,"signInWithPassword",yC);case"emailLink":return _C(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,s,"signUpPassword",gC);case"emailLink":return vC(e,{idToken:n,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function wo(i,e){return Iu(i,"POST","/v1/accounts:signInWithIdp",xs(i,e))}const EC="http://localhost";class ma extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ma(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,wo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:EC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}function bC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TC(i){const e=Jl(Zl(i)).link,n=e?Jl(Zl(e)).deep_link_id:null,s=Jl(Zl(i)).deep_link_id;return(s?Jl(Zl(s)).link:null)||s||n||e||i}class rg{constructor(e){const n=Jl(Zl(e)),s=n.apiKey??null,o=n.oobCode??null,u=bC(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=TC(e);try{return new rg(n)}catch{return null}}}class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=rg.parseLink(n);return Ee(s,"argument-error"),du._fromEmailAndCode(e,s.code,s.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class sg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Nu extends sg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cs extends Nu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";class dr extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return dr.credential(n,s)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";class mr extends Nu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";class hs extends Nu{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return hs.credential(n,s)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";async function wC(i,e){return Iu(i,"POST","/v1/accounts:signUp",xs(i,e))}class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await li._fromIdTokenResponse(e,s,o),h=eE(s);return new pa({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=eE(s);return new pa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function eE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Gh extends Qi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Gh(e,n,s,o)}}function ET(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(i,u,e,s):u})}async function SC(i,e,n=!1){const s=await xo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return pa._forOperation(i,"link",s)}async function AC(i,e,n=!1){const{auth:s}=i;if(gn(s.app))return Promise.reject(_r(s));const o="reauthenticate";try{const u=await xo(i,ET(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const h=tg(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(i.uid===m,s,"user-mismatch"),pa._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&$n(s,"user-mismatch"),u}}async function bT(i,e,n=!1){if(gn(i.app))return Promise.reject(_r(i));const s="signIn",o=await ET(i,s,e),u=await pa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function xC(i,e){return bT(Rs(i),e)}async function TT(i){const e=Rs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wT(i,e,n){if(gn(i.app))return Promise.reject(_r(i));const s=Rs(i),h=await bp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&TT(i),p}),m=await pa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function ST(i,e,n){return gn(i.app)?Promise.reject(_r(i)):xC(bt(i),ko.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&TT(i),s})}async function RC(i,e){return xr(i,"POST","/v1/accounts:update",e)}async function CC(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=bt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await xo(s,RC(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function IC(i,e,n,s){return bt(i).onIdTokenChanged(e,n,s)}function NC(i,e,n){return bt(i).beforeAuthStateChanged(e,n)}function DC(i,e,n,s){return bt(i).onAuthStateChanged(e,n,s)}function AT(i){return bt(i).signOut()}const Qh="__sak";class xT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const OC=1e3,MC=10;class RT extends xT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);W2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},OC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RT.type="LOCAL";const VC=RT;class CT extends xT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CT.type="SESSION";const IT=CT;function kC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new gf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await kC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];function ag(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class PC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=ag("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function ji(){return window}function LC(i){ji().location.href=i}function NT(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function UC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jC(){return navigator?.serviceWorker?.controller||null}function zC(){return NT()?self:null}const DT="firebaseLocalStorageDb",BC=1,Kh="firebaseLocalStorage",OT="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yf(i,e){return i.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function qC(){const i=indexedDB.deleteDatabase(DT);return new Du(i).toPromise()}function Tp(){const i=indexedDB.open(DT,BC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Kh,{keyPath:OT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Kh)?e(s):(s.close(),await qC(),e(await Tp()))})})}async function tE(i,e,n){const s=yf(i,!0).put({[OT]:e,value:n});return new Du(s).toPromise()}async function FC(i,e){const n=yf(i,!1).get(e),s=await new Du(n).toPromise();return s===void 0?null:s.value}function nE(i,e){const n=yf(i,!0).delete(e);return new Du(n).toPromise()}const HC=800,GC=3;class MT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>GC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(zC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UC(),!this.activeServiceWorker)return;this.sender=new PC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await tE(e,Qh,"1"),await nE(e,Qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>tE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>FC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yf(o,!1).getAll();return new Du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MT.type="LOCAL";const QC=MT;new Cu(3e4,6e4);function VT(i,e){return e?gr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class og extends ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KC(i){return bT(i.auth,new og(i),i.bypassAuthState)}function YC(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),AC(n,new og(i),i.bypassAuthState)}async function $C(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),SC(n,new og(i),i.bypassAuthState)}class kT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KC;case"linkViaPopup":case"linkViaRedirect":return $C;case"reauthViaPopup":case"reauthViaRedirect":return YC;default:$n(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XC=new Cu(2e3,1e4);async function iE(i,e,n){if(gn(i.app))return Promise.reject(ci(i,"operation-not-supported-in-this-environment"));const s=Rs(i);D2(i,e,sg);const o=VT(s,n);return new la(s,"signInViaPopup",e,o).executeNotNull()}class la extends kT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XC.get())};e()}}la.currentPopupAction=null;const WC="pendingRedirect",Nh=new Map;class JC extends kT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Nh.get(this.auth._key());if(!e){try{const s=await ZC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Nh.set(this.auth._key(),e)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZC(i,e){const n=nI(e),s=tI(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function eI(i,e){Nh.set(i._key(),e)}function tI(i){return gr(i._redirectPersistence)}function nI(i){return Ih(WC,i.config.apiKey,i.name)}async function iI(i,e,n=!1){if(gn(i.app))return Promise.reject(_r(i));const s=Rs(i),o=VT(s,e),h=await new JC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const rI=600*1e3;class sI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!PT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ci(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rI&&this.cachedEventUids.clear(),this.cachedEventUids.has(rE(e))}saveEventToCache(e){this.cachedEventUids.add(rE(e)),this.lastProcessedEventTime=Date.now()}}function rE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function PT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function aI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PT(i);default:return!1}}async function oI(i,e={}){return xr(i,"GET","/v1/projects",e)}const lI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uI=/^https?/;async function cI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await oI(i);for(const n of e)try{if(hI(n))return}catch{}$n(i,"unauthorized-domain")}function hI(i){const e=vp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!uI.test(n))return!1;if(lI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const fI=new Cu(3e4,6e4);function sE(){const i=ji().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function dI(i){return new Promise((e,n)=>{function s(){sE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sE(),n(ci(i,"network-request-failed"))},timeout:fI.get()})}if(ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ji().gapi?.load)s();else{const o=aC("iframefcb");return ji()[o]=()=>{gapi.load?s():n(ci(i,"network-request-failed"))},yT(`${sC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function mI(i){return Dh=Dh||dI(i),Dh}const pI=new Cu(5e3,15e3),gI="__/auth/iframe",yI="emulator/auth/iframe",_I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EI(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?eg(e,yI):`https://${i.config.authDomain}/${gI}`,s={apiKey:e.apiKey,appName:i.name,v:Ta},o=vI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ru(s).slice(1)}`}async function bI(i){const e=await mI(i),n=ji().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:EI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_I,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ci(i,"network-request-failed"),m=ji().setTimeout(()=>{u(h)},pI.get());function p(){ji().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const TI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wI=500,SI=600,AI="_blank",xI="http://localhost";class aE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RI(i,e,n,s=wI,o=SI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...TI,width:s.toString(),height:o.toString(),top:u,left:h},g=rn().toLowerCase();n&&(m=cT(g)?AI:n),lT(g)&&(e=e||xI,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[P,j])=>`${A}${P}=${j},`,"");if(X2(g)&&m!=="_self")return CI(e||"",m),new aE(null);const T=window.open(e||"",m,E);Ee(T,i,"popup-blocked");try{T.focus()}catch{}return new aE(T)}function CI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const II="__/auth/handler",NI="emulator/auth/handler",DI=encodeURIComponent("fac");async function oE(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ta,eventId:o};if(e instanceof sg){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",yR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Nu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${DI}=${encodeURIComponent(p)}`:"";return`${OI(i)}?${Ru(m).slice(1)}${g}`}function OI({config:i}){return i.emulator?eg(i,NI):`https://${i.authDomain}/${II}`}const Xm="webStorageSupport";class MI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IT,this._completeRedirectFn=iI,this._overrideRedirectResult=eI}async _openPopup(e,n,s,o){Tr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await oE(e,n,s,vp(),o);return RI(e,u,ag())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await oE(e,n,s,vp(),o);return LC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Tr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await bI(e),s=new sI(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xm,{type:Xm},o=>{const u=o?.[0]?.[Xm];u!==void 0&&n(!!u),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pT()||uT()||ng()}}const VI=MI;var lE="@firebase/auth",uE="1.12.0";class kI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LI(i){da(new _s("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gT(i)},g=new nC(s,o,u,p);return fC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),da(new _s("auth-internal",e=>{const n=Rs(e.getProvider("auth").getImmediate());return(s=>new kI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(lE,uE,PI(i)),Ui(lE,uE,"esm2020")}const UI=300,jI=Yb("authIdTokenMaxAge")||UI;let cE=null;const zI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>jI)return;const o=n?.token;cE!==o&&(cE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function BI(i=Wp()){const e=mf(i,"auth");if(e.isInitialized())return e.getImmediate();const n=hC(i,{popupRedirectResolver:VI,persistence:[QC,VC,IT]}),s=Yb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=zI(u.toString());NC(n,h,()=>h(n.currentUser)),IC(n,m=>h(m))}}const o=Gb("auth");return o&&dC(n,`http://${o}`),n}function qI(){return document.getElementsByTagName("head")?.[0]??document}iC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",qI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LI("Browser");var hE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gs,LT;(function(){var i;function e(N,x){function C(){}C.prototype=x.prototype,N.F=x.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(R,D,k){for(var I=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)I[Ve-2]=arguments[Ve];return x.prototype[D].apply(R,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,x,C){C||(C=0);const R=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)R[D]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(D=0;D<16;++D)R[D]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=N.g[0],C=N.g[1],D=N.g[2];let k=N.g[3],I;I=x+(k^C&(D^k))+R[0]+3614090360&4294967295,x=C+(I<<7&4294967295|I>>>25),I=k+(D^x&(C^D))+R[1]+3905402710&4294967295,k=x+(I<<12&4294967295|I>>>20),I=D+(C^k&(x^C))+R[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(x^D&(k^x))+R[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(k^C&(D^k))+R[4]+4118548399&4294967295,x=C+(I<<7&4294967295|I>>>25),I=k+(D^x&(C^D))+R[5]+1200080426&4294967295,k=x+(I<<12&4294967295|I>>>20),I=D+(C^k&(x^C))+R[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(x^D&(k^x))+R[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(k^C&(D^k))+R[8]+1770035416&4294967295,x=C+(I<<7&4294967295|I>>>25),I=k+(D^x&(C^D))+R[9]+2336552879&4294967295,k=x+(I<<12&4294967295|I>>>20),I=D+(C^k&(x^C))+R[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(x^D&(k^x))+R[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(k^C&(D^k))+R[12]+1804603682&4294967295,x=C+(I<<7&4294967295|I>>>25),I=k+(D^x&(C^D))+R[13]+4254626195&4294967295,k=x+(I<<12&4294967295|I>>>20),I=D+(C^k&(x^C))+R[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(x^D&(k^x))+R[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(D^k&(C^D))+R[1]+4129170786&4294967295,x=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(x^C))+R[6]+3225465664&4294967295,k=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(k^x))+R[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^x&(D^k))+R[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(D^k&(C^D))+R[5]+3593408605&4294967295,x=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(x^C))+R[10]+38016083&4294967295,k=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(k^x))+R[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^x&(D^k))+R[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(D^k&(C^D))+R[9]+568446438&4294967295,x=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(x^C))+R[14]+3275163606&4294967295,k=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(k^x))+R[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^x&(D^k))+R[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(D^k&(C^D))+R[13]+2850285829&4294967295,x=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(x^C))+R[2]+4243563512&4294967295,k=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(k^x))+R[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^x&(D^k))+R[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(C^D^k)+R[5]+4294588738&4294967295,x=C+(I<<4&4294967295|I>>>28),I=k+(x^C^D)+R[8]+2272392833&4294967295,k=x+(I<<11&4294967295|I>>>21),I=D+(k^x^C)+R[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^x)+R[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(C^D^k)+R[1]+2763975236&4294967295,x=C+(I<<4&4294967295|I>>>28),I=k+(x^C^D)+R[4]+1272893353&4294967295,k=x+(I<<11&4294967295|I>>>21),I=D+(k^x^C)+R[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^x)+R[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(C^D^k)+R[13]+681279174&4294967295,x=C+(I<<4&4294967295|I>>>28),I=k+(x^C^D)+R[0]+3936430074&4294967295,k=x+(I<<11&4294967295|I>>>21),I=D+(k^x^C)+R[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^x)+R[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(C^D^k)+R[9]+3654602809&4294967295,x=C+(I<<4&4294967295|I>>>28),I=k+(x^C^D)+R[12]+3873151461&4294967295,k=x+(I<<11&4294967295|I>>>21),I=D+(k^x^C)+R[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^x)+R[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(D^(C|~k))+R[0]+4096336452&4294967295,x=C+(I<<6&4294967295|I>>>26),I=k+(C^(x|~D))+R[7]+1126891415&4294967295,k=x+(I<<10&4294967295|I>>>22),I=D+(x^(k|~C))+R[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~x))+R[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=x+(D^(C|~k))+R[12]+1700485571&4294967295,x=C+(I<<6&4294967295|I>>>26),I=k+(C^(x|~D))+R[3]+2399980690&4294967295,k=x+(I<<10&4294967295|I>>>22),I=D+(x^(k|~C))+R[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~x))+R[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=x+(D^(C|~k))+R[8]+1873313359&4294967295,x=C+(I<<6&4294967295|I>>>26),I=k+(C^(x|~D))+R[15]+4264355552&4294967295,k=x+(I<<10&4294967295|I>>>22),I=D+(x^(k|~C))+R[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~x))+R[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=x+(D^(C|~k))+R[4]+4149444226&4294967295,x=C+(I<<6&4294967295|I>>>26),I=k+(C^(x|~D))+R[11]+3174756917&4294967295,k=x+(I<<10&4294967295|I>>>22),I=D+(x^(k|~C))+R[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~x))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}s.prototype.v=function(N,x){x===void 0&&(x=N.length);const C=x-this.blockSize,R=this.C;let D=this.h,k=0;for(;k<x;){if(D==0)for(;k<=C;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<x;)if(R[D++]=N.charCodeAt(k++),D==this.blockSize){o(this,R),D=0;break}}else for(;k<x;)if(R[D++]=N[k++],D==this.blockSize){o(this,R),D=0;break}}this.h=D,this.o+=x},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,C=0;C<4;++C)for(let R=0;R<32;R+=8)N[x++]=this.g[C]>>>R&255;return N};function u(N,x){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=x(N)}function h(N,x){this.h=x;const C=[];let R=!0;for(let D=N.length-1;D>=0;D--){const k=N[D]|0;R&&k==x||(C[D]=k,R=!1)}this.g=C}var m={};function p(N){return-128<=N&&N<128?u(N,function(x){return new h([x|0],x<0?-1:0)}):new h([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return z(g(-N));const x=[];let C=1;for(let R=0;N>=C;R++)x[R]=N/C|0,C*=4294967296;return new h(x,0)}function E(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return z(E(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(x,8));let R=T;for(let k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k);const I=parseInt(N.substring(k,k+D),x);D<8?(D=g(Math.pow(x,D)),R=R.j(D).add(g(I))):(R=R.j(C),R=R.add(g(I)))}return R}var T=p(0),A=p(1),P=p(16777216);i=h.prototype,i.m=function(){if(G(this))return-z(this).m();let N=0,x=1;for(let C=0;C<this.g.length;C++){const R=this.i(C);N+=(R>=0?R:4294967296+R)*x,x*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(G(this))return"-"+z(this).toString(N);const x=g(Math.pow(N,6));var C=this;let R="";for(;;){const D=ae(C,x).g;C=ie(C,D.j(x));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,j(C))return k+R;for(;k.length<6;)k="0"+k;R=k+R}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function G(N){return N.h==-1}i.l=function(N){return N=ie(this,N),G(N)?-1:j(N)?0:1};function z(N){const x=N.g.length,C=[];for(let R=0;R<x;R++)C[R]=~N.g[R];return new h(C,~N.h).add(A)}i.abs=function(){return G(this)?z(this):this},i.add=function(N){const x=Math.max(this.g.length,N.g.length),C=[];let R=0;for(let D=0;D<=x;D++){let k=R+(this.i(D)&65535)+(N.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);R=I>>>16,k&=65535,I&=65535,C[D]=I<<16|k}return new h(C,C[C.length-1]&-2147483648?-1:0)};function ie(N,x){return N.add(z(x))}i.j=function(N){if(j(this)||j(N))return T;if(G(this))return G(N)?z(this).j(z(N)):z(z(this).j(N));if(G(N))return z(this.j(z(N)));if(this.l(P)<0&&N.l(P)<0)return g(this.m()*N.m());const x=this.g.length+N.g.length,C=[];for(var R=0;R<2*x;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(let D=0;D<N.g.length;D++){const k=this.i(R)>>>16,I=this.i(R)&65535,Ve=N.i(D)>>>16,Ce=N.i(D)&65535;C[2*R+2*D]+=I*Ce,ne(C,2*R+2*D),C[2*R+2*D+1]+=k*Ce,ne(C,2*R+2*D+1),C[2*R+2*D+1]+=I*Ve,ne(C,2*R+2*D+1),C[2*R+2*D+2]+=k*Ve,ne(C,2*R+2*D+2)}for(N=0;N<x;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=x;N<2*x;N++)C[N]=0;return new h(C,0)};function ne(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function J(N,x){this.g=N,this.h=x}function ae(N,x){if(j(x))throw Error("division by zero");if(j(N))return new J(T,T);if(G(N))return x=ae(z(N),x),new J(z(x.g),z(x.h));if(G(x))return x=ae(N,z(x)),new J(z(x.g),x.h);if(N.g.length>30){if(G(N)||G(x))throw Error("slowDivide_ only works with positive integers.");for(var C=A,R=x;R.l(N)<=0;)C=ge(C),R=ge(R);var D=ve(C,1),k=ve(R,1);for(R=ve(R,2),C=ve(C,2);!j(R);){var I=k.add(R);I.l(N)<=0&&(D=D.add(C),k=I),R=ve(R,1),C=ve(C,1)}return x=ie(N,D.j(x)),new J(D,x)}for(D=T;N.l(x)>=0;){for(C=Math.max(1,Math.floor(N.m()/x.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),k=g(C),I=k.j(x);G(I)||I.l(N)>0;)C-=R,k=g(C),I=k.j(x);j(k)&&(k=A),D=D.add(k),N=ie(N,I)}return new J(D,N)}i.B=function(N){return ae(this,N).h},i.and=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let R=0;R<x;R++)C[R]=this.i(R)&N.i(R);return new h(C,this.h&N.h)},i.or=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let R=0;R<x;R++)C[R]=this.i(R)|N.i(R);return new h(C,this.h|N.h)},i.xor=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let R=0;R<x;R++)C[R]=this.i(R)^N.i(R);return new h(C,this.h^N.h)};function ge(N){const x=N.g.length+1,C=[];for(let R=0;R<x;R++)C[R]=N.i(R)<<1|N.i(R-1)>>>31;return new h(C,N.h)}function ve(N,x){const C=x>>5;x%=32;const R=N.g.length-C,D=[];for(let k=0;k<R;k++)D[k]=x>0?N.i(k+C)>>>x|N.i(k+C+1)<<32-x:N.i(k+C);return new h(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,LT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,gs=h}).apply(typeof hE<"u"?hE:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var UT,eu,jT,Oh,wp,zT,BT,qT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break e;v=v[B]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,B,K){for(var se=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)se[xe-2]=arguments[xe];return y.prototype[B].apply(S,se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function j(c,y){for(let S=1;S<arguments.length;S++){const B=arguments[S];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=c.length||0;const K=B.length||0;c.length=v+K;for(let se=0;se<K;se++)c[v+se]=B[se]}else c.push(B)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(c){h.setTimeout(()=>{throw c},0)}function ie(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,v){const S=J.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var J=new G(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,ve=!1,N=new ne,x=()=>{const c=Promise.resolve(void 0);ge=()=>{c.then(C)}};function C(){for(var c;c=ie();){try{c.h.call(c.g)}catch(v){z(v)}var y=J;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ve=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Ve(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Ve,D),Ve.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ve.Z.h.call(this)},Ve.prototype.h=function(){Ve.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),Q=0;function re(c,y,v,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=B,this.key=++Q,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function De(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function ye(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function M(c){const y={};for(const v in c)y[v]=c[v];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let K=0;K<Z.length;K++)v=Z[K],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,v,S,B){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const se=Ie(c,y,S,B);return se>-1?(y=c[se],v||(y.fa=!1)):(y=new re(y,this.src,K,!!S,B),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,y,void 0),K;(K=B>=0)&&Array.prototype.splice.call(S,B,1),K&&(de(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ie(c,y,v,S){for(let B=0;B<c.length;++B){const K=c[B];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==S)return B}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Vt={};function lt(c,y,v,S,B){if(Array.isArray(y)){for(let K=0;K<y.length;K++)lt(c,y[K],v,S,B);return null}return v=Ho(v),c&&c[Ce]?c.J(y,v,m(S)?!!S.capture:!1,B):Ns(c,y,v,!1,S,B)}function Ns(c,y,v,S,B,K){if(!y)throw Error("Invalid event type");const se=m(B)?!!B.capture:!!B;let xe=Ds(c);if(xe||(c[Be]=xe=new ce(c)),v=xe.add(y,v,S,se,K),v.proxy)return v;if(S=Aa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)k||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(mi(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Aa(){function c(v){return y.call(c.src,c.listener,v)}const y=qo;return c}function xa(c,y,v,S,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)xa(c,y[K],v,S,B);else S=m(S)?!!S.capture:!!S,v=Ho(v),c&&c[Ce]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],v=Ie(y,v,S,B),v>-1&&(de(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Ds(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ie(y,v,S,B)),(v=c>-1?y[c]:null)&&Ra(v))}function Ra(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ce])Te(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(mi(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Ds(y))?(Te(v,c),v.h==0&&(v.src=null,y[Be]=null)):de(c)}}}function mi(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function qo(c,y){if(c.da)c=!0;else{y=new Ve(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&Ra(c),c=v.call(S,y)}return c}function Ds(c){return c=c[Be],c instanceof ce?c:null}var Fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ho(c){return typeof c=="function"?c:(c[Fo]||(c[Fo]=function(y){return c.handleEvent(y)}),c[Fo])}function Tt(){R.call(this),this.i=new ce(this),this.M=this,this.G=null}T(Tt,R),Tt.prototype[Ce]=!0,Tt.prototype.removeEventListener=function(c,y,v,S){xa(this,c,y,v,S)};function kt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var B=y;y=new D(S,c),oe(y,B)}B=!0;let K,se;if(v)for(se=v.length-1;se>=0;se--)K=y.g=v[se],B=Cr(K,S,!0,y)&&B;if(K=y.g=c,B=Cr(K,S,!0,y)&&B,B=Cr(K,S,!1,y)&&B,v)for(se=0;se<v.length;se++)K=y.g=v[se],B=Cr(K,S,!1,y)&&B}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)de(v[S]);delete c.g[y],c.h--}}this.G=null},Tt.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},Tt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function Cr(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==v){const xe=se.listener,yt=se.ha||se.src;se.fa&&Te(c.i,se),B=xe.call(yt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Lf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function ju(c){c.g=Lf(()=>{c.g=null,c.i&&(c.i=!1,ju(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sn extends R{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ju(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(c){R.call(this),this.h=c,this.g={}}T(Os,R);var Go=[];function Qo(c){De(c.g,function(y,v){this.g.hasOwnProperty(v)&&Ra(y)},c),c.g={}}Os.prototype.N=function(){Os.Z.N.call(this),Qo(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ir=h.JSON.stringify,Uf=h.JSON.parse,zu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Bu(){}function qu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){D.call(this,"d")}T(Ht,D);function Dn(){D.call(this,"c")}T(Dn,D);var gt={},Fu=null;function Ca(){return Fu=Fu||new Tt}gt.Ia="serverreachability";function Hu(c){D.call(this,gt.Ia,c)}T(Hu,D);function pi(c){const y=Ca();kt(y,new Hu(y))}gt.STAT_EVENT="statevent";function Ms(c,y){D.call(this,gt.STAT_EVENT,c),this.stat=y}T(Ms,D);function wt(c){const y=Ca();kt(y,new Ms(y,c))}gt.Ja="timingevent";function gi(c,y){D.call(this,gt.Ja,c),this.size=y}T(gi,D);function yi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function jf(c,y,v,S,B,K){c.info(function(){if(c.g)if(K){var se="",xe=K.split("&");for(let Ge=0;Ge<xe.length;Ge++){var yt=xe[Ge].split("=");if(yt.length>1){const ut=yt[0];yt=yt[1];const kn=ut.split("_");se=kn.length>=2&&kn[1]=="type"?se+(ut+"="+yt+"&"):se+(ut+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+v+`
`+se})}function Gu(c,y,v,S,B,K,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+v+`
`+K+" "+se})}function _i(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+zf(c,v)+(S?" "+S:"")})}function Vs(c,y){c.info(function(){return"TIMEOUT: "+y})}Wn.prototype.info=function(){};function zf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return Ir(K)}catch{return y}}var ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yo;function Ps(){}T(Ps,Bu),Ps.prototype.g=function(){return new XMLHttpRequest},Yo=new Ps;function Yi(c){return encodeURIComponent(String(c))}function Qu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Jn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new Os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var St={},Ut={};function vi(c,y,v){c.M=1,c.A=Ls(xt(y)),c.u=v,c.R=!0,Ia(c,null)}function Ia(c,y){c.F=Date.now(),Ei(c),c.B=xt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ma(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Zn,c.g=oc(c.j,v?y:null,!c.u),c.P>0&&(c.O=new sn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Go[0]=B.toString()),B=Go);for(let K=0;K<B.length;K++){const se=lt(v,B[K],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),pi(),jf(c.i,c.v,c.B,c.l,c.S,c.u)}Jn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ni(c)==3?y.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=ni(this.g),yt=this.g.ya(),Ge=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||xe!=4||yt==7||(yt==8||Ge<=0?pi(3):pi(2)),bi(this);var y=this.g.ca();this.X=y;var v=Bf(this);if(this.o=y==200,Gu(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var K=S;break t}}K=null}if(c=K)_i(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,c);else{this.o=!1,this.m=3,wt(12),vn(this),On(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=Yu(this,v),ut==Ut){xe==4&&(this.m=4,wt(14),c=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==St){this.m=4,wt(15),_i(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else _i(this.i,this.l,ut,null),Ti(this,ut);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)_i(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ul(se),se.P=!0,wt(11))}}else _i(this.i,this.l,v,null),Ti(this,v);xe==4&&vn(this),this.o&&!this.K&&(xe==4?ic(this.j,this):(this.o=!1,Ei(this)))}else Xi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),vn(this),On(this)}}}catch{}};function Bf(c){if(!Ku(c))return c.g.la();const y=Gt(c.g);if(y==="")return"";let v="";const S=y.length,B=ni(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),On(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,v+=c.h.i.decode(y[K],{stream:!(B&&K==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Ku(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Yu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Ut:(v=Number(y.substring(v,S)),isNaN(v)?St:(S+=1,S+v>y.length?Ut:(y=y.slice(S,S+v),c.C=S+v,y)))}Jn.prototype.cancel=function(){this.K=!0,vn(this)};function Ei(c){c.T=Date.now()+c.H,Na(c,c.H)}function Na(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=yi(g(c.aa,c),y)}function bi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Vs(this.i,this.B),this.M!=2&&(pi(),wt(17)),vn(this),this.m=2,On(this)):Na(this,this.T-c)};function On(c){c.j.I==0||c.K||ic(c.j,c)}function vn(c){bi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Qo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ti(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Si(v.h,c))){if(!c.L&&Si(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ua(v),Lr(v);else break e;Hs(v),wt(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(g(v.Va,v),6e3));wi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((c.L||v.g==c)&&Ua(v),!I(y))for(B=v.Ba.g.parse(y),y=0;y<B.length;y++){let Ge=B[y];const ut=Ge[0];if(!(ut<=v.K))if(v.K=ut,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const kn=Ge[3];kn!=null&&(v.ka=kn,v.j.info("VER="+v.ka));const Di=Ge[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ii=Ge[5];ii!=null&&typeof ii=="number"&&ii>0&&(S=1.5*ii,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ri=c.g;if(ri){const Gs=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var K=S.h;K.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Wo(K,K.h),K.h=null))}if(S.G){const ja=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(S.wa=ja,Ye(S.J,S.G,ja))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=c;if(S.na=ac(S,S.L?S.ba:null,S.W),se.L){Jo(S.h,se);var xe=se,yt=S.O;yt&&(xe.H=yt),xe.D&&(bi(xe),Ei(xe)),S.g=se}else tc(S);v.i.length>0&&Ii(v)}else Ge[0]!="stop"&&Ge[0]!="close"||Ni(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ni(v,7):ol(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}pi(4)}catch{}}var At=class{constructor(c,y){this.g=c,this.map=y}};function $o(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wi(c){return c.h?1:c.g?c.g.size:0}function Si(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Wo(c,y){c.g?c.g.add(y):c.h=y}function Jo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}$o.prototype.cancel=function(){if(this.i=Zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return P(c.i)}var $u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let B,K=null;S>=0?(B=c[v].substring(0,S),K=c[v].substring(S+1)):B=c[v],y(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function En(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof En?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,Nr(this,c.u),this.h=c.h,el(this,Zu(c.i)),this.m=c.m):c&&(y=String(c).match($u))?(this.l=!1,jt(this,y[1]||"",!0),this.o=Ai(y[2]||""),this.g=Ai(y[3]||"",!0),Nr(this,y[4]),this.h=Ai(y[5]||"",!0),el(this,y[6]||"",!0),this.m=Ai(y[7]||"")):(this.l=!1,this.i=new Or(null,this.l))}En.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Us(y,Oa,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Us(y,Oa,!0),"@"),c.push(Yi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Us(v,v.charAt(0)=="/"?tl:Xu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Us(v,Wu)),c.join("")},En.prototype.resolve=function(c){const y=xt(this);let v=!!c.j;v?jt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)Nr(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=y.h.lastIndexOf("/");B!=-1&&(S=y.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let se=0;se<B.length;){const xe=B[se++];xe=="."?S&&se==B.length&&K.push(""):xe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&se==B.length&&K.push("")):(K.push(xe),S=!0)}S=K.join("/")}else S=B}return v?y.h=S:v=c.i.toString()!=="",v?el(y,Zu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function xt(c){return new En(c)}function jt(c,y,v){c.j=v?Ai(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Nr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function el(c,y,v){y instanceof Or?(c.i=y,Va(c.i,c.l)):(v||(y=Us(y,Dr)),c.i=new Or(y,c.l))}function Ye(c,y,v){c.i.set(y,v)}function Ls(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ai(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Us(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,ln),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oa=/[#\/\?@]/g,Xu=/[#\?:]/g,tl=/[#\?]/g,Dr=/[#\?@]/g,Wu=/#/g;function Or(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&Da(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Or.prototype,i.add=function(c,y){un(this),this.i=null,c=Mr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ju(c,y){un(c),y=Mr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function nl(c,y){return un(c),y=Mr(c,y),c.g.has(y)}i.forEach=function(c,y){un(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(y,B,S,this)},this)},this)};function il(c,y){un(c);let v=[];if(typeof y=="string")nl(c,y)&&(v=v.concat(c.g.get(Mr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return un(this),this.i=null,c=Mr(this,c),nl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=il(this,c),c.length>0?String(c[0]):y):y};function Ma(c,y,v){Ju(c,y),v.length>0&&(c.i=null,c.g.set(Mr(c,y),P(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const B=Yi(v);v=il(this,v);for(let K=0;K<v.length;K++){let se=B;v[K]!==""&&(se+="="+Yi(v[K])),c.push(se)}}return this.i=c.join("&")};function Zu(c){const y=new Or;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Mr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Va(c,y){y&&!c.j&&(un(c),c.i=null,c.g.forEach(function(v,S){const B=S.toLowerCase();S!=B&&(Ju(this,S),Ma(this,B,v))},c)),c.j=y}function ei(c,y){const v=new Wn;if(h.Image){const S=new Image;S.onload=E(Mn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Mn,v,"TestLoadImage: error",!1,y,S),S.onabort=E(Mn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Mn,v,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function rl(c,y){const v=new Wn,S=new AbortController,B=setTimeout(()=>{S.abort(),Mn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?Mn(v,"TestPingServer: ok",!0,y):Mn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Mn(v,"TestPingServer: error",!1,y)})}function Mn(c,y,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function Vr(){this.g=new zu}function xi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(xi,Bu),xi.prototype.g=function(){return new js(this.i,this.h)};function js(c,y){Tt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(js,Tt),i=js.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ti(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ka(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ka(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?kr(this):ti(this),this.readyState==3&&ka(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,kr(this))},i.Na=function(c){this.g&&(this.response=c,kr(this))},i.ga=function(){this.g&&kr(this)};function kr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ti(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vn(c){let y="";return De(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function zs(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Vn(v),typeof c=="string"?v!=null&&Yi(v):Ye(c,y,v))}function Ze(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,Tt);var Ri=/^https?$/i,sl=["POST","PUT"];i=Ze.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Bs(this,K);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())v.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(sl,y,void 0)>=0)||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of v)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Bs(this,K)}};function Bs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,al(c),$i(c)}function al(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),$i(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Ze.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},i.Xa=function(){qs(this)};function qs(c){if(c.h&&typeof u<"u"){if(c.v&&ni(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),ni(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=K===0){let se=String(c.D).match($u)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),S=!Ri.test(se?se.toLowerCase():"")}v=S}if(v)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var B=ni(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",al(c)}}finally{$i(c)}}}}function $i(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||kt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ni(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Uf(y)}};function Gt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(c){const y={};c=(c.g&&ni(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=Qu(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[B]||[];y[B]=K,K.push(v)}ye(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Pr(c){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,c),this.Za=Ci("retryDelaySeedMs",1e4,c),this.Ta=Ci("forwardChannelMaxRetries",2,c),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(c&&c.concurrentRequestLimit),this.Ba=new Vr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Pr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,S){wt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=ac(this,null,this.W),Ii(this)};function ol(c){if(Pa(c),c.I==3){var y=c.V++,v=xt(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),Fs(c,v),y=new Jn(c,c.j,y),y.M=2,y.A=Ls(xt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=oc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ei(y)}sc(c)}function Lr(c){c.g&&(ul(c),c.g.cancel(),c.g=null)}function Pa(c){Lr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ua(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ii(c){if(!Xo(c.h)&&!c.m){c.m=!0;var y=c.Ea;ge||x(),ve||(ge(),ve=!0),N.add(y,c),c.D=0}}function La(c,y){return wi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=yi(g(c.Ea,c,y),rc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Jn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=M(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ec(this,B,y),v=xt(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Fs(this,v),K&&(this.R?y="headers="+Yi(Vn(K))+"&"+y:this.u&&zs(v,this.u,K)),Wo(this.h,B),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),B.U=!0,vi(B,v,null)):vi(B,v,y),this.I=2}}else this.I==3&&(c?ll(this,c):this.i.length==0||Xo(this.h)||ll(this))};function ll(c,y){var v;y?v=y.l:v=c.V++;const S=xt(c.J);Ye(S,"SID",c.M),Ye(S,"RID",v),Ye(S,"AID",c.K),Fs(c,S),c.u&&c.o&&zs(S,c.u,c.o),v=new Jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ec(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Wo(c.h,v),vi(v,S,y)}function Fs(c,y){c.H&&De(c.H,function(v,S){Ye(y,S,v)}),c.l&&De({},function(v,S){Ye(y,S,v)})}function ec(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let xe=-1;for(;;){const yt=["count="+v];xe==-1?v>0?(xe=B[0].g,yt.push("ofs="+xe)):xe=0:yt.push("ofs="+xe);let Ge=!0;for(let ut=0;ut<v;ut++){var K=B[ut].g;const kn=B[ut].map;if(K-=xe,K<0)xe=Math.max(0,B[ut].g-100),Ge=!1;else try{K="req"+K+"_"||"";try{var se=kn instanceof Map?kn:Object.entries(kn);for(const[Di,ii]of se){let ri=ii;m(ii)&&(ri=Ir(ii)),yt.push(K+Di+"="+encodeURIComponent(ri))}}catch(Di){throw yt.push(K+"type="+encodeURIComponent("_badmap")),Di}}catch{S&&S(kn)}}if(Ge){se=yt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),y.G=c,se}function tc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ge||x(),ve||(ge(),ve=!0),N.add(y,c),c.A=0}}function Hs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=yi(g(c.Da,c),rc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,nc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=yi(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Lr(this),nc(this))};function ul(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function nc(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=xt(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Fs(c,y),c.u&&c.o&&zs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ls(xt(y)),v.u=null,v.R=!0,Ia(v,c)}i.Va=function(){this.C!=null&&(this.C=null,Lr(this),Hs(this),wt(19))};function Ua(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function ic(c,y){var v=null;if(c.g==y){Ua(c),ul(c),c.g=null;var S=2}else if(Si(c.h,y))v=y.G,Jo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;S=Ca(),kt(S,new gi(S,v)),Ii(c)}else tc(c);else if(B=y.m,B==3||B==0&&y.X>0||!(S==1&&La(c,y)||S==2&&Hs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function rc(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ni(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const B=!S;S=new En(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||jt(S,"https"),Ls(S),B?ei(S.toString(),v):rl(S.toString(),v)}else wt(2);c.I=0,c.l&&c.l.pa(y),sc(c),Pa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function sc(c){if(c.I=0,c.ja=[],c.l){const y=Zo(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ja,y),j(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function ac(c,y,v){var S=v instanceof En?xt(v):new En(v);if(S.g!="")y&&(S.g=y+"."+S.g),Nr(S,S.u);else{var B=h.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const K=new En(null);S&&jt(K,S),y&&(K.g=y),B&&Nr(K,B),v&&(K.h=v),S=K}return v=c.G,y=c.wa,v&&y&&Ye(S,v,y),Ye(S,"VER",c.ka),Fs(c,S),S}function oc(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Ze(new xi({ab:v})):new Ze(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}i=lc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ur(){}Ur.prototype.g=function(c,y){return new an(c,y)};function an(c,y){Tt.call(this),this.g=new Pr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Wi(this)}T(an,Tt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){ol(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Ir(c),c=v);y.i.push(new At(y.Ya++,c)),y.I==3&&Ii(y)},an.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,an.Z.N.call(this)};function uc(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(uc,Ht);function cc(){Dn.call(this),this.status=1}T(cc,Dn);function Wi(c){this.g=c}T(Wi,lc),Wi.prototype.ra=function(){kt(this.g,"a")},Wi.prototype.qa=function(c){kt(this.g,new uc(c))},Wi.prototype.pa=function(c){kt(this.g,new cc)},Wi.prototype.oa=function(){kt(this.g,"b")},Ur.prototype.createWebChannel=Ur.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,qT=function(){return new Ur},BT=function(){return Ca()},zT=gt,wp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,Oh=ks,Ko.COMPLETE="complete",jT=Ko,qu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,eu=qu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,UT=Ze}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Po="12.9.0";function FI(i){Po=i}const ga=new $p("@firebase/firestore");function go(){return ga.logLevel}function ue(i,...e){if(ga.logLevel<=Le.DEBUG){const n=e.map(lg);ga.debug(`Firestore (${Po}): ${i}`,...n)}}function wr(i,...e){if(ga.logLevel<=Le.ERROR){const n=e.map(lg);ga.error(`Firestore (${Po}): ${i}`,...n)}}function ya(i,...e){if(ga.logLevel<=Le.WARN){const n=e.map(lg);ga.warn(`Firestore (${Po}): ${i}`,...n)}}function lg(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function be(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,FT(i,s,n)}function FT(i,e,n){let s=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw wr(s),new Error(s)}function Ke(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||FT(e,o,s)}function Ae(i,e){return i}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class HT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class GI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class QI{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new HT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class KI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class YI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new KI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $I{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=XI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function Sp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Wm(o)===Wm(u)?Ue(o,u):Wm(o)?1:-1}return Ue(i.length,e.length)}const WI=55296,JI=57343;function Wm(i){const e=i.charCodeAt(0);return e>=WI&&e<=JI}function Ro(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const dE="__name__";class Pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Pi.isNumericId(e),o=Pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):Sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gs.fromString(e.substring(4,e.length-2))}}class st extends Pi{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const ZI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Pi{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return ZI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dE}static keyField(){return new Wt([dE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(st.fromString(e))}static fromName(e){return new pe(st.fromString(e).popFirst(5))}static empty(){return new pe(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new st(e.slice()))}}function GT(i,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function eN(i,e,n,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function mE(i){if(!pe.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function pE(i){if(pe.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function QT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function _f(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be(12329,{type:typeof i})}function _n(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_f(i);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Mt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Ou(i,e){if(!QT(i))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}const gE=-62135596800,yE=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*yE);return new Je(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gE)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Mt("string",Je._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Je(0,0))}static max(){return new we(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mu=-1;function tN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Je(n+1,0):new Je(n,s));return new vs(o,pe.empty(),e)}function nN(i){return new vs(i.readTime,i.key,mu)}class vs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new vs(we.min(),pe.empty(),mu)}static max(){return new vs(we.max(),pe.empty(),mu)}}function iN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Ue(i.largestBatchId,e.largestBatchId))}const rN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lo(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==rN)throw i;ue("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function aN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(i){return i.name==="IndexedDbTransactionError"}class vf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vf.ce=-1;const cg=-1;function Ef(i){return i==null}function Yh(i){return i===0&&1/i==-1/0}function oN(i){return typeof i=="number"&&Number.isInteger(i)&&!Yh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const KT="";function lN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=_E(e)),e=uN(i.get(n),e);return _E(e)}function uN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case KT:n+="";break;default:n+=u}}return n}function _E(i){return i+KT+""}function vE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Cs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function YT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Xt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new EE(this.data.getIterator())}getIteratorFrom(e){return new EE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class EE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Lt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class $T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $T("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const cN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const n=cN.exec(i);if(Ke(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function bs(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}const XT="server_timestamp",WT="__type__",JT="__previous_value__",ZT="__local_write_time__";function hg(i){return(i?.mapValue?.fields||{})[WT]?.stringValue===XT}function bf(i){const e=i.mapValue.fields[JT];return hg(e)?bf(e):e}function pu(i){const e=Es(i.mapValue.fields[ZT].timestampValue);return new Je(e.seconds,e.nanos)}class hN{constructor(e,n,s,o,u,h,m,p,g,E,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=T}}const $h="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||$h}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}function fN(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(i.options.projectId,e)}const e1="__type__",dN="__max__",_h={mapValue:{}},t1="__vector__",Xh="value";function Ts(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?hg(i)?4:pN(i)?9007199254740991:mN(i)?10:11:be(28295,{value:i})}function Fi(i,e){if(i===e)return!0;const n=Ts(i);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return pu(i).isEqual(pu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Es(o.timestampValue),m=Es(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return bs(o.bytesValue).isEqual(bs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Et(o.doubleValue),m=Et(u.doubleValue);return h===m?Yh(h)===Yh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Ro(i.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(vE(h)!==vE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Fi(h[p],m[p])))return!1;return!0})(i,e);default:return be(52216,{left:i})}}function yu(i,e){return(i.values||[]).find((n=>Fi(n,e)))!==void 0}function Co(i,e){if(i===e)return 0;const n=Ts(i),s=Ts(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Et(u.integerValue||u.doubleValue),p=Et(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return bE(i.timestampValue,e.timestampValue);case 4:return bE(pu(i),pu(e));case 5:return Sp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=bs(u),p=bs(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ue(m[g],p[g]);if(E!==0)return E}return Ue(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ue(Et(u.latitude),Et(h.latitude));return m!==0?m:Ue(Et(u.longitude),Et(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return TE(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Xh]?.arrayValue,E=p[Xh]?.arrayValue,T=Ue(g?.values?.length||0,E?.values?.length||0);return T!==0?T:TE(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===_h.mapValue&&h===_h.mapValue)return 0;if(u===_h.mapValue)return 1;if(h===_h.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=Sp(p[T],E[T]);if(A!==0)return A;const P=Co(m[p[T]],g[E[T]]);if(P!==0)return P}return Ue(p.length,E.length)})(i.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function bE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const n=Es(i),s=Es(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function TE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Co(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function Io(i){return Ap(i)}function Ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Es(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return bs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return pe.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ap(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Ap(n.fields[h])}`;return o+"}"})(i.mapValue):be(61005,{value:i})}function Mh(i){switch(Ts(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bf(i);return e?16+Mh(e):16;case 5:return 2*i.stringValue.length;case 6:return bs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Mh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Cs(s.fields,((u,h)=>{o+=u.length+Mh(h)})),o})(i.mapValue);default:throw be(13486,{value:i})}}function wE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function xp(i){return!!i&&"integerValue"in i}function fg(i){return!!i&&"arrayValue"in i}function SE(i){return!!i&&"nullValue"in i}function AE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Vh(i){return!!i&&"mapValue"in i}function mN(i){return(i?.mapValue?.fields||{})[e1]?.stringValue===t1}function au(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Cs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=au(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(i.arrayValue.values[n]);return e}return{...i}}function pN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===dN}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=au(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Cs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new yn(au(this.value))}}function n1(i){const e=[];return Cs(i.fields,((n,s)=>{const o=new Wt([n]);if(Vh(s)){const u=n1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new In(e)}class nn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,we.min(),we.min(),we.min(),yn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,we.min(),we.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,we.min(),we.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wh{constructor(e,n){this.position=e,this.inclusive=n}}function xE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),n.key):s=Co(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function RE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Fi(i.position[n],e.position[n]))return!1;return!0}class _u{constructor(e,n="asc"){this.field=e,this.dir=n}}function gN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class i1{}class Ot extends i1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new _N(e,n,s):n==="array-contains"?new bN(e,s):n==="in"?new TN(e,s):n==="not-in"?new wN(e,s):n==="array-contains-any"?new SN(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new vN(e,s):new EN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends i1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fi(e,n)}matches(e){return r1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r1(i){return i.op==="and"}function s1(i){return yN(i)&&r1(i)}function yN(i){for(const e of i.filters)if(e instanceof fi)return!1;return!0}function Rp(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+Io(i.value);if(s1(i))return i.filters.map((e=>Rp(e))).join(",");{const e=i.filters.map((n=>Rp(n))).join(",");return`${i.op}(${e})`}}function a1(i,e){return i instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Fi(s.value,o.value)})(i,e):i instanceof fi?(function(s,o){return o instanceof fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&a1(h,o.filters[m])),!0):!1})(i,e):void be(19439)}function o1(i){return i instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`})(i):i instanceof fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(o1).join(" ,")+"}"})(i):"Filter"}class _N extends Ot{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class vN extends Ot{constructor(e,n){super(e,"in",n),this.keys=l1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class EN extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=l1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function l1(i,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class bN extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fg(n)&&yu(n.arrayValue,this.value)}}class TN extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class wN extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class SN extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>yu(this.value.arrayValue,s)))}}class AN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function CE(i,e=null,n=[],s=[],o=null,u=null,h=null){return new AN(i,e,n,s,o,u,h)}function dg(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Rp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Io(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Io(s))).join(",")),e.Te=n}return e.Te}function mg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!gN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!a1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!RE(i.startAt,e.startAt)&&RE(i.endAt,e.endAt)}function Cp(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class jo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function xN(i,e,n,s,o,u,h,m){return new jo(i,e,n,s,o,u,h,m)}function Tf(i){return new jo(i)}function IE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function RN(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function u1(i){return i.collectionGroup!==null}function ou(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Lt(Wt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new _u(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new _u(Wt.keyField(),s))}return e.Ie}function zi(i){const e=Ae(i);return e.Ee||(e.Ee=CN(e,ou(i))),e.Ee}function CN(i,e){if(i.limitType==="F")return CE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new _u(o.field,u)}));const n=i.endAt?new Wh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Wh(i.startAt.position,i.startAt.inclusive):null;return CE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Ip(i,e){const n=i.filters.concat([e]);return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function IN(i,e){const n=i.explicitOrderBy.concat([e]);return new jo(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function Jh(i,e,n){return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function wf(i,e){return mg(zi(i),zi(e))&&i.limitType===e.limitType}function c1(i){return`${dg(zi(i))}|lt:${i.limitType}`}function yo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>o1(o))).join(", ")}]`),Ef(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Io(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Io(o))).join(",")),`Target(${s})`})(zi(i))}; limitType=${i.limitType})`}function Sf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of ou(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=xE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,ou(s),o)||s.endAt&&!(function(h,m,p){const g=xE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,ou(s),o))})(i,e)}function NN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function h1(i){return(e,n)=>{let s=!1;for(const o of ou(i)){const u=DN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function DN(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Co(p,g):be(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:i.dir})}}class wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return YT(this.inner)}size(){return this.innerSize}}const ON=new ft(pe.comparator);function Sr(){return ON}const f1=new ft(pe.comparator);function tu(...i){let e=f1;for(const n of i)e=e.insert(n.key,n);return e}function d1(i){let e=f1;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ua(){return lu()}function m1(){return lu()}function lu(){return new wa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const MN=new ft(pe.comparator),VN=new Lt(pe.comparator);function je(...i){let e=VN;for(const n of i)e=e.add(n);return e}const kN=new Lt(Ue);function PN(){return kN}function pg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function p1(i){return{integerValue:""+i}}function g1(i,e){return oN(e)?p1(e):pg(i,e)}class Af{constructor(){this._=void 0}}function LN(i,e,n){return i instanceof vu?(function(o,u){const h={fields:{[WT]:{stringValue:XT},[ZT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hg(u)&&(u=bf(u)),u&&(h.fields[JT]=u),{mapValue:h}})(n,e):i instanceof Eu?_1(i,e):i instanceof bu?v1(i,e):(function(o,u){const h=y1(o,u),m=NE(h)+NE(o.Ae);return xp(h)&&xp(o.Ae)?p1(m):pg(o.serializer,m)})(i,e)}function UN(i,e,n){return i instanceof Eu?_1(i,e):i instanceof bu?v1(i,e):n}function y1(i,e){return i instanceof Tu?(function(s){return xp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class vu extends Af{}class Eu extends Af{constructor(e){super(),this.elements=e}}function _1(i,e){const n=E1(e);for(const s of i.elements)n.some((o=>Fi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class bu extends Af{constructor(e){super(),this.elements=e}}function v1(i,e){let n=E1(e);for(const s of i.elements)n=n.filter((o=>!Fi(o,s)));return{arrayValue:{values:n}}}class Tu extends Af{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function NE(i){return Et(i.integerValue||i.doubleValue)}function E1(i){return fg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class b1{constructor(e,n){this.field=e,this.transform=n}}function jN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Eu&&o instanceof Eu||s instanceof bu&&o instanceof bu?Ro(s.elements,o.elements,Fi):s instanceof Tu&&o instanceof Tu?Fi(s.Ae,o.Ae):s instanceof vu&&o instanceof vu})(i.transform,e.transform)}class zN{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class xf{}function T1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new gg(i.key,Kn.none()):new Mu(i.key,i.data,Kn.none());{const n=i.data,s=yn.empty();let o=new Lt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Is(i.key,s,new In(o.toArray()),Kn.none())}}function BN(i,e,n){i instanceof Mu?(function(o,u,h){const m=o.value.clone(),p=OE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Is?(function(o,u,h){if(!kh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=OE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(w1(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function uu(i,e,n,s){return i instanceof Mu?(function(u,h,m,p){if(!kh(u.precondition,h))return m;const g=u.value.clone(),E=ME(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Is?(function(u,h,m,p){if(!kh(u.precondition,h))return m;const g=ME(u.fieldTransforms,p,h),E=h.data;return E.setAll(w1(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,h,m){return kh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function qN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=y1(s.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(s.field,u))}return n||null}function DE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,((u,h)=>jN(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Mu extends xf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends xf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function w1(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function OE(i,e,n){const s=new Map;Ke(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,UN(h,m,n[o]))}return s}function ME(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,LN(u,h,e))}return s}class gg extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FN extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&BN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=m1();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=T1(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,((n,s)=>DE(n,s)))&&Ro(this.baseMutations,e.baseMutations,((n,s)=>DE(n,s)))}}class yg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return MN})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new yg(e,n,s,o)}}class GN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,qe;function KN(i){switch(i){case W.OK:return be(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return be(15467,{code:i})}}function S1(i){if(i===void 0)return wr("GRPC error has no .code"),W.UNKNOWN;switch(i){case Dt.OK:return W.OK;case Dt.CANCELLED:return W.CANCELLED;case Dt.UNKNOWN:return W.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return W.INTERNAL;case Dt.UNAVAILABLE:return W.UNAVAILABLE;case Dt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Dt.NOT_FOUND:return W.NOT_FOUND;case Dt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Dt.ABORTED:return W.ABORTED;case Dt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Dt.DATA_LOSS:return W.DATA_LOSS;default:return be(39323,{code:i})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function YN(){return new TextEncoder}const $N=new gs([4294967295,4294967295],0);function VE(i){const e=YN().encode(i),n=new LT;return n.update(e),new Uint8Array(n.digest())}function kE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new gs([n,s],0),new gs([o,u],0)]}class _g{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(gs.fromNumber(s)));return o.compare($N)===1&&(o=new gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VE(e),[s,o]=kE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new _g(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=VE(e),[s,o]=kE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Rf(we.min(),o,new ft(Ue),Sr(),je())}}class Vu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Vu(s,n,je(),je(),je())}}class Ph{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class A1{constructor(e,n){this.targetId=e,this.Ce=n}}class x1{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class PE{constructor(){this.ve=0,this.Fe=LE(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new Vu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=LE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class XN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sr(),this.He=vh(),this.Je=vh(),this.Ze=new ft(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Cp(u))if(s===0){const h=new pe(u.path);this.et(n,h,nn.newNoDocument(h,we.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=bs(s).toUint8Array()}catch(p){if(p instanceof $T)return ya("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new _g(h,o,u)}catch(p){return ya(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Cp(m.target)){const p=new pe(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,nn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=je();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Rf(e,n,this.Ze,this.je,s);return this.je=Sr(),this.He=vh(),this.Je=vh(),this.Ze=new ft(Ue),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new PE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function vh(){return new ft(pe.comparator)}function LE(){return new ft(pe.comparator)}const WN={asc:"ASCENDING",desc:"DESCENDING"},JN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZN={and:"AND",or:"OR"};class eD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Np(i,e){return i.useProto3Json||Ef(e)?e:{value:e}}function Zh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function tD(i,e){return Zh(i,e.toTimestamp())}function Bi(i){return Ke(!!i,49232),we.fromTimestamp((function(n){const s=Es(n);return new Je(s.seconds,s.nanos)})(i))}function vg(i,e){return Dp(i,e).canonicalString()}function Dp(i,e){const n=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function C1(i){const e=st.fromString(i);return Ke(M1(e),10190,{key:e.toString()}),e}function Op(i,e){return vg(i.databaseId,e.path)}function Jm(i,e){const n=C1(e);if(n.get(1)!==i.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(N1(n))}function I1(i,e){return vg(i.databaseId,e)}function nD(i){const e=C1(i);return e.length===4?st.emptyPath():N1(e)}function Mp(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function N1(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function UE(i,e,n){return{name:Op(i,e),fields:n.value.mapValue.fields}}function iD(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),Jt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Jt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?W.UNKNOWN:S1(g.code);return new le(E,g.message||"")})(h);n=new x1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jm(i,s.document.name),u=Bi(s.document.updateTime),h=s.document.createTime?Bi(s.document.createTime):we.min(),m=new yn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Ph(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Jm(i,s.document),u=s.readTime?Bi(s.readTime):we.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Ph([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Jm(i,s.document),u=s.removedTargetIds||[];n=new Ph([],u,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new QN(o,u),m=s.targetId;n=new A1(m,h)}}return n}function rD(i,e){let n;if(e instanceof Mu)n={update:UE(i,e.key,e.value)};else if(e instanceof gg)n={delete:Op(i,e.key)};else if(e instanceof Is)n={update:UE(i,e.key,e.data),updateMask:dD(e.fieldMask)};else{if(!(e instanceof FN))return be(16599,{dt:e.type});n={verify:Op(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof vu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Eu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof bu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Tu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:tD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(i,e.precondition)),n}function sD(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Bi(o.updateTime):Bi(u);return h.isEqual(we.min())&&(h=Bi(u)),new zN(h,o.transformResults||[])})(n,e)))):[]}function aD(i,e){return{documents:[I1(i,e.path)]}}function oD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=I1(i,o);const u=(function(g){if(g.length!==0)return O1(fi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:_o(A.field),direction:cD(A.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Np(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function lD(i){let e=nD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=D1(T);return A instanceof fi&&s1(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(j){return new _u(vo(j.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Ef(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,P=T.values||[];return new Wh(P,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,P=T.values||[];return new Wh(P,A)})(n.endAt)),xN(e,o,h,u,m,"F",p,g)}function uD(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D1(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=vo(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=vo(n.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ot.create(vo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return fi.create(n.compositeFilter.filters.map((s=>D1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(i):be(30097,{filter:i})}function cD(i){return WN[i]}function hD(i){return JN[i]}function fD(i){return ZN[i]}function _o(i){return{fieldPath:i.canonicalString()}}function vo(i){return Wt.fromServerFormat(i.fieldPath)}function O1(i){return i instanceof Ot?(function(n){if(n.op==="=="){if(AE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(SE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(SE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:hD(n.op),value:n.value}}})(i):i instanceof fi?(function(n){const s=n.getFilters().map((o=>O1(o)));return s.length===1?s[0]:{compositeFilter:{op:fD(n.op),filters:s}}})(i):be(54877,{filter:i})}function dD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function M1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function V1(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class fs{constructor(e,n,s,o,u=we.min(),h=we.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mD{constructor(e){this.yt=e}}function pD(i){const e=lD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Jh(e,e.limit,"L"):e}class gD{constructor(){this.Sn=new yD}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(vs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class yD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(st.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(st.comparator)).toArray()}}const jE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},k1=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(k1,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class No{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new No(0)}static ar(){return new No(-1)}}const zE="LruGarbageCollector",_D=1048576;function BE([i,e],[n,s]){const o=Ue(i,n);return o===0?Ue(e,s):o}class vD{constructor(e){this.Pr=e,this.buffer=new Lt(BE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();BE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ED{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(zE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?ue(zE,"Ignoring IndexedDB error during garbage collection: ",n):await Lo(n)}await this.Ar(3e5)}))}}class bD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(vf.ce);const s=new vD(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(jE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),go()<=Le.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function TD(i,e){return new bD(i,e)}class wD{constructor(){this.changes=new wa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class SD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class AD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&uu(s.mutation,o,In.empty(),Je.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=je()){const o=ua();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=tu();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ua();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,je())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Sr();const h=lu(),m=(function(){return lu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Is)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),uu(E.mutation,g,E.mutation.getFieldMask(),Je.now())):h.set(g.key,In.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new SD(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=lu();let o=new ft(((h,m)=>h-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||In.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=m1();E.forEach((A=>{if(!u.has(A)){const P=T1(n.get(A),s.get(A));P!==null&&T.set(A,P),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return RN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):u1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(ua());let m=mu,p=u;return h.next((g=>te.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,je()))).next((E=>({batchId:m,changes:d1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=tu();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const g=(function(T,A){return new jo(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,nn.newInvalidDocument(E)))}));let m=tu();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&uu(E.mutation,g,In.empty(),Je.now()),Sf(n,g)&&(m=m.insert(p,g))})),m}))}}class xD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:pD(o.bundledQuery),readTime:Bi(o.readTime)}})(n)),te.resolve()}}class RD{constructor(){this.overlays=new ft(pe.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ua();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=ua(),u=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ua(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ua(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return te.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new GN(n,s));let u=this.Lr.get(n);u===void 0&&(u=je(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class CD{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Eg{constructor(){this.kr=new Lt(Bt.Kr),this.qr=new Lt(Bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Bt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new pe(new st([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new pe(new st([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=je();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return pe.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||pe.comparator(e.key,n.key)}}class ID{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(Bt.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new HN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?cg:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(Ue);return n.forEach((o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new pe(u),0);let m=new Lt(Ue);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),te.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return te.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Jr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ND{constructor(e){this.ti=e,this.docs=(function(){return new ft(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=Sr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Sr();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||iN(nN(E),s)<=0||(o.has(E.key)||Sf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ni(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new DD(this)}getSize(e){return te.resolve(this.size)}}class DD extends wD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class OD{constructor(e){this.persistence=e,this.ri=new wa((n=>dg(n)),mg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new Eg,this.targetCount=0,this.oi=No._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new No(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}class P1{constructor(e,n){this._i={},this.overlays={},this.ai=new vf(0),this.ui=!1,this.ui=!0,this.ci=new CD,this.referenceDelegate=e(this),this.li=new OD(this),this.indexManager=new gD,this.remoteDocumentCache=(function(o){return new ND(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new mD(n),this.Pi=new xD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new ID(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new MD(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class MD extends sN{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Ri=new Eg,this.Ai=null}static Vi(e){return new bg(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(s=>{const o=pe.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ef{constructor(e,n){this.persistence=e,this.fi=new wa((s=>lN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=TD(this,n)}static Vi(e,n){return new ef(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mh(e.data.value)),n}wr(e,n,s){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tg(e,n.fromCache,s,o)}}class VD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return hR()?8:aN(rn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new VD;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(go()<=Le.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(go()<=Le.DEBUG&&ue("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(go()<=Le.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):te.resolve())}gs(e,n){if(IE(n))return te.resolve(null);let s=zi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Jh(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=je(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,h,p.readTime)?this.gs(e,Jh(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,o){return IE(n)||o.isEqual(we.min())?te.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?te.resolve(null):(go()<=Le.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(n)),this.Ds(e,h,n,tN(o,mu)).next((m=>m)))}))}bs(e,n){let s=new Lt(h1(e));return n.forEach(((o,u)=>{Sf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return go()<=Le.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",yo(n)),this.fs.getDocumentsMatchingQuery(e,n,vs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const wg="LocalStore",PD=3e8;class LD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(Ue),this.Fs=new wa((u=>dg(u)),mg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function UD(i,e,n,s){return new LD(i,e,n,s)}async function L1(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=je();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function jD(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let P=te.resolve();return A.forEach((j=>{P=P.next((()=>E.getEntry(p,j))).next((G=>{const z=g.docVersions.get(j);Ke(z!==null,48541),G.version.compareTo(z)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function U1(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function zD(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,T))));let P=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?P=P.withResumeToken(Jt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(T,P),(function(G,z,ie){return G.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=PD?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(A,P,E)&&m.push(n.li.updateTargetData(u,P))}));let p=Sr(),g=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(BD(u,h,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!s.isEqual(we.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function BD(i,e,n){let s=je(),o=je();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Sr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ue(wg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function qD(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=cg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function FD(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new fs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Vp(i,e,n){const s=Ae(i),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Uo(h))throw h;ue(wg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function qE(i,e,n){const s=Ae(i);let o=we.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Ae(p),A=T.Fs.get(E);return A!==void 0?te.resolve(T.vs.get(A)):T.li.getTargetData(g,E)})(s,h,zi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:je()))).next((m=>(HD(s,NN(e),m),{documents:m,ks:u})))))}function HD(i,e,n){let s=i.Ms.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(e,s)}class FE{constructor(){this.activeTargetIds=PN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GD{constructor(){this.vo=new FE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new FE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QD{Mo(e){}shutdown(){}}const HE="ConnectivityMonitor";class GE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(HE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(HE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Eh=null;function kp(){return Eh===null?Eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eh++,"0x"+Eh.toString(16)}const Zm="RestConnection",KD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class YD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===$h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=kp(),m=this.Qo(e,n.toUriEncodedString());ue(Zm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),E=ba(g);return this.zo(e,m,p,s,E).then((T=>(ue(Zm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw ya(Zm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=KD[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class $D{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",$l=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class So extends YD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!So.c_){const e=BT();$l(e,zT.STAT_EVENT,(n=>{n.stat===wp.PROXY?ue(en,"STAT_EVENT: detected buffering proxy"):n.stat===wp.NOPROXY&&ue(en,"STAT_EVENT: detected no buffering proxy")})),So.c_=!0}}zo(e,n,s,o,u){const h=kp();return new Promise(((m,p)=>{const g=new UT;g.setWithCredentials(!0),g.listenOnce(jT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Oh.NO_ERROR:const T=g.getResponseJson();ue(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Oh.TIMEOUT:ue(en,`RPC '${e}' ${h} timed out`),p(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const A=g.getStatus();if(ue(en,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const j=P?.error;if(j&&j.status&&j.message){const G=(function(ie){const ne=ie.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ne)>=0?ne:W.UNKNOWN})(j.status);p(new le(G,j.message))}else p(new le(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(W.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(en,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ue(en,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=kp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");ue(en,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=h.createWebChannel(g,m);this.I_(E);let T=!1,A=!1;const P=new $D({Ho:j=>{A?ue(en,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(T||(ue(en,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),ue(en,`RPC '${e}' stream ${o} sending:`,j),E.send(j))},Jo:()=>E.close()});return $l(E,eu.EventType.OPEN,(()=>{A||(ue(en,`RPC '${e}' stream ${o} transport opened.`),P.i_())})),$l(E,eu.EventType.CLOSE,(()=>{A||(A=!0,ue(en,`RPC '${e}' stream ${o} transport closed`),P.o_(),this.E_(E))})),$l(E,eu.EventType.ERROR,(j=>{A||(A=!0,ya(en,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),P.o_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),$l(E,eu.EventType.MESSAGE,(j=>{if(!A){const G=j.data[0];Ke(!!G,16349);const z=G,ie=z?.error||z[0]?.error;if(ie){ue(en,`RPC '${e}' stream ${o} received error:`,ie);const ne=ie.status;let J=(function(ve){const N=Dt[ve];if(N!==void 0)return S1(N)})(ne),ae=ie.message;ne==="NOT_FOUND"&&ae.includes("database")&&ae.includes("does not exist")&&ae.includes(this.databaseId.database)&&ya(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),J===void 0&&(J=W.INTERNAL,ae="Unknown error status: "+ne+" with message "+ie.message),A=!0,P.o_(new le(J,ae)),E.close()}else ue(en,`RPC '${e}' stream ${o} received:`,G),P.__(G)}})),So.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return qT()}}function XD(i){return new So(i)}function ep(){return typeof document<"u"?document:null}function Cf(i){return new eD(i,!0)}So.c_=!1;class j1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const QE="PersistentStream";class z1{constructor(e,n,s,o,u,h,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new j1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(wr(n.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(QE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(QE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WD extends z1{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=iD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Bi(h.readTime):we.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Mp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Cp(p)?{documents:aD(u,p)}:{query:oD(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=R1(u,h.resumeToken);const g=Np(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=Zh(u,h.snapshotVersion.toTimestamp());const g=Np(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=uD(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Mp(this.serializer),n.removeTarget=e,this.K_(n)}}class JD extends z1{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=sD(e.writeResults,e.commitTime),s=Bi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Mp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>rD(this.serializer,s)))};this.K_(n)}}class ZD{}class e4 extends ZD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Dp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Dp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(W.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function t4(i,e,n,s){return new e4(i,e,n,s)}class n4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _a="RemoteStore";class i4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Sa(this)&&(ue(_a,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await ku(g),g.Va.set("Unknown"),g.Ea.delete(4),await If(g)})(this))}))})),this.Va=new n4(s,o)}}async function If(i){if(Sa(i))for(const e of i.Ra)await e(!0)}async function ku(i){for(const e of i.Ra)await e(!1)}function B1(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rg(n)?xg(n):zo(n).O_()&&Ag(n,e))}function Sg(i,e){const n=Ae(i),s=zo(n);n.Ia.delete(e),s.O_()&&q1(n,e),n.Ia.size===0&&(s.O_()?s.L_():Sa(n)&&n.Va.set("Unknown"))}function Ag(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(i).Z_(e)}function q1(i,e){i.da.$e(e),zo(i).X_(e)}function xg(i){i.da=new XN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),zo(i).start(),i.Va.ua()}function Rg(i){return Sa(i)&&!zo(i).x_()&&i.Ia.size>0}function Sa(i){return Ae(i).Ea.size===0}function F1(i){i.da=void 0}async function r4(i){i.Va.set("Online")}async function s4(i){i.Ia.forEach(((e,n)=>{Ag(i,e)}))}async function a4(i,e){F1(i),Rg(i)?(i.Va.ha(e),xg(i)):i.Va.set("Unknown")}async function o4(i,e,n){if(i.Va.set("Online"),e instanceof x1&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){ue(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await tf(i,s)}else if(e instanceof Ph?i.da.Xe(e):e instanceof A1?i.da.st(e):i.da.tt(e),!n.isEqual(we.min()))try{const s=await U1(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Jt.EMPTY_BYTE_STRING,E.snapshotVersion)),q1(u,p);const T=new fs(E.target,p,g,E.sequenceNumber);Ag(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ue(_a,"Failed to raise snapshot:",s),await tf(i,s)}}async function tf(i,e,n){if(!Uo(e))throw e;i.Ea.add(1),await ku(i),i.Va.set("Offline"),n||(n=()=>U1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(_a,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await If(i)}))}function H1(i,e){return e().catch((n=>tf(i,n,e)))}async function Nf(i){const e=Ae(i),n=ws(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cg;for(;l4(e);)try{const o=await qD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,u4(e,o)}catch(o){await tf(e,o)}G1(e)&&Q1(e)}function l4(i){return Sa(i)&&i.Ta.length<10}function u4(i,e){i.Ta.push(e);const n=ws(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function G1(i){return Sa(i)&&!ws(i).x_()&&i.Ta.length>0}function Q1(i){ws(i).start()}async function c4(i){ws(i).ra()}async function h4(i){const e=ws(i);for(const n of i.Ta)e.ea(n.mutations)}async function f4(i,e,n){const s=i.Ta.shift(),o=yg.from(s,e,n);await H1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Nf(i)}async function d4(i,e){e&&ws(i).Y_&&await(async function(s,o){if((function(h){return KN(h)&&h!==W.ABORTED})(o.code)){const u=s.Ta.shift();ws(s).B_(),await H1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Nf(s)}})(i,e),G1(i)&&Q1(i)}async function KE(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),ue(_a,"RemoteStore received new credentials");const s=Sa(n);n.Ea.add(3),await ku(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await If(n)}async function m4(i,e){const n=Ae(i);e?(n.Ea.delete(2),await If(n)):e||(n.Ea.add(2),await ku(n),n.Va.set("Unknown"))}function zo(i){return i.ma||(i.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new WD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:r4.bind(null,i),Yo:s4.bind(null,i),t_:a4.bind(null,i),J_:o4.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),Rg(i)?xg(i):i.Va.set("Unknown")):(await i.ma.stop(),F1(i))}))),i.ma}function ws(i){return i.fa||(i.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new JD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:c4.bind(null,i),t_:d4.bind(null,i),ta:h4.bind(null,i),na:f4.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await Nf(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(_a,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Cg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Cg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(i,e){if(wr("AsyncQueue",`${e}: ${i}`),Uo(i))return new le(W.UNAVAILABLE,`${e}: ${i}`);throw i}class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class YE{constructor(){this.ga=new ft(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Do{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Do(e,n,Ao.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class p4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class g4{constructor(){this.queries=$E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=$E(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function $E(){return new wa((i=>c1(i)),wf)}async function Ng(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new p4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Ig(h,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Og(n)}async function Dg(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function y4(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Og(n)}function _4(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Og(i){i.Ca.forEach((e=>{e.next()}))}var Pp,XE;(XE=Pp||(Pp={})).Ma="default",XE.Cache="cache";class Mg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Do(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pp.Cache}}class K1{constructor(e){this.key=e}}class Y1{constructor(e){this.key=e}}class v4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=h1(e),this.tu=new Ao(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new YE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),P=Sf(this.query,T)?T:null,j=!!A&&this.mutatedKeys.has(A.key),G=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let z=!1;A&&P?A.data.isEqual(P.data)?j!==G&&(s.track({type:3,doc:P}),z=!0):this.su(A,P)||(s.track({type:2,doc:P}),z=!0,(p&&this.eu(P,p)>0||g&&this.eu(P,g)<0)&&(m=!0)):!A&&P?(s.track({type:0,doc:P}),z=!0):A&&!P&&(s.track({type:1,doc:A}),z=!0,(p||g)&&(m=!0)),z&&(P?(h=h.add(P),u=G?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(P,j){const G=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:z})}};return G(P)-G(j)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new Do(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new Y1(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new K1(s))})),n}cu(e){this.Za=e.ks,this.Ya=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Vg="SyncEngine";class E4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class b4{constructor(e){this.key=e,this.hu=!1}}class T4{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new wa((m=>c1(m)),wf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(pe.comparator),this.Au=new Map,this.Vu=new Eg,this.du={},this.mu=new Map,this.fu=No.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function w4(i,e,n=!0){const s=ew(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await $1(s,e,n,!0),o}async function S4(i,e){const n=ew(i);await $1(n,e,!0,!1)}async function $1(i,e,n,s){const o=await FD(i.localStore,zi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await A4(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&B1(i.remoteStore,o),m}async function A4(i,e,n,s,o){i.pu=(T,A,P)=>(async function(G,z,ie,ne){let J=z.view.ru(ie);J.Ss&&(J=await qE(G.localStore,z.query,!1).then((({documents:N})=>z.view.ru(N,J))));const ae=ne&&ne.targetChanges.get(z.targetId),ge=ne&&ne.targetMismatches.get(z.targetId)!=null,ve=z.view.applyChanges(J,G.isPrimaryClient,ae,ge);return JE(G,z.targetId,ve.au),ve.snapshot})(i,T,A,P);const u=await qE(i.localStore,e,!0),h=new v4(e,u.ks),m=h.ru(u.documents),p=Vu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);JE(i,n,g.au);const E=new E4(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function x4(i,e,n){const s=Ae(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!wf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Sg(s.remoteStore,o.targetId),Lp(s,o.targetId)})).catch(Lo)):(Lp(s,o.targetId),await Vp(s.localStore,o.targetId,!0))}async function R4(i,e){const n=Ae(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sg(n.remoteStore,s.targetId))}async function C4(i,e,n){const s=k4(i);try{const o=await(function(h,m){const p=Ae(h),g=Je.now(),E=m.reduce(((P,j)=>P.add(j.key)),je());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let j=Sr(),G=je();return p.xs.getEntries(P,E).next((z=>{j=z,j.forEach(((ie,ne)=>{ne.isValidDocument()||(G=G.add(ie))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,j))).next((z=>{T=z;const ie=[];for(const ne of m){const J=qN(ne,T.get(ne.key).overlayedDocument);J!=null&&ie.push(new Is(ne.key,J,n1(J.value.mapValue),Kn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,ie,m)})).next((z=>{A=z;const ie=z.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(P,z.batchId,ie)}))})).then((()=>({batchId:A.batchId,changes:d1(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new ft(Ue)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g})(s,o.batchId,n),await Pu(s,o.changes),await Nf(s.remoteStore)}catch(o){const u=Ig(o,"Failed to persist write");n.reject(u)}}async function X1(i,e){const n=Ae(i);try{const s=await zD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ke(h.hu,14607):o.removedDocuments.size>0&&(Ke(h.hu,42227),h.hu=!1))})),await Pu(n,s,e)}catch(s){await Lo(s)}}function WE(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.ba)A.va(m)&&(g=!0)})),g&&Og(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function I4(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(pe.comparator);h=h.insert(u,nn.newNoDocument(u,we.min()));const m=je().add(u),p=new Rf(we.min(),new Map,new ft(Ue),h,m);await X1(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),kg(s)}else await Vp(s.localStore,e,!1).then((()=>Lp(s,e,n))).catch(Lo)}async function N4(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await jD(n.localStore,e);J1(n,s,null),W1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Pu(n,o)}catch(o){await Lo(o)}}async function D4(i,e,n){const s=Ae(i);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ke(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);J1(s,e,n),W1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Pu(s,o)}catch(o){await Lo(o)}}function W1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function J1(i,e,n){const s=Ae(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Lp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||Z1(i,s)}))}function Z1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(Sg(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),kg(i))}function JE(i,e,n){for(const s of n)s instanceof K1?(i.Vu.addReference(s.key,e),O4(i,s)):s instanceof Y1?(ue(Vg,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||Z1(i,s.key)):be(19791,{wu:s})}function O4(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(ue(Vg,"New document in limbo: "+n),i.Eu.add(s),kg(i))}function kg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new pe(st.fromString(e)),s=i.fu.next();i.Au.set(s,new b4(n)),i.Ru=i.Ru.insert(n,s),B1(i.remoteStore,new fs(zi(Tf(n.path)),s,"TargetPurposeLimboResolution",vf.ce))}}async function Pu(i,e,n){const s=Ae(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Tg.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(g,(A=>te.forEach(A.Ts,(P=>E.persistence.referenceDelegate.addReference(T,A.targetId,P))).next((()=>te.forEach(A.Is,(P=>E.persistence.referenceDelegate.removeReference(T,A.targetId,P)))))))))}catch(T){if(!Uo(T))throw T;ue(wg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const P=E.vs.get(A),j=P.snapshotVersion,G=P.withLastLimboFreeSnapshotVersion(j);E.vs=E.vs.insert(A,G)}}})(s.localStore,u))}async function M4(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){ue(Vg,"User change. New user:",e.toKey());const s=await L1(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(W.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pu(n,s.Ns)}}function V4(i,e){const n=Ae(i),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function ew(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=X1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I4.bind(null,e),e.Pu.J_=y4.bind(null,e.eventManager),e.Pu.yu=_4.bind(null,e.eventManager),e}function k4(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D4.bind(null,e),e}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return UD(this.persistence,new kD,e.initialUser,this.serializer)}Cu(e){return new P1(bg.Vi,this.serializer)}Du(e){return new GD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class P4 extends nf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof ef,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ED(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new P1((s=>ef.Vi(s,n)),this.serializer)}}class Up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>WE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=M4.bind(null,this.syncEngine),await m4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g4})()}createDatastore(e){const n=Cf(e.databaseInfo.databaseId),s=XD(e.databaseInfo);return t4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new i4(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>WE(this.syncEngine,n,0)),(function(){return GE.v()?new GE:new QD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new T4(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);ue(_a,"RemoteStore shutting down."),s.Ea.add(5),await ku(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Up.provider={build:()=>new Up};class Pg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ss="FirestoreClient";class L4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ue(Ss,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ue(Ss,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ig(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function tp(i,e){i.asyncQueue.verifyOperationInProgress(),ue(Ss,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await L1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function ZE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await U4(i);ue(Ss,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>KE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>KE(e.remoteStore,o))),i._onlineComponents=e}async function U4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(Ss,"Using user provided OfflineComponentProvider");try{await tp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ya("Error using user provided cache. Falling back to memory cache: "+n),await tp(i,new nf)}}else ue(Ss,"Using default OfflineComponentProvider"),await tp(i,new P4(void 0));return i._offlineComponents}async function tw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(Ss,"Using user provided OnlineComponentProvider"),await ZE(i,i._uninitializedComponentsProvider._online)):(ue(Ss,"Using default OnlineComponentProvider"),await ZE(i,new Up))),i._onlineComponents}function j4(i){return tw(i).then((e=>e.syncEngine))}async function rf(i){const e=await tw(i),n=e.eventManager;return n.onListen=w4.bind(null,e.syncEngine),n.onUnlisten=x4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=S4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R4.bind(null,e.syncEngine),n}function z4(i,e,n,s){const o=new Pg(s),u=new Mg(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>Ng(await rf(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>Dg(await rf(i),u)))}}function B4(i,e,n={}){const s=new vr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Pg({next:A=>{E.Nu(),h.enqueueAndForget((()=>Dg(u,T)));const P=A.docs.has(m);!P&&A.fromCache?g.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&A.fromCache&&p&&p.source==="server"?g.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new Mg(Tf(m.path),E,{includeMetadataChanges:!0,Ka:!0});return Ng(u,T)})(await rf(i),i.asyncQueue,e,n,s))),s.promise}function q4(i,e,n={}){const s=new vr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Pg({next:A=>{E.Nu(),h.enqueueAndForget((()=>Dg(u,T))),A.fromCache&&p.source==="server"?g.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new Mg(m,E,{includeMetadataChanges:!0,Ka:!0});return Ng(u,T)})(await rf(i),i.asyncQueue,e,n,s))),s.promise}function F4(i,e){const n=new vr;return i.asyncQueue.enqueueAndForget((async()=>C4(await j4(i),e,n))),n.promise}function nw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const H4="ComponentProvider",eb=new Map;function G4(i,e,n,s,o){return new hN(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,nw(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const iw="firestore.googleapis.com",tb=!0;class nb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iw,this.ssl=tb}else this.host=e.host,this.ssl=e.ssl??tb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=k1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_D)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new HI;switch(s.type){case"firstParty":return new YI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=eb.get(n);s&&(ue(H4,"Removing Datastore"),eb.delete(n),s.terminate())})(this),Promise.resolve()}}function Q4(i,e,n,s={}){i=_n(i,Df);const o=ba(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Kp(`https://${m}`),Yp("Firestore",!0)),u.host!==iw&&u.host!==m&&ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!fa(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=tn.MOCK_USER;else{g=$b(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(T)}i._authCredentials=new GI(new HT(g,E))}}class Rr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rr(this.firestore,e,this._query)}}class pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ou(n,pt._jsonSchema))return new pt(e,s||null,new pe(st.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Mt("string",pt._jsonSchemaVersion),referencePath:Mt("string")};class ys extends Rr{constructor(e,n,s){super(e,n,Tf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new pe(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function qt(i,e,...n){if(i=bt(i),GT("collection","path",e),i instanceof Df){const s=st.fromString(e,...n);return pE(s),new ys(i,null,s)}{if(!(i instanceof pt||i instanceof ys))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return pE(s),new ys(i.firestore,null,s)}}function Qn(i,e,...n){if(i=bt(i),arguments.length===1&&(e=ug.newId()),GT("doc","path",e),i instanceof Df){const s=st.fromString(e,...n);return mE(s),new pt(i,null,new pe(s))}{if(!(i instanceof pt||i instanceof ys))throw new le(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return mE(s),new pt(i.firestore,i instanceof ys?i.converter:null,new pe(s))}}const ib="AsyncQueue";class rb{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new j1(this,"async_queue_retry"),this._c=()=>{const s=ep();s&&ue(ib,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Uo(e))throw e;ue(ib,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,wr("INTERNAL UNHANDLED ERROR: ",sb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Cg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:sb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ar extends Df{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new rb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rb(e),this._firestoreClient=void 0,await e}}}function K4(i,e){const n=typeof i=="object"?i:Wp(),s=typeof i=="string"?i:$h,o=mf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Qb("firestore");u&&Q4(o,...u)}return o}function Of(i){if(i._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Y4(i),i._firestoreClient}function Y4(i){const e=i._freezeSettings(),n=G4(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new L4(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Jt.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Mt("string",Hn._jsonSchemaVersion),bytes:Mt("string")};class Lg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lu{constructor(e){this._methodName=e}}class qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Mt("string",qi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class hi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hi(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:Mt("string",hi._jsonSchemaVersion),vectorValues:Mt("object")};const $4=/^__.*__$/;class X4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}class rw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:i})}}class Ug{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return sf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(sw(this.dataSource)&&$4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class W4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Cf(e)}createContext(e,n,s,o=!1){return new Ug({dataSource:e,methodName:n,targetDoc:s,path:Wt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mf(i){const e=i._freezeSettings(),n=Cf(i._databaseId);return new W4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function aw(i,e,n,s,o,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);Bg("Data must be an object, but it was:",h,s);const m=ow(s,h);let p,g;if(u.merge)p=new In(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=va(e,T,n);if(!h.contains(A))throw new le(W.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);cw(E,A)||E.push(A)}p=new In(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new X4(new yn(m),p,g)}class Vf extends Lu{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}class jg extends Lu{_toFieldTransform(e){return new b1(e.path,new vu)}isEqual(e){return e instanceof jg}}class zg extends Lu{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Tu(e.serializer,g1(e.serializer,this.Vc));return new b1(e.path,n)}isEqual(e){return e instanceof zg&&this.Vc===e.Vc}}function J4(i,e,n,s){const o=i.createContext(1,e,n);Bg("Data must be an object, but it was:",o,s);const u=[],h=yn.empty();Cs(s,((p,g)=>{const E=uw(e,p,n);g=bt(g);const T=o.childContextForFieldPath(E);if(g instanceof Vf)u.push(E);else{const A=Uu(g,T);A!=null&&(u.push(E),h.set(E,A))}}));const m=new In(u);return new rw(h,m,o.fieldTransforms)}function Z4(i,e,n,s,o,u){const h=i.createContext(1,e,n),m=[va(e,s,n)],p=[o];if(u.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(va(e,u[A])),p.push(u[A+1]);const g=[],E=yn.empty();for(let A=m.length-1;A>=0;--A)if(!cw(g,m[A])){const P=m[A];let j=p[A];j=bt(j);const G=h.childContextForFieldPath(P);if(j instanceof Vf)g.push(P);else{const z=Uu(j,G);z!=null&&(g.push(P),E.set(P,z))}}const T=new In(g);return new rw(E,T,h.fieldTransforms)}function eO(i,e,n,s=!1){return Uu(n,i.createContext(s?4:3,e))}function Uu(i,e){if(lw(i=bt(i)))return Bg("Unsupported field value:",e,i),ow(i,e);if(i instanceof Lu)return(function(s,o){if(!sw(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Uu(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return g1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Je.fromDate(s);return{timestampValue:Zh(o.serializer,u)}}if(s instanceof Je){const u=new Je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zh(o.serializer,u)}}if(s instanceof qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:R1(o.serializer,s._byteString)};if(s instanceof pt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof hi)return(function(h,m){const p=h instanceof hi?h.toArray():h;return{mapValue:{fields:{[e1]:{stringValue:t1},[Xh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return pg(m.serializer,E)}))}}}}}})(s,o);if(V1(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${_f(s)}`)})(i,e)}function ow(i,e){const n={};return YT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(i,((s,o)=>{const u=Uu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function lw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Je||i instanceof qi||i instanceof Hn||i instanceof pt||i instanceof Lu||i instanceof hi||V1(i))}function Bg(i,e,n){if(!lw(n)||!QT(n)){const s=_f(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function va(i,e,n){if((e=bt(e))instanceof Lg)return e._internalPath;if(typeof e=="string")return uw(i,e);throw sf("Field path arguments must be of type string or ",i,!1,void 0,n)}const tO=new RegExp("[~\\*/\\[\\]]");function uw(i,e,n){if(e.search(tO)>=0)throw sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Lg(...e.split("."))._internalPath}catch{throw sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function sf(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new le(W.INVALID_ARGUMENT,m+i+p)}function cw(i,e){return i.some((n=>n.isEqual(e)))}class nO{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Cs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Xh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new hi(n)}convertGeoPoint(e){return new qi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=bf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=Es(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Ke(M1(s),9688,{name:e});const o=new gu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||wr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class qg extends nO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function iO(){return new jg("serverTimestamp")}function bh(i){return new zg("increment",i)}const ab="@firebase/firestore",ob="4.11.0";function lb(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class hw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(va("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rO extends hw{data(){return super.data()}}function fw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fg{}class Hg extends Fg{}function Gn(i,e,...n){let s=[];e instanceof Fg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Gg)).length,m=u.filter((p=>p instanceof kf)).length;if(h>1||h>0&&m>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class kf extends Hg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new kf(e,n,s)}_apply(e){const n=this._parse(e);return dw(e._query,n),new Rr(e.firestore,e.converter,Ip(e._query,n))}_parse(e){const n=Mf(e.firestore);return(function(u,h,m,p,g,E,T){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){cb(T,E);const j=[];for(const G of T)j.push(ub(p,u,G));A={arrayValue:{values:j}}}else A=ub(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||cb(T,E),A=eO(m,h,T,E==="in"||E==="not-in");return Ot.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function us(i,e,n){const s=e,o=va("where",i);return kf._create(o,s,n)}class Gg extends Fg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)dw(h,p),h=Ip(h,p)})(e._query,n),new Rr(e.firestore,e.converter,Ip(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qg extends Hg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Qg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(u,h)})(e._query,this._field,this._direction);return new Rr(e.firestore,e.converter,IN(e._query,n))}}function cu(i,e="asc"){const n=e,s=va("orderBy",i);return Qg._create(s,n)}class Kg extends Hg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Kg(e,n,s)}_apply(e){return new Rr(e.firestore,e.converter,Jh(e._query,this._limit,this._limitType))}}function np(i){return Kg._create("limit",i,"F")}function ub(i,e,n){if(typeof(n=bt(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!u1(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(st.fromString(n));if(!pe.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return wE(i,new pe(s))}if(n instanceof pt)return wE(i,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(n)}.`)}function cb(i,e){if(!Array.isArray(i)||i.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dw(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function mw(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends hw{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(va("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Mt("string",ca._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Lh extends ca{data(e={}){return super.data(e)}}class ha{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Lh(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:sO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ha._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:i})}}ha._jsonSchemaVersion="firestore/querySnapshot/1.0",ha._jsonSchema={type:Mt("string",ha._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};function jp(i){i=_n(i,pt);const e=_n(i.firestore,Ar),n=Of(e);return B4(n,i._key).then((s=>gw(e,i,s)))}function Cn(i){i=_n(i,Rr);const e=_n(i.firestore,Ar),n=Of(e),s=new qg(e);return fw(i._query),q4(n,i._query).then((o=>new ha(e,s,i,o)))}function pw(i,e,n){i=_n(i,pt);const s=_n(i.firestore,Ar),o=mw(i.converter,e),u=Mf(s);return Pf(s,[aw(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Kn.none())])}function Eo(i,e,n,...s){i=_n(i,pt);const o=_n(i.firestore,Ar),u=Mf(o);let h;return h=typeof(e=bt(e))=="string"||e instanceof Lg?Z4(u,"updateDoc",i._key,e,n,s):J4(u,"updateDoc",i._key,e),Pf(o,[h.toMutation(i._key,Kn.exists(!0))])}function ip(i){return Pf(_n(i.firestore,Ar),[new gg(i._key,Kn.none())])}function hb(i,e){const n=_n(i.firestore,Ar),s=Qn(i),o=mw(i.converter,e),u=Mf(i.firestore);return Pf(n,[aw(u,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Kn.exists(!1))]).then((()=>s))}function rp(i,...e){i=bt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||lb(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(lb(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,h,m;if(i instanceof pt)h=_n(i.firestore,Ar),m=Tf(i._key.path),u={next:g=>{e[s]&&e[s](gw(h,i,g))},error:e[s+1],complete:e[s+2]};else{const g=_n(i,Rr);h=_n(g.firestore,Ar),m=g._query;const E=new qg(h);u={next:T=>{e[s]&&e[s](new ha(h,E,g,T))},error:e[s+1],complete:e[s+2]},fw(i._query)}const p=Of(h);return z4(p,m,o,u)}function Pf(i,e){const n=Of(i);return F4(n,e)}function gw(i,e,n){const s=n.docs.get(e._key),o=new qg(i);return new ca(i,o,e._key,s,new iu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){FI(Ta),da(new _s("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ar(new QI(s.getProvider("auth-internal")),new $I(h,s.getProvider("app-check-internal")),fN(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ui(ab,ob,e),Ui(ab,ob,"esm2020")})();var aO="firebase",oO="12.9.0";Ui(aO,oO,"app");const yw="firebasestorage.googleapis.com",lO="storageBucket",uO=120*1e3,cO=600*1e3;class Ki extends Qi{constructor(e,n,s=0){super(sp(e),`Firebase Storage: ${n} (${sp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ki.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hi||(Hi={}));function sp(i){return"storage/"+i}function hO(){const i="An unknown error occurred, please check the error payload for server response.";return new Ki(Hi.UNKNOWN,i)}function fO(){return new Ki(Hi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dO(){return new Ki(Hi.CANCELED,"User canceled the upload/download.")}function mO(i){return new Ki(Hi.INVALID_URL,"Invalid URL '"+i+"'.")}function pO(i){return new Ki(Hi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function fb(i){return new Ki(Hi.INVALID_ARGUMENT,i)}function _w(){return new Ki(Hi.APP_DELETED,"The Firebase app was deleted.")}function gO(i){return new Ki(Hi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ui{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ui.makeFromUrl(e,n)}catch{return new ui(e,"")}if(s.path==="")return s;throw pO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ae){ae.path_=decodeURIComponent(ae.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",P=new RegExp(`^https?://${T}/${E}/b/${o}/o${A}`,"i"),j={bucket:1,path:3},G=n===yw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",ie=new RegExp(`^https?://${G}/${o}/${z}`,"i"),J=[{regex:m,indices:p,postModify:u},{regex:P,indices:j,postModify:g},{regex:ie,indices:{bucket:1,path:2},postModify:g}];for(let ae=0;ae<J.length;ae++){const ge=J[ae],ve=ge.regex.exec(e);if(ve){const N=ve[ge.indices.bucket];let x=ve[ge.indices.path];x||(x=""),s=new ui(N,x),ge.postModify(s);break}}if(s==null)throw mO(e);return s}}class yO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _O(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...z){g||(g=!0,e.apply(null,z))}function T(z){o=setTimeout(()=>{o=null,i(P,p())},z)}function A(){u&&clearTimeout(u)}function P(z,...ie){if(g){A();return}if(z){A(),E.call(null,z,...ie);return}if(p()||h){A(),E.call(null,z,...ie);return}s<64&&(s*=2);let J;m===1?(m=2,J=0):J=(s+Math.random())*1e3,T(J)}let j=!1;function G(z){j||(j=!0,A(),!g&&(o!==null?(z||(m=2),clearTimeout(o),T(0)):z||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,G(!0)},n),G}function vO(i){i(!1)}function EO(i){return i!==void 0}function db(i,e,n,s){if(s<e)throw fb(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw fb(`Invalid value for '${i}'. Expected ${n} or less.`)}function bO(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var af;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(af||(af={}));function TO(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class wO{constructor(e,n,s,o,u,h,m,p,g,E,T,A=!0,P=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=A,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,G)=>{this.resolve_=j,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Th(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===af.NO_ERROR,p=u.getStatus();if(!m||TO(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===af.ABORT;s(!1,new Th(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Th(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());EO(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=hO();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?_w():dO();h(p)}else{const p=fO();h(p)}};this.canceled_?n(!1,new Th(!1,null,!0)):this.backoffId_=_O(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Th{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function SO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function AO(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xO(i,e){e&&(i["X-Firebase-GMPID"]=e)}function RO(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function CO(i,e,n,s,o,u,h=!0,m=!1){const p=bO(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return xO(E,e),SO(E,n),AO(E,u),RO(E,s),new wO(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function IO(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function NO(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class of{constructor(e,n){this._service=e,n instanceof ui?this._location=n:this._location=ui.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new of(e,n)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NO(this._location.path)}get storage(){return this._service}get parent(){const e=IO(this._location.path);if(e===null)return null;const n=new ui(this._location.bucket,e);return new of(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gO(e)}}function mb(i,e){const n=e?.[lO];return n==null?null:ui.makeFromBucketSpec(n,i)}function DO(i,e,n,s={}){i.host=`${e}:${n}`;const o=ba(e);o&&(Kp(`https://${i.host}/b`),Yp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:$b(u,i.app.options.projectId))}class OO{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=yw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uO,this._maxUploadRetryTime=cO,this._requests=new Set,o!=null?this._bucket=ui.makeFromBucketSpec(o,this._host):this._bucket=mb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ui.makeFromBucketSpec(this._url,e):this._bucket=mb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){db("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){db("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new of(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new yO(_w());{const h=CO(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const pb="@firebase/storage",gb="0.14.0";const vw="storage";function MO(i=Wp(),e){i=bt(i);const s=mf(i,vw).getImmediate({identifier:e}),o=Qb("storage");return o&&VO(s,...o),s}function VO(i,e,n,s={}){DO(i,e,n,s)}function kO(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new OO(n,s,o,e,Ta)}function PO(){da(new _s(vw,kO,"PUBLIC").setMultipleInstances(!0)),Ui(pb,gb,""),Ui(pb,gb,"esm2020")}PO();const LO={apiKey:"AIzaSyBb4pQLPGSHudHFpazB0nYdRvi4N8yOVKw",authDomain:"mindstack-a4690.firebaseapp.com",projectId:"mindstack-a4690",storageBucket:"mindstack-a4690.firebasestorage.app",messagingSenderId:"376916122885",appId:"1:376916122885:web:22ae7a76543c27f90f2b6c"},Yg=Jb(LO),yr=BI(Yg),We=K4(Yg);MO(Yg);const Ew=L.createContext(void 0);function UO({children:i}){const[e,n]=L.useState(null),[s,o]=L.useState(null),[u,h]=L.useState(!0),m=async(P,j)=>{const G=Qn(We,"users",P.uid),z={uid:P.uid,email:P.email||"",displayName:j,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${P.uid}`,role:"user",bio:"",createdAt:Je.now(),achievements:{solved:0,helpful:0,contributions:0}};return await pw(G,z),z},p=async P=>{try{const j=Qn(We,"users",P);return(await jp(j)).data()||null}catch(j){return console.error("Error fetching user profile:",j),null}},g=async(P,j,G)=>{const{user:z}=await wT(yr,P,j),ie=await m(z,G);o(ie)},E=async(P,j)=>{const{user:G}=await ST(yr,P,j),z=await p(G.uid);o(z)},T=async()=>{o(null),await AT(yr)};L.useEffect(()=>DC(yr,async j=>{try{if(j){n(j);const G=await p(j.uid);o(G)}else n(null),o(null)}finally{h(!1)}}),[]);const A={currentUser:e,userProfile:s,loading:u,signup:g,login:E,logout:T,isAdmin:s?.role==="admin"};return b.jsx(Ew.Provider,{value:A,children:i})}function Bo(){const i=L.useContext(Ew);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}var bw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yb=ds.createContext&&ds.createContext(bw),jO=["attr","size","title"];function zO(i,e){if(i==null)return{};var n=BO(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function BO(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function lf(){return lf=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},lf.apply(this,arguments)}function _b(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function uf(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_b(Object(n),!0).forEach(function(s){qO(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):_b(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function qO(i,e,n){return e=FO(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function FO(i){var e=HO(i,"string");return typeof e=="symbol"?e:e+""}function HO(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Tw(i){return i&&i.map((e,n)=>ds.createElement(e.tag,uf({key:n},e.attr),Tw(e.child)))}function Ft(i){return e=>ds.createElement(GO,lf({attr:uf({},i.attr)},e),Tw(i.child))}function GO(i){var e=n=>{var{attr:s,size:o,title:u}=i,h=zO(i,jO),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),ds.createElement("svg",lf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:p,style:uf(uf({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&ds.createElement("title",null,u),i.children)};return yb!==void 0?ds.createElement(yb.Consumer,null,n=>e(n)):e(bw)}function QO(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(i)}function KO(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(i)}function YO(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(i)}function $O(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(i)}function XO(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(i)}function ww(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(i)}function WO(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(i)}function JO(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(i)}function ZO(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(i)}function eM(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(i)}function tM(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(i)}function nM(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(i)}function vb(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(i)}function iM(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(i)}function ap(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(i)}function rM(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(i)}function sM(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(i)}function aM(){const{currentUser:i,userProfile:e,isAdmin:n}=Bo(),s=Ea(),[o,u]=L.useState(""),[h,m]=L.useState(!1),p=T=>{T.preventDefault(),o.trim()&&(s(`/search?q=${encodeURIComponent(o)}`),u(""),m(!1))},g=async()=>{try{await AT(yr),s("/")}catch(T){console.error("Logout error:",T)}},E=T=>T.split(" ").map(A=>A[0]).join("").toUpperCase().slice(0,2);return b.jsx("nav",{className:"bg-gray-900 border-b border-gray-800 sticky top-0 z-50",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"flex justify-between items-center h-16",children:[b.jsx(it,{to:"/",className:"flex-shrink-0",children:b.jsx("span",{className:"text-2xl font-bold text-orange-400",children:"MindStack"})}),b.jsx("form",{onSubmit:p,className:"hidden md:flex flex-1 mx-8",children:b.jsxs("div",{className:"relative w-full max-w-sm",children:[b.jsx("input",{type:"text",value:o,onChange:T=>u(T.target.value),placeholder:"Search questions...",className:"w-full pl-10 pr-4 py-2 rounded bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 text-white"}),b.jsx(vb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]})}),b.jsx("div",{className:"hidden md:flex items-center gap-4",children:i?b.jsxs(b.Fragment,{children:[b.jsx(it,{to:"/ask",className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-semibold text-sm transition",children:"Ask Question"}),b.jsxs("div",{className:"relative group",children:[b.jsx("button",{className:"flex items-center gap-2 focus:outline-none",children:b.jsx("div",{className:"w-9 h-9 rounded-full bg-orange-500 flex items-center justify-center text-white font-semibold",children:e?.avatar?b.jsx("img",{src:e.avatar,alt:e.displayName,className:"w-9 h-9 rounded-full"}):E(e?.displayName||i?.email||"User")})}),b.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-gray-800 border border-gray-700 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[b.jsx("div",{className:"px-4 py-2 text-sm font-semibold text-white",children:e?.displayName||i?.email}),b.jsx("div",{className:"px-4 py-1 text-xs text-gray-400",children:i?.email}),b.jsx("div",{className:"border-t border-gray-700 my-1"}),b.jsx(it,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"Profile"}),b.jsx(it,{to:"/favorites",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"Favorites"}),b.jsx(it,{to:"/chat",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"Messages"}),n&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"border-t border-gray-700 my-1"}),b.jsx(it,{to:"/admin",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"Admin Dashboard"})]}),b.jsx("div",{className:"border-t border-gray-700 my-1"}),b.jsx("button",{onClick:g,className:"block w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700",children:"Logout"})]})]})]}):b.jsxs(b.Fragment,{children:[b.jsx(it,{to:"/login",className:"px-4 py-2 rounded bg-gray-700 hover:bg-gray-600 text-white",children:"Log In"}),b.jsx(it,{to:"/signup",className:"px-4 py-2 rounded bg-orange-500 hover:bg-orange-600 text-white",children:"Sign Up"})]})}),b.jsx("button",{onClick:()=>m(!h),className:"md:hidden p-2 text-white hover:bg-gray-800 rounded-lg",children:h?b.jsx(sM,{size:24}):b.jsx(ZO,{size:24})})]}),h&&b.jsxs("div",{className:"md:hidden pb-4 space-y-3",children:[b.jsxs("form",{onSubmit:p,className:"relative",children:[b.jsx("input",{type:"text",value:o,onChange:T=>u(T.target.value),placeholder:"Search questions...",className:"w-full pl-10 pr-4 py-2 rounded bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 text-white"}),b.jsx(vb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]}),i?b.jsxs(b.Fragment,{children:[b.jsx(it,{to:"/ask",className:"block w-full px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-center",onClick:()=>m(!1),children:"Ask Question"}),b.jsx(it,{to:"/profile",className:"block w-full px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-center",onClick:()=>m(!1),children:"Profile"}),b.jsx(it,{to:"/favorites",className:"block w-full px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-center",onClick:()=>m(!1),children:"Favorites"}),b.jsx(it,{to:"/chat",className:"block w-full px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-center",onClick:()=>m(!1),children:"Messages"}),n&&b.jsx(it,{to:"/admin",className:"block w-full px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-center",onClick:()=>m(!1),children:"Admin Dashboard"}),b.jsx("button",{onClick:()=>{g(),m(!1)},className:"w-full px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-center",children:"Logout"})]}):b.jsxs(b.Fragment,{children:[b.jsx(it,{to:"/login",className:"block w-full px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-center",onClick:()=>m(!1),children:"Log In"}),b.jsx(it,{to:"/signup",className:"block w-full px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-center",onClick:()=>m(!1),children:"Sign Up"})]})]})]})})}function oM(){return b.jsx("footer",{className:"bg-gray-900 border-t border-gray-800 mt-20",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 text-center text-gray-400",children:[b.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"OsPheii Forum"}),b.jsx("p",{children:"Developer Knowledge Hub  Ask  Share  Solve"}),b.jsxs("p",{className:"mt-4 text-sm",children:[" ",new Date().getFullYear()," OsPheii. All rights reserved."]})]})})}const wh=43200,Eb=1440,bb=Symbol.for("constructDateFrom");function $g(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&bb in i?i[bb](e):i instanceof Date?new i.constructor(e):new Date(e)}function As(i,e){return $g(i,i)}let lM={};function uM(){return lM}function Tb(i){const e=As(i),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+i-+n}function Xg(i,...e){const n=$g.bind(null,i||e.find(s=>typeof s=="object"));return e.map(n)}function Uh(i,e){const n=+As(i)-+As(e);return n<0?-1:n>0?1:n}function cM(i){return $g(i,Date.now())}function hM(i,e,n){const[s,o]=Xg(n?.in,i,e),u=s.getFullYear()-o.getFullYear(),h=s.getMonth()-o.getMonth();return u*12+h}function fM(i){return e=>{const s=(i?Math[i]:Math.trunc)(e);return s===0?0:s}}function dM(i,e){return+As(i)-+As(e)}function mM(i,e){const n=As(i);return n.setHours(23,59,59,999),n}function pM(i,e){const n=As(i),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function gM(i,e){const n=As(i);return+mM(n)==+pM(n)}function yM(i,e,n){const[s,o,u]=Xg(n?.in,i,i,e),h=Uh(o,u),m=Math.abs(hM(o,u));if(m<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-h*m);let p=Uh(o,u)===-h;gM(s)&&m===1&&Uh(s,u)===1&&(p=!1);const g=h*(m-+p);return g===0?0:g}function _M(i,e,n){const s=dM(i,e)/1e3;return fM(n?.roundingMethod)(s)}const vM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},EM=(i,e,n)=>{let s;const o=vM[i];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function op(i){return(e={})=>{const n=e.width?String(e.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const bM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},TM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SM={date:op({formats:bM,defaultWidth:"full"}),time:op({formats:TM,defaultWidth:"full"}),dateTime:op({formats:wM,defaultWidth:"full"})},AM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xM=(i,e,n,s)=>AM[i];function Xl(i){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&i.formattingValues){const h=i.defaultFormattingWidth||i.defaultWidth,m=n?.width?String(n.width):h;o=i.formattingValues[m]||i.formattingValues[h]}else{const h=i.defaultWidth,m=n?.width?String(n.width):i.defaultWidth;o=i.values[m]||i.values[h]}const u=i.argumentCallback?i.argumentCallback(e):e;return o[u]}}const RM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},CM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},IM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},NM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},DM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},OM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MM=(i,e)=>{const n=Number(i),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},VM={ordinalNumber:MM,era:Xl({values:RM,defaultWidth:"wide"}),quarter:Xl({values:CM,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Xl({values:IM,defaultWidth:"wide"}),day:Xl({values:NM,defaultWidth:"wide"}),dayPeriod:Xl({values:DM,defaultWidth:"wide",formattingValues:OM,defaultFormattingWidth:"wide"})};function Wl(i){return(e,n={})=>{const s=n.width,o=s&&i.matchPatterns[s]||i.matchPatterns[i.defaultMatchWidth],u=e.match(o);if(!u)return null;const h=u[0],m=s&&i.parsePatterns[s]||i.parsePatterns[i.defaultParseWidth],p=Array.isArray(m)?PM(m,T=>T.test(h)):kM(m,T=>T.test(h));let g;g=i.valueCallback?i.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const E=e.slice(h.length);return{value:g,rest:E}}}function kM(i,e){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&e(i[n]))return n}function PM(i,e){for(let n=0;n<i.length;n++)if(e(i[n]))return n}function LM(i){return(e,n={})=>{const s=e.match(i.matchPattern);if(!s)return null;const o=s[0],u=e.match(i.parsePattern);if(!u)return null;let h=i.valueCallback?i.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const m=e.slice(o.length);return{value:h,rest:m}}}const UM=/^(\d+)(th|st|nd|rd)?/i,jM=/\d+/i,zM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BM={any:[/^b/i,/^(a|c)/i]},qM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},FM={any:[/1/i,/2/i,/3/i,/4/i]},HM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},QM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},KM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},YM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$M={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},XM={ordinalNumber:LM({matchPattern:UM,parsePattern:jM,valueCallback:i=>parseInt(i,10)}),era:Wl({matchPatterns:zM,defaultMatchWidth:"wide",parsePatterns:BM,defaultParseWidth:"any"}),quarter:Wl({matchPatterns:qM,defaultMatchWidth:"wide",parsePatterns:FM,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Wl({matchPatterns:HM,defaultMatchWidth:"wide",parsePatterns:GM,defaultParseWidth:"any"}),day:Wl({matchPatterns:QM,defaultMatchWidth:"wide",parsePatterns:KM,defaultParseWidth:"any"}),dayPeriod:Wl({matchPatterns:YM,defaultMatchWidth:"any",parsePatterns:$M,defaultParseWidth:"any"})},WM={code:"en-US",formatDistance:EM,formatLong:SM,formatRelative:xM,localize:VM,match:XM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function JM(i,e,n){const s=uM(),o=n?.locale??s.locale??WM,u=2520,h=Uh(i,e);if(isNaN(h))throw new RangeError("Invalid time value");const m=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:h}),[p,g]=Xg(n?.in,...h>0?[e,i]:[i,e]),E=_M(g,p),T=(Tb(g)-Tb(p))/1e3,A=Math.round((E-T)/60);let P;if(A<2)return n?.includeSeconds?E<5?o.formatDistance("lessThanXSeconds",5,m):E<10?o.formatDistance("lessThanXSeconds",10,m):E<20?o.formatDistance("lessThanXSeconds",20,m):E<40?o.formatDistance("halfAMinute",0,m):E<60?o.formatDistance("lessThanXMinutes",1,m):o.formatDistance("xMinutes",1,m):A===0?o.formatDistance("lessThanXMinutes",1,m):o.formatDistance("xMinutes",A,m);if(A<45)return o.formatDistance("xMinutes",A,m);if(A<90)return o.formatDistance("aboutXHours",1,m);if(A<Eb){const j=Math.round(A/60);return o.formatDistance("aboutXHours",j,m)}else{if(A<u)return o.formatDistance("xDays",1,m);if(A<wh){const j=Math.round(A/Eb);return o.formatDistance("xDays",j,m)}else if(A<wh*2)return P=Math.round(A/wh),o.formatDistance("aboutXMonths",P,m)}if(P=yM(g,p),P<12){const j=Math.round(A/wh);return o.formatDistance("xMonths",j,m)}else{const j=P%12,G=Math.trunc(P/12);return j<3?o.formatDistance("aboutXYears",G,m):j<9?o.formatDistance("overXYears",G,m):o.formatDistance("almostXYears",G+1,m)}}function wu(i,e){return JM(i,cM(i),e)}function Sw({id:i,title:e,description:n,author:s,tags:o,createdAt:u,viewCount:h,answerCount:m,status:p}){const g=u?.toDate?wu(u.toDate(),{addSuffix:!0}):"Recently",E={open:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"};return b.jsx(it,{to:`/question/${i}`,className:"block",children:b.jsxs("div",{className:"bg-gray-900 p-4 rounded-xl hover:shadow-lg transition-shadow cursor-pointer border border-gray-800",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsx("h3",{className:"text-lg font-semibold text-white hover:text-orange-400 line-clamp-2 flex-1",children:e}),b.jsx("span",{className:`ml-2 flex-shrink-0 px-2 py-1 rounded-full text-xs font-semibold ${E[p]}`,children:p})]}),b.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-4",children:n}),b.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[o.slice(0,3).map(T=>b.jsx("span",{className:"px-2 py-1 bg-gray-800 text-gray-300 rounded-full text-xs border border-gray-700",children:T},T)),o.length>3&&b.jsxs("span",{className:"px-2 py-1 bg-gray-800 text-gray-300 rounded-full text-xs border border-gray-700",children:["+",o.length-3]})]}),b.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(eM,{className:"w-4 h-4"}),b.jsxs("span",{children:[m," answer",m!==1?"s":""]})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(ww,{className:"w-4 h-4"}),b.jsxs("span",{children:[h," views"]})]})]}),b.jsxs("div",{className:"text-xs",children:["by ",b.jsx("span",{className:"font-semibold text-gray-300",children:s})," ",g]})]})]})})}function ZM(){const{user:i}=Bo(),[e,n]=L.useState([]),[s,o]=L.useState(!0),[u,h]=L.useState("newest");return L.useEffect(()=>{(async()=>{try{o(!0);const p=qt(We,"questions");let g;u==="newest"?g=Gn(p,cu("createdAt","desc"),np(20)):u==="views"?g=Gn(p,cu("viewCount","desc"),np(20)):g=Gn(p,cu("answers","desc"),np(20));const T=(await Cn(g)).docs.map(A=>({id:A.id,...A.data()}));n(T)}catch(p){console.error("Error fetching questions:",p)}finally{o(!1)}})()},[u]),b.jsx("div",{className:"min-h-screen bg-gray-950",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 gap-4",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Welcome",i?`, ${i.displayName||i.email}`:"","!"]}),b.jsx("p",{className:"text-gray-400",children:"Browse and find solutions from the community"})]}),i?b.jsx(it,{to:"/ask",children:b.jsxs("button",{className:"bg-orange-500 hover:bg-orange-600 text-white font-semibold px-6 py-3 rounded-lg flex items-center gap-2 transition",children:[b.jsx("span",{children:"Ask a Question"}),b.jsx(KO,{size:18})]})}):b.jsx(it,{to:"/signup",children:b.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white font-semibold px-6 py-3 rounded-lg transition",children:"Join the Community"})})]}),b.jsx("div",{className:"flex gap-2 mb-6 border-b border-gray-800 pb-4",children:["newest","views","answers"].map(m=>b.jsx("button",{onClick:()=>h(m),className:`px-4 py-2 rounded-lg font-medium transition ${u===m?"bg-orange-500 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-300"}`,children:m.charAt(0).toUpperCase()+m.slice(1)},m))}),s?b.jsx("div",{className:"space-y-4",children:[...Array(5)].map((m,p)=>b.jsx("div",{className:"h-32 bg-gray-800/50 rounded-lg animate-pulse"},p))}):e.length===0?b.jsxs("div",{className:"text-center py-12 bg-gray-900 rounded-xl border border-gray-800",children:[b.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"No questions yet"}),i?b.jsx(it,{to:"/ask",children:b.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Ask the first question"})}):b.jsx("p",{className:"text-gray-400",children:"Please log in to ask questions and interact with the community."})]}):b.jsx("div",{className:"space-y-4",children:e.map(m=>b.jsx(Sw,{id:m.id,title:m.title,description:m.description,author:m.authorName,tags:m.tags||[],createdAt:m.createdAt,viewCount:m.viewCount||0,answerCount:m.answers||0,status:m.status||"open"},m.id))})]})})}function eV(){const[i,e]=L.useState(""),[n,s]=L.useState(""),[o,u]=L.useState(""),[h,m]=L.useState(!1),p=Ea(),g=async E=>{E.preventDefault(),u(""),m(!0);try{await ST(yr,i,n),p("/")}catch(T){u(T.message)}finally{m(!1)}};return b.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:b.jsxs("div",{className:"bg-gray-900 p-8 rounded-xl w-96 shadow-xl border border-gray-800",children:[b.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-white",children:"Login to OsPheii"}),o&&b.jsx("div",{className:"bg-red-500 text-white p-3 rounded mb-4",children:o}),b.jsxs("form",{onSubmit:g,children:[b.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:E=>e(E.target.value),required:!0,className:"w-full p-3 mb-4 rounded bg-gray-800 text-white border border-gray-700 focus:border-orange-500 focus:outline-none"}),b.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:E=>s(E.target.value),required:!0,className:"w-full p-3 mb-6 rounded bg-gray-800 text-white border border-gray-700 focus:border-orange-500 focus:outline-none"}),b.jsx("button",{type:"submit",disabled:h,className:"w-full py-3 rounded bg-orange-500 hover:bg-orange-600 text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Logging in...":"Log In"})]}),b.jsxs("p",{className:"text-center mt-4 text-gray-400",children:["Don't have an account?"," ",b.jsx(it,{to:"/signup",className:"text-orange-400 hover:text-orange-300",children:"Sign up"})]})]})})}const Aw=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const tV=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const nV=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const wb=i=>{const e=nV(i);return e.charAt(0).toUpperCase()+e.slice(1)};var iV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rV=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const sV=L.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>L.createElement("svg",{ref:p,...iV,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:Aw("lucide",o),...!u&&!rV(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>L.createElement(g,E)),...Array.isArray(u)?u:[u]]));const xw=(i,e)=>{const n=L.forwardRef(({className:s,...o},u)=>L.createElement(sV,{ref:u,iconNode:e,className:Aw(`lucide-${tV(wb(i))}`,`lucide-${i}`,s),...o}));return n.displayName=wb(i),n};const aV=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],oV=xw("eye-off",aV);const lV=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uV=xw("eye",lV);function cV(i){return Ft({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"},child:[]},{tag:"path",attr:{d:"M9 18c-4.51 2-5-2-7-2"},child:[]}]})(i)}function hV(){return b.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48",fill:"none",children:[b.jsx("path",{d:"M44.5 20H24v8.5h11.8C34.1 33.9 29.6 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6-6C34.6 5.1 29.6 3 24 3 12.4 3 3 12.4 3 24s9.4 21 21 21c10.5 0 20-7.6 20-21 0-1.3-.2-2.7-.5-4z",fill:"#FFC107"}),b.jsx("path",{d:"M6.3 14.7l7 5.1C15.2 16.2 19.3 13 24 13c3.1 0 5.9 1.1 8.1 2.9l6-6C34.6 5.1 29.6 3 24 3 16.3 3 9.7 7.9 6.3 14.7z",fill:"#FF3D00"}),b.jsx("path",{d:"M24 45c5.5 0 10.4-1.9 14.2-5.1l-6.6-5.6C29.5 35.9 26.9 37 24 37c-5.6 0-10.3-3.8-11.9-9l-6.9 5.3C8.9 41.1 15.9 45 24 45z",fill:"#4CAF50"}),b.jsx("path",{d:"M44.5 20H24v8.5h11.8c-.8 2.4-2.3 4.4-4.3 5.8l6.6 5.6C42.3 36.2 45 30.6 45 24c0-1.3-.2-2.7-.5-4z",fill:"#1976D2"})]})}async function lp(i,e={}){await pw(Qn(We,"users",i.uid),{uid:i.uid,displayName:i.displayName||e.displayName||"",email:i.email,role:"user",avatar:i.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${i.uid}`,bio:"",achievements:{contributions:0,helpful:0,solved:0},createdAt:iO(),...e})}function fV(){const[i,e]=L.useState(""),[n,s]=L.useState(""),[o,u]=L.useState(""),[h,m]=L.useState(!1),[p,g]=L.useState(""),[E,T]=L.useState(!1),[A,P]=L.useState(""),j=Ea(),G=async J=>{J.preventDefault(),g(""),T(!0);try{const ae=await wT(yr,n,o);await CC(ae.user,{displayName:i}),await lp(ae.user,{displayName:i}),j("/")}catch(ae){g(ae.message)}finally{T(!1)}},z=async()=>{g(""),P("google");try{const J=new dr,ae=await iE(yr,J);await lp(ae.user),j("/")}catch(J){g(J.message)}finally{P("")}},ie=async()=>{g(""),P("github");try{const J=new mr,ae=await iE(yr,J);await lp(ae.user),j("/")}catch(J){g(J.message)}finally{P("")}},ne=E||!!A;return b.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:b.jsxs("div",{className:"bg-white p-8 rounded-xl w-100 shadow-xl border border-gray-800",children:[b.jsx("h2",{className:"text-2xl font-bold text-start mb-6 text-black",children:"Create an account"}),p&&b.jsx("div",{className:"bg-red-500 text-white p-3 rounded mb-4 text-sm",children:p}),b.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-5",children:[b.jsxs("button",{type:"button",onClick:z,disabled:ne,className:"flex items-center justify-center gap-2 py-2.5 rounded-[11px] bg-blue-200 hover:bg-blue-300 text-blue-500 font-bold text-sm transition disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsx(hV,{}),A==="google"?"Connecting":"Google"]}),b.jsxs("button",{type:"button",onClick:ie,disabled:ne,className:"flex items-center justify-center gap-2 py-2.5 rounded-[11px] bg-blue-200 hover:bg-blue-300 text-blue-500 font-bold text-sm transition disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsx(cV,{className:"text-black text-[17px]"}),A==="github"?"Connecting":"Git Hub"]})]}),b.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[b.jsx("div",{className:"flex-1 "}),b.jsx("span",{className:"text-xs text-gray-500 font-bold tracking-widest",children:"Or"}),b.jsx("div",{className:"flex-1 "})]}),b.jsx("label",{className:"text-sm text-gray-700 font-bold",children:"Username"}),b.jsxs("form",{onSubmit:G,children:[b.jsx("input",{type:"text",placeholder:"Enter your name",value:i,onChange:J=>e(J.target.value),required:!0,disabled:ne,className:"w-full mt-1 pl-4 p-2 mb-4 rounded-[11px] text-gray-700 border border-blue-700 focus:border-blue-500 focus:border-2 focus:outline-none disabled:opacity-50"}),b.jsx("label",{className:"text-sm text-gray-700 font-bold",children:"Email"}),b.jsx("input",{type:"email",placeholder:"Enter your email",value:n,onChange:J=>s(J.target.value),required:!0,disabled:ne,className:"w-full mt-1 pl-4 p-2 mb-4 rounded-[11px] text-gray-700 border border-blue-700 focus:border-blue-500 focus:border-2 focus:outline-none disabled:opacity-50"}),b.jsx("div",{className:"flex items-center justify-between mb-1.5",children:b.jsx("label",{className:"text-sm text-gray-700 font-bold",children:"Password"})}),b.jsxs("div",{className:"relative mb-6",children:[b.jsx("input",{type:h?"text":"password",placeholder:"At least 6 characters",value:o,onChange:J=>u(J.target.value),required:!0,minLength:"6",disabled:ne,className:"w-full pl-4 p-2 pr-11 rounded-[11px] text-gray-700 border border-blue-700 focus:border-blue-500 focus:border-2 focus:outline-none disabled:opacity-50"}),b.jsx("button",{type:"button",onClick:()=>m(J=>!J),tabIndex:-1,"aria-label":h?"Hide password":"Show password",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-700 transition-colors",children:h?b.jsx(oV,{size:18}):b.jsx(uV,{size:18})})]}),b.jsx("button",{type:"submit",disabled:ne,className:"w-full py-3 rounded-[11px] bg-blue-500 hover:bg-blue-600 text-white font-semibold transition disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Creating Account...":"Create Account"})]}),b.jsxs("p",{className:"text-center mt-4 text-gray-400 text-sm",children:["Already have an account?"," ",b.jsx(it,{to:"/login",className:"text-blue-400 hover:text-blue-500 font-medium",children:"Log in"})]})]})})}function dV(){const[i]=qx(),e=i.get("q")||"",[n,s]=L.useState([]),[o,u]=L.useState(!0);return L.useEffect(()=>{(async()=>{if(!e.trim()){s([]),u(!1);return}try{u(!0);const m=qt(We,"questions"),g=(await Cn(m)).docs.map(A=>({id:A.id,...A.data()})),E=e.toLowerCase(),T=g.filter(A=>A.title?.toLowerCase().includes(E)||A.description?.toLowerCase().includes(E)||A.tags?.some(P=>P.toLowerCase().includes(E)));s(T)}catch(m){console.error("Error searching:",m)}finally{u(!1)}})()},[e]),b.jsx("div",{className:"min-h-screen bg-gray-950",children:b.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b.jsx("h1",{className:"text-3xl font-bold mb-2 text-white",children:"Search Results"}),b.jsx("p",{className:"text-gray-400 mb-8",children:o?"Searching...":`Found ${n.length} result${n.length!==1?"s":""} for "${e}"`}),o?b.jsx("div",{className:"space-y-4",children:[...Array(5)].map((h,m)=>b.jsx("div",{className:"h-32 bg-gray-800/50 rounded-lg animate-pulse"},m))}):n.length===0?b.jsxs("div",{className:"bg-gray-900 p-12 text-center rounded-xl border border-gray-800",children:[b.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"No questions found matching your search"}),b.jsx("p",{className:"text-gray-400 mb-6",children:"Try different keywords or"}),b.jsx(it,{to:"/ask",className:"inline-block px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg transition-colors",children:"Ask a Question"})]}):b.jsx("div",{className:"space-y-4",children:n.map(h=>b.jsx(Sw,{id:h.id,title:h.title,description:h.description,author:h.authorName,tags:h.tags||[],createdAt:h.createdAt,viewCount:h.viewCount||0,answerCount:h.answers||0,status:h.status||"open"},h.id))})]})})}function mV(){const{id:i}=XA();Ea();const{currentUser:e,userProfile:n}=Bo(),[s,o]=L.useState(null),[u,h]=L.useState([]),[m,p]=L.useState(!0),[g,E]=L.useState(""),[T,A]=L.useState(""),[P,j]=L.useState(!1),[G,z]=L.useState(new Set),[ie,ne]=L.useState(new Set),[J,ae]=L.useState("");L.useEffect(()=>{(async()=>{if(i)try{p(!0);const C=Qn(We,"questions",i),R=await jp(C);if(R.exists()){const D={id:R.id,...R.data()};o(D),await Eo(C,{viewCount:bh(1)});const k=qt(We,"answers"),I=Gn(k,us("questionId","==",i)),Ce=(await Cn(I)).docs.map(Q=>({id:Q.id,...Q.data()}));if(Ce.sort((Q,re)=>(re.lampCount||0)-(Q.lampCount||0)),h(Ce),e){const Q=new Set,re=new Set;Ce.forEach(M=>{M.userLamps&&M.userLamps[e.uid]&&Q.add(M.id)});const de=qt(We,"favorites"),De=Gn(de,us("userId","==",e.uid));(await Cn(De)).docs.forEach(M=>{re.add(M.data().answerId)}),z(Q),ne(re)}}}catch(C){console.error("Error fetching question:",C),ae("Failed to load question")}finally{p(!1)}})()},[i,e]);const ge=async x=>{if(x.preventDefault(),!e){alert("Please log in to post an answer");return}if(!g.trim()){ae("Answer cannot be empty");return}j(!0),ae("");try{const C=qt(We,"answers");await hb(C,{questionId:i,authorId:e.uid,authorName:n?.displayName||e.email,content:g.trim(),code:T.trim()||"",createdAt:Je.now(),updatedAt:Je.now(),comments:0,lampCount:0,userLamps:{}});const R=Qn(We,"questions",i);await Eo(R,{answers:bh(1)}),E(""),A("");const D=qt(We,"answers"),k=Gn(D,us("questionId","==",i)),Ve=(await Cn(k)).docs.map(Ce=>({id:Ce.id,...Ce.data()}));Ve.sort((Ce,Q)=>(Q.lampCount||0)-(Ce.lampCount||0)),h(Ve)}catch(C){console.error("Error posting answer:",C),ae("Failed to post answer")}finally{j(!1)}},ve=async x=>{if(!e){alert("Please log in to add a lamp");return}try{const C=Qn(We,"answers",x),D=(await jp(C)).data();if(G.has(x)){const Q={...D?.userLamps};delete Q[e.uid],await Eo(C,{userLamps:Q,lampCount:bh(-1)}),z(re=>{const de=new Set(re);return de.delete(x),de})}else await Eo(C,{[`userLamps.${e.uid}`]:!0,lampCount:bh(1)}),z(Q=>new Set(Q).add(x));const k=qt(We,"answers"),I=Gn(k,us("questionId","==",i)),Ce=(await Cn(I)).docs.map(Q=>({id:Q.id,...Q.data()}));Ce.sort((Q,re)=>(re.lampCount||0)-(Q.lampCount||0)),h(Ce)}catch(C){console.error("Error updating lamp:",C)}},N=async x=>{if(!e){alert("Please log in to save favorites");return}try{if(ie.has(x)){const C=qt(We,"favorites"),R=Gn(C,us("userId","==",e.uid),us("answerId","==",x));(await Cn(R)).docs.forEach(async k=>{await k.ref.delete()}),ne(k=>{const I=new Set(k);return I.delete(x),I})}else{const C=qt(We,"favorites");await hb(C,{userId:e.uid,answerId:x,addedAt:Je.now()}),ne(R=>new Set(R).add(x))}}catch(C){console.error("Error updating favorite:",C)}};return m?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-950",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),b.jsx("p",{className:"text-gray-400",children:"Loading..."})]})}):s?b.jsx("div",{className:"min-h-screen bg-gray-950 text-white",children:b.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b.jsxs(it,{to:"/",className:"inline-flex items-center gap-2 text-orange-400 hover:text-orange-300 mb-6",children:[b.jsx(QO,{size:18}),"Back to Questions"]}),b.jsxs("div",{className:"bg-gray-900 p-8 rounded-xl border border-gray-800 mb-8",children:[b.jsxs("div",{className:"flex items-start justify-between mb-4",children:[b.jsx("h1",{className:"text-3xl font-bold text-white flex-1",children:s.title}),b.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${s.status==="open"?"bg-blue-100 text-blue-800":s.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status})]}),b.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.tags?.map(x=>b.jsx("span",{className:"px-2 py-1 bg-gray-800 text-gray-300 rounded-full text-xs border border-gray-700",children:x},x))}),b.jsxs("div",{className:"text-sm text-gray-400 mb-6",children:["Asked by ",b.jsx("span",{className:"font-semibold text-gray-300",children:s.authorName})," "," ",wu(s.createdAt.toDate(),{addSuffix:!0}),"  ",s.viewCount," views"]}),b.jsxs("div",{className:"prose prose-invert max-w-none mb-6",children:[b.jsx("p",{className:"whitespace-pre-wrap text-gray-300",children:s.description}),s.code&&b.jsx("div",{className:"bg-gray-800 p-4 rounded-lg font-mono text-sm overflow-x-auto mt-4 text-gray-300",children:b.jsx("pre",{children:s.code})})]})]}),b.jsxs("div",{className:"mb-8",children:[b.jsxs("h2",{className:"text-2xl font-bold mb-6 text-white",children:[u.length," Answers"]}),b.jsx("div",{className:"space-y-6",children:u.map(x=>b.jsx("div",{className:"bg-gray-900 p-6 rounded-xl border border-gray-800",children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("button",{onClick:()=>ve(x.id),className:`flex flex-col items-center gap-1 px-2 py-2 rounded transition ${G.has(x.id)?"bg-orange-500 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-300"}`,title:"Mark as helpful",children:[b.jsx(iM,{size:20}),b.jsx("span",{className:"text-xs font-semibold",children:x.lampCount||0})]}),b.jsx("button",{onClick:()=>N(x.id),className:`flex flex-col items-center gap-1 px-2 py-2 rounded transition ${ie.has(x.id)?"bg-red-500 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-300"}`,title:"Save to favorites",children:b.jsx(JO,{size:20})})]}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"prose prose-invert max-w-none mb-4",children:[b.jsx("p",{className:"whitespace-pre-wrap text-gray-300",children:x.content}),x.code&&b.jsx("div",{className:"bg-gray-800 p-4 rounded-lg font-mono text-sm overflow-x-auto mt-4",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsx("pre",{className:"flex-1 text-gray-300",children:x.code}),b.jsx("button",{onClick:()=>{navigator.clipboard.writeText(x.code),alert("Code copied!")},className:"ml-2 p-2 bg-orange-500 hover:bg-orange-600 text-white rounded flex-shrink-0",title:"Copy code",children:b.jsx($O,{size:16})})]})})]}),b.jsxs("div",{className:"text-sm text-gray-400",children:["Answered by ",b.jsx("span",{className:"font-semibold text-gray-300",children:x.authorName})," "," ",wu(x.createdAt.toDate(),{addSuffix:!0})]})]})]})},x.id))})]}),e?b.jsxs("div",{className:"bg-gray-900 p-8 rounded-xl border border-gray-800",children:[b.jsx("h2",{className:"text-xl font-bold mb-6 text-white",children:"Your Answer"}),J&&b.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:J}),b.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold mb-2 text-gray-300",children:"Solution"}),b.jsx("textarea",{value:g,onChange:x=>E(x.target.value),placeholder:"Share your solution...",className:"w-full min-h-32 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",disabled:P})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold mb-2 text-gray-300",children:"Code (Optional)"}),b.jsx("textarea",{value:T,onChange:x=>A(x.target.value),placeholder:"Paste your code here...",className:"w-full min-h-24 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",disabled:P})]}),b.jsx("button",{type:"submit",className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",disabled:P,children:P?"Posting...":"Post Answer"})]})]}):b.jsxs("div",{className:"bg-gray-900 p-8 rounded-xl border border-gray-800 text-center",children:[b.jsx("p",{className:"text-gray-400 mb-4",children:"Sign in to post an answer"}),b.jsx(it,{to:"/login",className:"inline-block px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg",children:"Log In"})]})]})}):b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-950",children:b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"Question not found"}),b.jsx(it,{to:"/",className:"inline-block px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg",children:"Back to Questions"})]})})}function pV(){const{userProfile:i,isAdmin:e}=Bo(),[n,s]=L.useState({totalUsers:0,totalQuestions:0,totalAnswers:0,totalMessages:0}),[o,u]=L.useState([]),[h,m]=L.useState([]),[p,g]=L.useState([]),[E,T]=L.useState([]),[A,P]=L.useState(!0),[j,G]=L.useState(null),[z,ie]=L.useState(!1),[ne,J]=L.useState(null),[ae,ge]=L.useState("activity");L.useEffect(()=>{const R=async()=>{try{P(!0);const k=(await Cn(qt(We,"users"))).docs.map(ye=>({id:ye.id,...ye.data()}));u(k);const Ve=(await Cn(Gn(qt(We,"questions"),cu("createdAt","desc")))).docs.map(ye=>({id:ye.id,...ye.data()}));m(Ve);const Q=(await Cn(Gn(qt(We,"answers"),cu("createdAt","desc")))).docs.map(ye=>({id:ye.id,...ye.data()}));g(Q);const de=(await Cn(qt(We,"messages"))).docs.map(ye=>ye.data());s({totalUsers:k.length,totalQuestions:Ve.length,totalAnswers:Q.length,totalMessages:de.length});const De=[];Ve.slice(0,5).forEach(ye=>{De.push({id:ye.id,type:"question",title:ye.title||"Untitled",author:ye.authorName||"Anonymous",timestamp:ye.createdAt})}),Q.slice(0,5).forEach(ye=>{De.push({id:ye.id,type:"answer",title:(ye.content||"").substring(0,50)+"...",author:ye.authorName||"Anonymous",timestamp:ye.createdAt})}),De.sort((ye,M)=>{const Z=ye.timestamp?.seconds||0;return(M.timestamp?.seconds||0)-Z}),T(De)}catch(D){console.error("Error fetching admin data:",D)}finally{P(!1)}};if(e&&R(),e){const D=rp(qt(We,"questions"),()=>{R()}),k=rp(qt(We,"answers"),()=>{R()}),I=rp(qt(We,"users"),()=>{R()});return()=>{D(),k(),I()}}},[e]);const ve=async R=>{try{await ip(Qn(We,"questions",R)),m(D=>D.filter(k=>k.id!==R)),J(null)}catch(D){console.error("Error deleting question:",D)}},N=async R=>{try{await ip(Qn(We,"answers",R)),g(D=>D.filter(k=>k.id!==R)),J(null)}catch(D){console.error("Error deleting answer:",D)}},x=async R=>{try{await ip(Qn(We,"users",R)),u(D=>D.filter(k=>k.id!==R)),J(null),ie(!1)}catch(D){console.error("Error deleting user:",D)}},C=async(R,D)=>{try{await Eo(Qn(We,"users",R),{role:D}),u(k=>k.map(I=>I.id===R?{...I,role:D}:I))}catch(k){console.error("Error changing user role:",k)}};return e?A?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-950",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),b.jsx("p",{className:"text-gray-400",children:"Loading dashboard..."})]})}):b.jsx("div",{className:"min-h-screen bg-gray-950 text-white",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Admin Dashboard"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[b.jsx("div",{className:"bg-gradient-to-br from-blue-900/50 to-blue-800/50 border border-blue-700 p-6 rounded-xl",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-blue-300 mb-1",children:"Total Users"}),b.jsx("p",{className:"text-3xl font-bold text-blue-400",children:n.totalUsers})]}),b.jsx(rM,{className:"w-12 h-12 text-blue-700"})]})}),b.jsx("div",{className:"bg-gradient-to-br from-orange-900/50 to-orange-800/50 border border-orange-700 p-6 rounded-xl",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-orange-300 mb-1",children:"Total Questions"}),b.jsx("p",{className:"text-3xl font-bold text-orange-400",children:n.totalQuestions})]}),b.jsx(WO,{className:"w-12 h-12 text-orange-700"})]})}),b.jsx("div",{className:"bg-gradient-to-br from-green-900/50 to-green-800/50 border border-green-700 p-6 rounded-xl",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-green-300 mb-1",children:"Total Answers"}),b.jsx("p",{className:"text-3xl font-bold text-green-400",children:n.totalAnswers})]}),b.jsx(tM,{className:"w-12 h-12 text-green-700"})]})}),b.jsx("div",{className:"bg-gradient-to-br from-purple-900/50 to-purple-800/50 border border-purple-700 p-6 rounded-xl",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-purple-300 mb-1",children:"Total Messages"}),b.jsx("p",{className:"text-3xl font-bold text-purple-400",children:n.totalMessages})]}),b.jsx(YO,{className:"w-12 h-12 text-purple-700"})]})})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"flex gap-2 border-b border-gray-800 pb-4",children:["activity","users","questions","answers"].map(R=>b.jsx("button",{onClick:()=>ge(R),className:`px-4 py-2 rounded-lg font-medium transition ${ae===R?"bg-orange-500 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-300"}`,children:R.charAt(0).toUpperCase()+R.slice(1)},R))}),ae==="activity"&&b.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-xl",children:[b.jsx("h2",{className:"text-xl font-bold mb-4",children:"Recent Activity"}),b.jsx("div",{className:"space-y-3",children:E.length===0?b.jsx("p",{className:"text-gray-400",children:"No recent activity"}):E.map(R=>b.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:b.jsxs("div",{className:"flex-1",children:[b.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold mb-2 ${R.type==="question"?"bg-orange-500/20 text-orange-400":R.type==="answer"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"}`,children:R.type}),b.jsx("p",{className:"font-semibold truncate text-white",children:R.title}),b.jsxs("p",{className:"text-sm text-gray-400",children:["by ",R.author," "," ",R.timestamp?.toDate?wu(R.timestamp.toDate(),{addSuffix:!0}):"Recently"]})]})},R.id))})]}),ae==="users"&&b.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-xl overflow-x-auto",children:[b.jsx("h2",{className:"text-xl font-bold mb-4",children:"User Management"}),b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{className:"border-b border-gray-800",children:b.jsxs("tr",{children:[b.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Name"}),b.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Email"}),b.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Role"}),b.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Joined"}),b.jsx("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Actions"})]})}),b.jsx("tbody",{children:o.map(R=>b.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50 transition",children:[b.jsx("td",{className:"py-3 text-white",children:R.displayName}),b.jsx("td",{className:"py-3 text-gray-300",children:R.email}),b.jsx("td",{className:"py-3",children:b.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${R.role==="admin"?"bg-orange-500/20 text-orange-400":"bg-gray-700 text-gray-300"}`,children:R.role})}),b.jsx("td",{className:"py-3 text-xs text-gray-400",children:R.createdAt?.toDate?wu(R.createdAt.toDate(),{addSuffix:!0}):"Unknown"}),b.jsxs("td",{className:"py-3 flex gap-2",children:[b.jsx("button",{className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-gray-300",onClick:()=>{G(R),ie(!0)},children:b.jsx(ww,{size:16})}),b.jsx("button",{className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-red-400",onClick:()=>J({type:"user",id:R.id}),children:b.jsx(ap,{size:16})})]})]},R.id))})]})]}),ae==="questions"&&b.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-xl",children:[b.jsx("h2",{className:"text-xl font-bold mb-4",children:"Questions Moderation"}),b.jsx("div",{className:"space-y-3",children:h.slice(0,10).map(R=>b.jsxs("div",{className:"flex items-start justify-between p-4 border border-gray-800 rounded-lg hover:bg-gray-800/50 transition",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-white",children:R.title}),b.jsxs("p",{className:"text-sm text-gray-400",children:["by ",R.authorName,"  ",R.answers||0," answers "," ",R.viewCount||0," views"]})]}),b.jsx("button",{className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-red-400",onClick:()=>J({type:"question",id:R.id}),children:b.jsx(ap,{size:16})})]},R.id))})]}),ae==="answers"&&b.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-xl",children:[b.jsx("h2",{className:"text-xl font-bold mb-4",children:"Answers Moderation"}),b.jsx("div",{className:"space-y-3",children:p.slice(0,10).map(R=>b.jsxs("div",{className:"flex items-start justify-between p-4 border border-gray-800 rounded-lg hover:bg-gray-800/50 transition",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"font-semibold line-clamp-2 text-white",children:R.content}),b.jsxs("p",{className:"text-sm text-gray-400",children:["by ",R.authorName,"  ",R.lampCount||0," lamps"]})]}),b.jsx("button",{className:"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-red-400",onClick:()=>J({type:"answer",id:R.id}),children:b.jsx(ap,{size:16})})]},R.id))})]})]}),z&&j&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 max-w-md w-full mx-4",children:[b.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:j.displayName}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-semibold text-gray-300",children:"Email"}),b.jsx("p",{className:"text-sm text-gray-400",children:j.email})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-semibold text-gray-300",children:"Role"}),b.jsxs("div",{className:"flex gap-2 mt-2",children:[b.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition ${j.role==="user"?"bg-orange-500 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,onClick:()=>C(j.id,"user"),children:"User"}),b.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition ${j.role==="admin"?"bg-orange-500 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,onClick:()=>C(j.id,"admin"),children:"Admin"})]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-semibold text-gray-300",children:"Stats"}),b.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-sm",children:[b.jsxs("div",{className:"bg-gray-800 p-2 rounded",children:[b.jsx("p",{className:"font-semibold text-white",children:j.achievements?.solved||0}),b.jsx("p",{className:"text-xs text-gray-400",children:"Questions"})]}),b.jsxs("div",{className:"bg-gray-800 p-2 rounded",children:[b.jsx("p",{className:"font-semibold text-white",children:j.achievements?.contributions||0}),b.jsx("p",{className:"text-xs text-gray-400",children:"Answers"})]}),b.jsxs("div",{className:"bg-gray-800 p-2 rounded",children:[b.jsx("p",{className:"font-semibold text-white",children:j.achievements?.helpful||0}),b.jsx("p",{className:"text-xs text-gray-400",children:"Lamps"})]})]})]}),b.jsxs("div",{className:"flex gap-2 pt-4",children:[b.jsx("button",{onClick:()=>ie(!1),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white font-semibold py-2 rounded-lg",children:"Close"}),b.jsx("button",{onClick:()=>{J({type:"user",id:j.id}),ie(!1)},className:"flex-1 bg-gray-800 hover:bg-gray-700 text-red-400 font-semibold py-2 rounded-lg",children:"Delete"})]})]})]})}),ne&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 max-w-md w-full mx-4",children:[b.jsx("h3",{className:"text-xl font-bold mb-2 text-white",children:"Confirm Delete"}),b.jsxs("p",{className:"text-gray-400 mb-6",children:["Are you sure you want to delete this ",ne.type,"? This action cannot be undone."]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{className:"flex-1 bg-gray-800 hover:bg-gray-700 text-white font-semibold py-2 rounded-lg",onClick:()=>J(null),children:"Cancel"}),b.jsx("button",{className:"flex-1 bg-red-500/20 hover:bg-red-500/30 text-red-400 font-semibold py-2 rounded-lg border border-red-500/30",onClick:()=>{ne.type==="user"?x(ne.id):ne.type==="question"?ve(ne.id):ne.type==="answer"&&N(ne.id)},children:"Delete"})]})]})})]})}):b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-950",children:b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"text-gray-400 text-lg",children:"Access Denied"}),b.jsx("p",{className:"text-gray-500",children:"You do not have permission to access this page."})]})})}function gV({children:i}){const{currentUser:e,loading:n}=Bo();return n?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-950",children:b.jsx("div",{className:"text-white",children:"Loading..."})}):e?i:b.jsx(cx,{to:"/login"})}function Sh({children:i,className:e=""}){return b.jsx("div",{className:`bg-white border rounded-xl shadow ${e}`,children:i})}function up({children:i,className:e="",...n}){return b.jsx("button",{className:`px-4 py-2 rounded bg-blue-600 text-white ${e}`,...n,children:i})}const yV=({children:i,className:e,...n})=>b.jsx("div",{className:`avatar ${e}`,...n,children:i}),_V=({src:i,alt:e,...n})=>b.jsx("img",{src:i,alt:e,className:"avatar-image",...n}),vV=({children:i,...e})=>b.jsx("div",{className:"avatar-fallback",...e,children:i});function EV(){const{currentUser:i,userProfile:e,logout:n,loading:s}=Bo(),[o,u]=L.useState(!1),[h,m]=L.useState(""),[p,g]=L.useState(""),[E,T]=L.useState(!1),[A,P]=L.useState([]),[j,G]=L.useState([]);L.useEffect(()=>{e&&(m(e.displayName),g(e.bio||""))},[e]),L.useEffect(()=>{(async()=>{if(!i)return;const J=await Cn(Gn(qt(We,"questions"),us("authorId","==",i.uid)));P(J.docs.map(ge=>({id:ge.id,...ge.data()})));const ae=await Cn(Gn(qt(We,"answers"),us("authorId","==",i.uid)));G(ae.docs.map(ge=>({id:ge.id,...ge.data()})))})()},[i]);const z=async()=>{if(!(!i||!h.trim())){T(!0);try{await Eo(Qn(We,"users",i.uid),{displayName:h.trim(),bio:p.trim()}),u(!1)}finally{T(!1)}}};if(s||!e)return b.jsx("div",{className:"text-center py-20 text-white",children:"Loading user data..."});const ie=ne=>ne?.split(" ").map(J=>J[0]).join("").toUpperCase().slice(0,2);return b.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:b.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[b.jsxs(Sh,{className:"p-6 rounded-2xl shadow-sm border bg-white mb-6",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[b.jsxs(yV,{className:"w-20 h-20",children:[b.jsx(_V,{src:e?.avatar}),b.jsx(vV,{className:"text-xl font-bold bg-indigo-100 text-indigo-600",children:ie(e?.displayName||"User")})]}),b.jsx("div",{className:"flex-1",children:o?b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{value:h,onChange:ne=>m(ne.target.value),className:"text-2xl font-bold",disabled:E}),b.jsx("textarea",{value:p,onChange:ne=>g(ne.target.value),placeholder:"Tell us about yourself...",disabled:E})]}):b.jsxs(b.Fragment,{children:[b.jsx("h1",{className:"text-2xl font-bold",children:e?.displayName}),b.jsx("p",{className:"text-gray-500 text-sm",children:e?.email}),p&&b.jsx("p",{className:"text-sm mt-2 text-gray-700",children:p})]})}),o?b.jsxs(up,{onClick:z,disabled:E,children:[b.jsx(nM,{className:"mr-2"})," Save"]}):b.jsxs(up,{variant:"outline",onClick:()=>u(!0),children:[b.jsx(XO,{className:"mr-2"})," Edit"]})]}),b.jsxs("div",{className:"mt-6",children:[b.jsxs("div",{className:"flex justify-between text-sm mb-1 text-gray-600",children:[b.jsx("span",{children:"Level 12"}),b.jsx("span",{children:"720 / 1000 XP"})]}),b.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full w-[72%] bg-gradient-to-r from-blue-500 to-purple-500"})})]})]}),b.jsxs(Sh,{className:"p-6 rounded-2xl shadow-sm border bg-white mb-6",children:[b.jsx("h2",{className:"font-semibold text-black mb-4",children:"Badges"}),b.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[b.jsx(cp,{value:"3",label:"Gold",color:"amber"}),b.jsx(cp,{value:"8",label:"Silver",color:"gray"}),b.jsx(cp,{value:"15",label:"Bronze",color:"orange"})]})]}),b.jsxs(Sh,{className:"p-6 rounded-2xl shadow-sm border bg-white  mb-6",children:[b.jsx("h2",{className:"font-semibold mb-4 text-black",children:"Stats"}),b.jsxs("div",{className:"grid grid-cols-4 gap-4 text-black text-center",children:[b.jsx(Ah,{value:"4,720",label:"XP Earned"}),b.jsx(Ah,{value:A.length,label:"Questions"}),b.jsx(Ah,{value:j.length,label:"Answers"}),b.jsx(Ah,{value:"12",label:"Challenges"})]})]}),b.jsxs(Sh,{className:"p-6 rounded-2xl shadow-sm border bg-white",children:[b.jsxs("div",{className:"flex gap-6 border-b mb-6 pb-2 text-sm font-medium",children:[b.jsx("span",{className:"text-blue-600 border-b-2 border-blue-600 pb-2",children:"Questions"}),b.jsx("span",{className:"text-gray-500",children:"Answers"}),b.jsx("span",{className:"text-gray-500",children:"Achievements"}),b.jsx("span",{className:"text-gray-500",children:"Activity"})]}),A.length===0?b.jsx("p",{className:"text-center text-gray-500 py-10",children:"Questions content coming soon..."}):A.map(ne=>b.jsx(it,{to:`/question/${ne.id}`,children:b.jsx("div",{className:"p-4 rounded-lg border hover:bg-gray-50 mb-3",children:b.jsx("h3",{className:"font-semibold",children:ne.title})})},ne.id))]}),b.jsx("div",{className:"text-center mt-8",children:b.jsx(up,{variant:"outline",onClick:n,className:"text-red-600 border-red-300",children:"Logout"})})]})})}function Ah({value:i,label:e}){return b.jsxs("div",{className:"bg-gray-100 rounded-xl p-4",children:[b.jsx("div",{className:"text-xl font-bold",children:i}),b.jsx("div",{className:"text-xs text-gray-500",children:e})]})}function cp({value:i,label:e,color:n}){const s={yellow:"bg-yellow-50 text-yellow-600",gray:"bg-gray-100 text-gray-700",orange:"bg-orange-50 text-orange-600"};return b.jsxs("div",{className:`p-4 rounded-xl border ${s[n]}`,children:[b.jsx("div",{className:"text-2xl font-bold",children:i}),b.jsx("div",{className:"text-sm text-gray-500",children:e})]})}function bV(){return b.jsx(Lx,{children:b.jsxs(UO,{children:[b.jsx(aM,{}),b.jsx("main",{className:"min-h-screen bg-gray-950 text-white p-6",children:b.jsxs(fx,{children:[b.jsx(ls,{path:"/",element:b.jsx(ZM,{})}),b.jsx(ls,{path:"/login",element:b.jsx(eV,{})}),b.jsx(ls,{path:"/signup",element:b.jsx(fV,{})}),b.jsx(ls,{path:"/search",element:b.jsx(dV,{})}),b.jsx(ls,{path:"/question/:id",element:b.jsx(mV,{})}),b.jsx(ls,{path:"/profile",element:b.jsx(gV,{children:b.jsx(EV,{})})}),b.jsx(ls,{path:"/admin",element:b.jsx(pV,{})})]})}),b.jsx(oM,{})]})})}dA.createRoot(document.getElementById("root")).render(b.jsx(ds.StrictMode,{children:b.jsx(bV,{})}));
